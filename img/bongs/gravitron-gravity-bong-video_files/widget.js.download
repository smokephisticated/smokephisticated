function EndlessScroll(t){function e(t,e,i,s,r,a){this.page=1,this.per_page=t,this._controller=e,this.loader=i,this.inviewCallbackFunction=s,this.isButton=r,this.loadIndicator=a,o.call(this),n.call(this)}function o(){if(this.isButton){var e=this;t.addEventListener(this.loader,"click",function(){e.loadIndicator&&(t.addClass(e.loader,"yotpo-hidden"),t.removeClass(e.loadIndicator,"yotpo-hidden")),e.inviewCallbackFunction.call(e)})}}function n(){this.isButton?this.loadIndicator&&(t.addClass(this.loadIndicator,"yotpo-hidden"),t.removeClass(this.loader,"yotpo-hidden")):t.currentInview.register(this.loader,this.inviewCallbackFunction)}function i(t){this.batchCallbackFunction(t),n.call(this)}return e.prototype.getNextPage=function(t,e){this.batchCallbackFunction=e,this.page++,t.params||(t.params={}),t.params.page=this.page,t.params.per_page=this.per_page,this._controller.getBatch(i.bind(this),[t])},e.prototype.ignoreLoader=function(e){e?t.addClass(this.loader,"yotpo-ignore-inview"):t.removeClass(this.loader,"yotpo-ignore-inview")},e}function Room(t){this.me=t.me,this.signalServer=t.signalServer,this.iceServers=t.iceServers,this.id,this.signal,this.stream,this.peers={},this.channels={},this.handles={}}Yotpo=function(){function t(e,o){if(this.appKey=e,this.userSettings=o,this.widgets=[],this.shouldInitialize=!0,this.initialized=!1,this.allWidgetsReadyCallback=[],!this.userSettings.load_only_widgets_on_page||this.userSettings.load_css_async){var n=y.call(this);n||v.call(this)}b.call(this),"undefined"!=typeof yotpoTrackConversionData&&(u.call(this),t.Libraries.Tracker.trackConversionOrder(e,yotpoTrackConversionData),this.shouldInitialize=!1)}function e(){var e=this;t.forEach(Object.keys(t.widgets),function(t){l.call(e,t)})}function o(){var e=s(this.userSettings.testimonials),o=r.call(this,e,this.userSettings.load_css_async),a=this.userSettings.load_css_async;a?t.loadScript(o,document.body,i.bind(this)):n.call(this,o)}function n(e){var o=this;t.ajax(e,function(e){if(!e)return void t.safeConsole("Missing widgets data");var n=JSON.parse(e);a.call(o,n.JsContent,n.CssContent),i.call(o)})}function i(){e.call(this),this.getWidgets().length>0&&g.call(this)}function s(e){var o=e?["testimonials"]:[];return t.forEach(Object.keys(t.widgets),function(e){var n=t.widgets[e].selector;document.querySelector(n)&&o.push(e)}),o}function r(e){var o,n=this.userSettings.load_css_async?".js":".json",i=t.getWidgetHost(this.getUserSetting("host"))+"/"+this.getAppKey()+"/widget_loader"+n;this.getUserSetting("version")&&(i+="?widget_version="+this.getUserSetting("version"),o=!0);var s=e.sort().join(",");return i+=o?"&widgets="+s:"?widgets="+s,this.userSettings.load_css_async&&(i+="&load_only_js=true"),i}function a(e,o){t.injectScript(e,document.body);var n=!y.call(this);n&&t.injectCSS(o,document.body)}function l(e){try{if(t.Widgets)for(var o=t.Widgets[t.camelize(e)]||t.Widgets.Basic,n=document.querySelectorAll(o.selector||".yotpo."+e),i=0;i<n.length;++i)t.Element.get(n[i]).is("new")&&this.addWidget(new o(this,n[i],e));!n.length&&"undefined"!=typeof o.createsElement&&o.createsElement(this.getUserSettings())&&this.addWidget(new o(this))}catch(s){t.safeConsole(s.message)}}function c(){this.pageSku&&this.productName&&this.getUserSetting("widget_rich_snippet")&&this.getBatch(function(t){t=JSON.parse(t);var e=t[0].result;document.getElementsByTagName("head")[0].insertAdjacentHTML("afterbegin",e)},[{method:"rich_snippet",params:{pid:this.pageSku,name:this.productName,price:this.productPrice,currency:this.productCurrency}}])}function d(){var t=document.querySelectorAll(".yotpo-user-reference");t.length&&(this.userReference=t[0].getAttribute("data-user-reference"))}function u(){this.analytics=new t.Analytics(this),t.currentAnalytics=this.analytics,this.inview=new t.Inview(this),t.currentInview=this.inview,t.hoverAnalytics=new t.HoverIntervalEvent({interval:1e3}),t.testingGroupsHandler=new t.TestingGroupsHandler(this),t.currentAnalytics.trackPageView()}function p(){for(var e,o,n,i=document.querySelectorAll(t.widgets.main.selector),s=0;s<i.length;s++)if(n=i[s],o=n.getAttribute("data-product-id"),e="undefined"==typeof e?o:e,e!==o){e=void 0;break}e&&(this.pageSku=e,this.productName=n.getAttribute("data-name"),this.productPrice=n.getAttribute("data-price"),this.productCurrency=n.getAttribute("data-currency"))}function g(){var e=this,o=[];t.forEach(e.getWidgets(),function(e){return e.is("initialized")||e.is("processing")?void t.testingGroupsHandler.setSeoClient(!0):(e.state("processing"),void o.push({method:e.getMethod(),params:e.getSettings()}))}),t.testingGroupsHandler.initialize(),e.getBatch(function(o){h.call(e,o),f.call(e),t.addEventListener(window,"resize",function(){m.call(e);for(var t=e.getWidgets(),o=0;o<t.length;o++)t[o].trigger("resize")}),e.trigger("ready")},o,C)}function h(e){var o=[];try{o=JSON.parse(e);for(var n=-1,i=0;i<o.length;i++)if("main_widget"==o[i].method){n=i;break}if(n>=0){var s=document.createElement("div");s.innerHTML=o[n].result,s.getElementsByClassName("yotpo-promoted-product").length>0&&(w(s.getElementsByClassName("yotpo-promoted-product")),o[n].result=s.innerHTML)}}catch(r){t.safeConsole(r.message)}for(var a=this.getWidgets(),i=0;i<a.length;i++){var l=a[i];if(l.getElement()){if(!l.is("initialized")){var c=o.shift();c&&(l.getElement().innerHTML=c.result)}l.is("initialized")&&!l.is("ready")&&(l.trigger("ready"),l.state("ready"))}else t.safeConsole("Div not found in the Dom.")}}function m(){t.forEach(this.getWidgets(),function(e){var o,n,i,s,r="";for(n=e.getLayout(),i=s=e.getElement();s&&0==(o=s.offsetWidth);)s=s.parentNode;if("old"===n)t.removeClass(i,"yotpo-medium"),t.removeClass(i,"yotpo-small"),510>=o?r="yotpo-small":655>=o&&(r="yotpo-medium"),""!=r&&t.addClass(i,r),e.trigger("sizeCalculated",r);else if("new"===n){var a=t.Helpers.WidthClass.getWidgetWidthClasses();r=t.Helpers.WidthClass.getWidgetWidthClass(o),t.hasClass(i,r)||(t.removeClassList(i,a),t.addClass(i,r)),e.trigger("sizeCalculated",r)}})}function f(){var e=this,o=document.getElementsByClassName("yotpo-display-wrapper")[0];"undefined"==typeof o||"visible"==t.getVisibilityStyle(o)?m.call(e):setTimeout(function(){f.call(e)},50)}function y(){var t=this.getUserSetting("css_custom_host");if(!t)return!1;for(var e=document.styleSheets,o=0;o<e.length;++o)if(e[o].href){var n=e[o].href.replace(/https?:\/\//,"");if(n.indexOf(t)>-1)return!0}return!1}function v(){var e=t.getWidgetHost(this.getUserSettings().host)+"/"+this.getAppKey()+"/widget.css?widget_version="+this.getUserSetting("version"),o=this.getUserSetting("demo"),n=this.getUserSetting("info");"undefined"!=typeof o&&(e+="&demo=true"),"undefined"!=typeof n&&(e+="&info="+window.encodeURIComponent(n));var i=document.getElementsByTagName("head")[0],s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=e,i.appendChild(s)}function w(t){for(var e=[],o=0;o<t.length;o++)""!=t[o].dataset.position&&(e[o]=t[o].dataset.position);var n=!1,i=e.reduce(function(t,e){return"undefined"==typeof t[e]?t[e]=1:(t[e]+=1,n=!0),t},{});if(n){var s={};for(var r in i)s[r]=1==i[r]?1:Math.floor(Math.random()*i[r])+1;for(var a=0,o=0;o<t.length;o++)0==o||t[o].dataset.position!=t[o-1].dataset.position?a=1:a+=1,s[t[o].dataset.position]!=a&&(t[o].dataset.to_delete=!0);for(var o=t.length-1;o>=0;o--)t[o].dataset.to_delete&&t[o].parentNode.remove()}}function b(){var e=this.getUserSetting("ads"),o=this.getUserSetting("facebook_ads");if(e&&o&&parseInt(o.settings.pixel_id)&&1==o.settings.init_pixel){var n="undefined"!=typeof yotpoTrackConversionData?yotpoTrackConversionData:null;t.Libraries.Tracker.fbTracking(o.settings,n)}}function _(){var e=this;t.forEach(["ready"],function(t){e.on(t,function(){e.setState(t)})})}function C(){for(var t=0;t<this.allWidgetsReadyCallback.length;t++)this.allWidgetsReadyCallback[t].call()}return t.batchType="POST",t.isIE10OrLess=-1!=navigator.userAgent.indexOf("MSIE"),t.isIE8=t.isIE10OrLess&&8==parseInt(navigator.userAgent.toLowerCase().split("msie")[1]),t.isIEEdge=/Edge\/12./i.test(navigator.userAgent),t.isIE11=navigator.userAgent.indexOf("Trident/7.0")>0,t.isIEFamily=t.isIE10OrLess||t.isIE11||t.isIEEdge,t.dynamicCreateType="POST",t.globals={},t.hosts={widget:{dynamic:"w2.yotpo.com","static":"staticw2.yotpo.com"},api:{dynamic:"api.yotpo.com"},b2b:{dynamic:"my.yotpo.com"},reviews_me:{dynamic:"reviews.me"},base:{dynamic:"yotpo.com"}},t.getWidgetHost=function(t){return"//"+(this.hosts.widget[t]||this.hosts.widget["static"])},t.getApiHost=function(t){return"//"+(this.hosts.api[t]||this.hosts.api.dynamic)},t.texts={},t.widgets={main:{selector:".yotpo.yotpo-main-widget"},bottomline:{selector:".yotpo.bottomLine"},embedded:{selector:".yotpo.embedded-widget"},badge:{selector:".yotpo.badge,.yotpo.yotpo-badge"},"questions-bottomline":{selector:".yotpo.QABottomLine"},carousels:{selector:".yotpo.yotpo-reviews-carousel"},slider:{selector:".yotpo.yotpo-slider"},"visual-carousel":{selector:".yotpo.yotpo-visual-carousel"},"pictures-gallery":{selector:".yotpo.yotpo-pictures-gallery"},"pictures-widget":{selector:".yotpo.yotpo-pictures-widget"},"shoppable-gallery":{selector:".yotpo.yotpo-shoppable-gallery"},testimonials:{selector:"#yotpo-testimonials-custom-tab,.yotpo.testimonials"},"single-video":{selector:".yotpo.yotpo-single-video"},"shop-advisor":{selector:".yotpo.y-shop-advisor"}},t.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},t.prototype.onAllWidgetsReady=function(t){this.allWidgetsReadyCallback.push(t)},t.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){return this.state},t.prototype.getWidgetByName=function(e){var o=null;return t.forEach(this.getWidgets(),function(n){t.Widgets[e]&&n instanceof t.Widgets[e]&&(o=n)}),o},t.prototype.getWidgetsByName=function(e){var o=[];return t.forEach(this.getWidgets(),function(n){n instanceof t.Widgets[e]&&o.push(n)}),o},t.prototype.getWidgetsByNames=function(e){var o=[];return t.forEach(this.getWidgets(),function(n){for(var i=0;i<e.length;i++)n instanceof t.Widgets[e[i]]&&o.push(n)}),o},t.prototype.getAppKey=function(){return this.appKey},t.prototype.getUserSettings=function(){return this.userSettings},t.prototype.getUserSetting=function(t){return this.userSettings[t]},t.prototype.getWidgets=function(){return this.widgets},t.prototype.getTrustedVendorsData=function(){var t={},e={"data-user-name":"display_name","data-user-email":"email","data-signature":"signature","data-time-stamp":"time_stamp","data-reviewer-type":"reviewer_type","data-reviewer-badge":"reviewer_badge"},o=document.querySelectorAll(".yotpo-signed-data")[0];if(o)for(var n in e){var i=o.getAttribute(n);i&&(t[e[n]]=i)}return t},t.prototype.addWidget=function(e){this.widgets.push(e),t.Element.get(e.getElement()).set("state","initialized")},t.prototype.getUserReference=function(){return this.userReference},t.prototype.getBatch=function(e,o,n){function i(t,o){var i=o.page,r=[];u+=1,d[i]=t.substring(0,t.length-1).substring(1),u==c&&(r="["+d.join(",")+"]",e(r),n&&n.call(s))}var s=this;if(!o)return t.safeConsole("getBatch: no methods provided"),!1;if(o.length>0)for(var r,a,l=t.maxBatchMethods,c=Math.ceil(o.length/l),d=[],u=0,p=0,g=o.length;g>p;p+=l){var h=t.getWidgetHost(this.getUserSetting("host"))+"/batch";r=o.slice(p,p+l),a={methods:JSON2.stringify(r),app_key:this.getAppKey(),is_mobile:t.isMobile(),widget_version:this.getUserSetting("version")};var m;t.testingGroupsHandler&&(m=t.testingGroupsHandler.getTestingGroupsForServer()),m&&(a.features_testing_groups=JSON.stringify(m)),"undefined"!=typeof this.getUserSetting("demo")&&"undefined"!=typeof this.getUserSetting("info")&&(a.info=this.getUserSetting("info"),a.demo=!0),a=t.convertHashToQueryStringParams(a),"GET"==t.batchType&&(h+="?"+a),t.ajax(h,i,t.batchType,a,{page:p/l})}else e.call(this,"[]"),n&&n.call(this)},t.prototype.init=function(){return!this.initialized&&this.shouldInitialize&&(this.initialized=!0,t.Element.clear(),p.call(this),c.call(this),u.call(this),_.call(this),this.userSettings.load_only_widgets_on_page?o.call(this):this.initWidgets(),d.call(this)),this},t.prototype.initWidgets=function(){e.call(this),g.call(this)},t.prototype.clean=function(){t.forEach(this.getWidgets(),function(t){for(var e=t.getElement();e.hasChildNodes();)e.removeChild(e.firstChild)})},t.prototype.updateContent=function(){this.clean(),g.call(this)},t.prototype.refreshWidgets=function(){this.inview.unbindEvents(),this.clean(),this.widgets=[],this.allWidgetsReadyCallback=[],this.initialized=!1,this.shouldInitialize=!0,this.init()},t.prototype.trackEvent=function(t,e,o,n){this.analytics.trackEvent(t,e,o,n)},t.prototype.trackPageView=function(){this.analytics.trackPageView()},t}(),Yotpo.Element=function(){function t(t){this.attributes={id:++e,element:t,state:"new"},t.setAttribute("data-yotpo-element-id",this.get("id"))}var e=0,o={};return t.prototype.get=function(t){return this.attributes[t]},t.prototype.set=function(t,e){this.attributes[t]=e},t.prototype.is=function(t){return this.get("state")==t},t.get=function(e){var n=+e.getAttribute("data-yotpo-element-id");if(!o[n]){var i=new t(e);n=i.get("id"),o[n]=i}return o[n]},t.clear=function(){for(var t in o)o.hasOwnProperty(t)&&(o[t].get("element").removeAttribute("data-yotpo-element-id"),delete o[t])},t}(Yotpo),Yotpo.ajax=function(t,e,o,n,i){function s(t,e){var o=r();return o&&"withCredentials"in o?(o.open(t,e,!0),o.withCredentials=!0,o.setRequestHeader("Accept","application/json","text/html")):"undefined"!=typeof XDomainRequest?(o=new XDomainRequest,o.onprogress=function(){},o.open(t,e)):o=null,o}function r(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return null}}var a=s(o?o:"GET",t);return a?(a.readyState?a.onreadystatechange=function(){if(4==a.readyState){var t=a.responseText;i?e(t,i):e(t)}}:a.onload=function(){var t=a.responseText;i?e(t,i):e(t)},a.onerror=function(){Yotpo.safeConsole("There was an error making the request.","error")},"POST"==o&&"withCredentials"in a&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(n),!0):(Yotpo.safeConsole("CORS not supported","error"),!1)},Yotpo.convertHashToQueryStringParams=function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.join("&")},Yotpo.convertComplexObjectToQueryStringParams=function(t){var e=[];for(var o in t)if(t.hasOwnProperty(o)){var n=o,i=t[o];e.push("object"==typeof i?i.constructor===Array?Yotpo.convertArrayToQueryStringParam(n,i):Yotpo.convertComplexObjectToQueryStringParams(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i))}return e.join("&")},Yotpo.convertArrayToQueryStringParam=function(t,e){for(var o=[],n=0;n<e.length;n++)o.push(encodeURIComponent(t+"[]")+"="+encodeURIComponent(e[n]));return o.length?o.join("&"):""},Yotpo.cleanInput=function(t){if(t=t.trim(),""==t)return t;var e=document.createElement("DIV");return e.innerHTML=t,t=Yotpo.getElementText(e),t.replace(/ +(?= )/g,"").replace(/"/g,"&quot;")},Yotpo.validateStringMaxLength=function(t,e){return e=e||150,null==t||t.length>e?!1:!0},Yotpo.appendChildElements=function(t,e){for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0])},Yotpo.validateStringMaxWords=function(t,e){if(e=e||150,"string"!=typeof t)return!1;var o=t.match(/\S+/g);return o=o?o.length:0,e>=o},Yotpo.validateStringMinLength=function(t,e){return e=e||1,null==t||t.length<e?!1:!0},Yotpo.validateEmail=function(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},Yotpo.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Yotpo.camelize=function(t){for(var e=t.split("-"),o=Yotpo.capitalize(e[0]),n=1;n<e.length;n++)o+=Yotpo.capitalize(e[n]);return o},Yotpo.getIEVersion=function(){var t=navigator.userAgent,e=/MSIE\s?(\d+)(?:\.(\d+))?/i,o=t.match(e);return null!=o?{major:o[1],minor:o[2]}:{major:"-1",minor:"-1"}},Yotpo.ready=function(t){Yotpo.isIE10OrLess&&10!=Yotpo.getIEVersion().major||"interactive"!==document.readyState?"complete"===document.readyState?setTimeout(function(){t()},1):document.addEventListener?document.addEventListener("DOMContentLoaded",function(){t()},!1):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()}):setTimeout(function(){t()},1)},Yotpo.rotate=function(t){if("WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style){var e,o,n,i,s=2*Math.PI/360,r=t*s,a=Math.cos(r),l=Math.sin(r);e=parseFloat(a).toFixed(8),o=parseFloat(-l).toFixed(8),n=parseFloat(l).toFixed(8),i=parseFloat(a).toFixed(8);var c="progid:DXImageTransform.Microsoft.Matrix(M11="+e+", M12="+o+", M21="+n+", M22="+i+",sizingMethod='auto expand')";return{filter:c,"-moz-transform":"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)"}}return!1},Yotpo.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},Yotpo.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},Yotpo.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},Yotpo.removeClassList=function(t,e){for(var o=0;o<e.length;o++)Yotpo.removeClass(t,e[o])},Yotpo.toggleClass=function(t,e){Yotpo.hasClass(t,e)?Yotpo.removeClass(t,e):Yotpo.addClass(t,e)},Yotpo.addEventListener=function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent&&t.attachEvent("on"+e,o)},Yotpo.removeEventListener=function(t,e,o){t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent&&t.detachEvent("on"+e,o)},Yotpo.copy=function(t,e){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Yotpo.toggleVisibility=function(t){t.style.display="none"==Yotpo.getDisplayStyle(t)?"inline-block":"none"},Yotpo.getDisplayStyle=function(t){return t.currentStyle?t.currentStyle.display:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("display"):null},Yotpo.getVisibilityStyle=function(t){return t?t.currentStyle?t.currentStyle.visibility:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("visibility"):null:!1},Yotpo.getComputedStyle=function(t,e){return t?t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):null:null},Yotpo.getComputedMargins=function(t){return{top:parseInt(Yotpo.getComputedStyle(t,"margin-top").replace("px",""),10),left:parseInt(Yotpo.getComputedStyle(t,"margin-left").replace("px",""),10),right:parseInt(Yotpo.getComputedStyle(t,"margin-right").replace("px",""),10),bottom:parseInt(Yotpo.getComputedStyle(t,"margin-bottom").replace("px",""),10)}},Yotpo.show=function(t,e){t.style.display=e?e:"inline-block",Yotpo.removeClass(t,"yotpo-hidden")},Yotpo.hide=function(t){t.style.display="none",Yotpo.addClass(t,"yotpo-hidden")},Yotpo.remove=function(t){t.parentNode.removeChild(t)},Yotpo.getStyle=function(t,e){if(t.currentStyle)var o=t.currentStyle[e];else if(window.getComputedStyle)var o=document.defaultView.getComputedStyle(t,null).getPropertyValue(e);return o},Yotpo.isHidden=function(t){return!Yotpo.isIE10OrLess&&t.classList?null===t.offsetParent&&t!=document.body:"none"==Yotpo.getStyle(t,"display")||"hidden"==Yotpo.getStyle(t,"visibilty")},Yotpo.localStorage=localStorage||{getItem:function(t){return Yotpo.storage=Yotpo.storage||{},Yotpo.storage[t]},setItem:function(t,e){Yotpo.storage=Yotpo.storage||{},Yotpo.storage[t]=e},removeItem:function(t){Yotpo.storage=Yotpo.storage||{},delete Yotpo.storage[t]}},Yotpo.bindAnimation=function(t,e){var o=e||t.getAttribute("data-type"),n=null,i=t.getAttribute("data-target-container");i&&(n=Yotpo.Modules.Helper.findAncestorByClass(t,i)),n||(n=t.parentNode.parentNode.parentNode);var s=n.getElementsByClassName(t.getAttribute("data-target"));0==s.length&&(s=n.querySelectorAll(t.getAttribute("data-target")));for(var r=Math.min(parseInt(t.getAttribute("data-limit")||s.length),s.length),a=0;r>a;++a)Yotpo.Animations[o](s[a]);parseInt(t.getAttribute("data-limit"))>=s.length&&Yotpo.addClass(t,"yotpo-hidden")},Yotpo.supportTouch=function(){return"ontouchstart"in document.documentElement},Yotpo.togglePreLoader=function(t){var e=t.querySelectorAll(".yotpo-preloader-wrapper");if(e.length>0){var o=e[0];Yotpo.toggleVisibility(o)}return!1},Yotpo.scrollTo=function(t,e,o,n,i){var s=n?t.scrollHeight>e&&e>=0:!0;if(s){var r=n?t.scrollTop:t.scrollLeft,a=e-r,l=0,c=20,d=function(){l+=c;var e=Math.easeInOutQuad(l,r,a,o);n?t.scrollTop=e:t.scrollLeft=e,o>l?setTimeout(d,c):"function"==typeof i&&i()};Math.easeInOutQuad=function(t,e,o,n){return t/=n/2,1>t?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},d()}},Yotpo.moveTo=function(t,e,o,n,i){var s=0,r=e-s,a=0,l=20,c=function(){a+=l;var e=Math.easeInOutQuad(a,s,r,o);e=parseInt(e),"right"==n?t.style.right=e+"px":t.style.left=e+"px",o>a?setTimeout(c,l):"function"==typeof i&&i()};Math.easeInOutQuad=function(t,e,o,n){return t/=n/2,1>t?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},c()},Yotpo.scrollToTop=function(t){if(t.offsetParent&&t.offsetParent.scrollTop>0&&t.offsetParent!==document.body)Yotpo.scrollTo(t.offsetParent,0,1300,!0);else{var e=document.documentElement.scrollTop>0?document.documentElement:document.body;Yotpo.scrollTo(e,t.getBoundingClientRect().top+e.scrollTop,1300,!0)}},Yotpo.mobileCheck=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},Yotpo.isMobile=function(){if(this.mobileCheck())return!0;var t=/ipad|ipad.*mobile|android.*nexus[\s]+(7|10)|^.*android.*nexus(?:(?!mobile).)*$|samsung.*tablet|galaxy.*tab|sc-01c|gt-p1000|gt-p1003|gt-p1010|gt-p3105|gt-p6210|gt-p6800|gt-p6810|gt-p7100|gt-p7300|gt-p7310|gt-p7500|gt-p7510|sch-i800|sch-i815|sch-i905|sgh-i957|sgh-i987|sgh-t849|sgh-t859|sgh-t869|sph-p100|gt-p3100|gt-p3108|gt-p3110|gt-p5100|gt-p5110|gt-p6200|gt-p7320|gt-p7511|gt-n8000|gt-p8510|sgh-i497|sph-p500|sgh-t779|sch-i705|sch-i915|gt-n8013|gt-p3113|gt-p5113|gt-p8110|gt-n8010|gt-n8005|gt-n8020|gt-p1013|gt-p6201|gt-p7501|gt-n5100|gt-n5105|gt-n5110|shv-e140k|shv-e140l|shv-e140s|shv-e150s|shv-e230k|shv-e230l|shv-e230s|shw-m180k|shw-m180l|shw-m180s|shw-m180w|shw-m300w|shw-m305w|shw-m380k|shw-m380s|shw-m380w|shw-m430w|shw-m480k|shw-m480s|shw-m480w|shw-m485w|shw-m486w|shw-m500w|gt-i9228|sch-p739|sch-i925|gt-i9200|gt-i9205|gt-p5200|gt-p5210|gt-p5210x|sm-t311|sm-t310|sm-t310x|sm-t210|sm-t210r|sm-t211|sm-p600|sm-p601|sm-p605|sm-p900|sm-p901|sm-t217|sm-t217a|sm-t217s|sm-p6000|sm-t3100|sgh-i467|xe500|sm-t110|gt-p5220|gt-i9200x|gt-n5110x|gt-n5120|sm-p905|sm-t111|sm-t2105|sm-t315|sm-t320|sm-t320x|sm-t321|sm-t520|sm-t525|sm-t530nu|sm-t230nu|sm-t330nu|sm-t900|xe500t1c|sm-p605v|sm-p905v|sm-p600x|sm-p900x|sm-t210x|sm-t230|sm-t230x|sm-t325|gt-p7503|sm-t531|sm-t330|sm-t530|sm-t705c|sm-t535|sm-t331|kindle|silk.*accelerated|android.*\b(kfot|kftt|kfjwi|kfjwa|kfote|kfsowi|kfthwi|kfthwa|kfapwi|kfapwa|wfjwae)\b|windows nt [0-9.]+; arm;|hp slate 7|hp elitepad 900|hp-tablet|elitebook.*touch|hp 8|^.*padfone((?!mobile).)*$|transformer|tf101|tf101g|tf300t|tf300tg|tf300tl|tf700t|tf700kl|tf701t|tf810c|me171|me301t|me302c|me371mg|me370t|me372mg|me172v|me173x|me400c|slider sl101|\bk00f\b|tx201la|playbook|rim tablet|htc flyer|htc jetstream|htc-p715a|htc evo view 4g|pg41200|xoom|sholest|mz615|mz605|mz505|mz601|mz602|mz603|mz604|mz606|mz607|mz608|mz609|mz615|mz616|mz617|android.*nook|nookcolor|nook browser|bnrv200|bnrv200a|bntv250|bntv250a|bntv400|bntv600|logicpd zoom2|android.*; \b(a100|a101|a110|a200|a210|a211|a500|a501|a510|a511|a700|a701|w500|w500p|w501|w501p|w510|w511|w700|g100|g100w|b1-a71|b1-710|b1-711|a1-810|a1-830)\b|w3-810|\ba3-a10\b|android.*(at100|at105|at200|at205|at270|at275|at300|at305|at1s5|at500|at570|at700|at830)|toshiba.*folio|\bl-06c|lg-v900|lg-v500|lg-v909|lg-v500|lg-v510|lg-vk810\b|android.*\b(f-01d|f-02f|f-05e|f-10d|m532|q572)\b|pmp3170b|pmp3270b|pmp3470b|pmp7170b|pmp3370b|pmp3570c|pmp5870c|pmp3670b|pmp5570c|pmp5770d|pmp3970b|pmp3870c|pmp5580c|pmp5880d|pmp5780d|pmp5588c|pmp7280c|pmp7280c3g|pmp7280|pmp7880d|pmp5597d|pmp5597|pmp7100d|per3464|per3274|per3574|per3884|per5274|per5474|pmp5097cpro|pmp5097|pmp7380d|pmp5297c|pmp5297c_quad|ideatab|thinkpad([ ]+)?tablet|lenovo.*(s2109|s2110|s5000|s6000|k3011|a3000|a1000|a2107|a2109|a1107|b6000|b8000|b8080-f)|android.*\b(tab210|tab211|tab224|tab250|tab260|tab264|tab310|tab360|tab364|tab410|tab411|tab420|tab424|tab450|tab460|tab461|tab464|tab465|tab467|tab468|tab07-100|tab07-101|tab07-150|tab07-151|tab07-152|tab07-200|tab07-201-3g|tab07-210|tab07-211|tab07-212|tab07-214|tab07-220|tab07-400|tab07-485|tab08-150|tab08-200|tab08-201-3g|tab08-201-30|tab09-100|tab09-211|tab09-410|tab10-150|tab10-201|tab10-211|tab10-400|tab10-410|tab13-201|tab274euk|tab275euk|tab374euk|tab462euk|tab474euk|tab9-200)\b|android.*\boyo\b|life.*(p9212|p9514|p9516|s9512)|lifetab|an10g2|an7bg3|an7fg3|an8g3|an8cg3|an7g3|an9g3|an7dg3|an7dg3st|an7dg3childpad|an10bg3|an10bg3dt|inm8002kp|inm1010fp|inm805nd|intenso tab|m702pro|megafon v9|\bzte v9\b|android.*\bmt7a\b|e-boda (supreme|impresspeed|izzycomm|essential)|allview.*(viva|alldro|city|speed|all tv|frenzy|quasar|shine|tx1|ax1|ax2)|\b(101g9|80g9|a101it)\b|qilive 97r|archos 101g10|archos 101 neon|novo7|novo8|novo10|novo7aurora|novo7basic|novo7paladin|novo9-spark|sony.*tablet|xperia tablet|sony tablet s|so-03e|sgpt12|sgpt13|sgpt114|sgpt121|sgpt122|sgpt123|sgpt111|sgpt112|sgpt113|sgpt131|sgpt132|sgpt133|sgpt211|sgpt212|sgpt213|sgp311|sgp312|sgp321|ebrd1101|ebrd1102|ebrd1201|sgp351|sgp341|sgp511|sgp512|sgp521|sgp541|sgp551|android.*(k8gt|u9gt|u10gt|u16gt|u17gt|u18gt|u19gt|u20gt|u23gt|u30gt)|cube u8gt|mid1042|mid1045|mid1125|mid1126|mid7012|mid7014|mid7015|mid7034|mid7035|mid7036|mid7042|mid7048|mid7127|mid8042|mid8048|mid8127|mid9042|mid9740|mid9742|mid7022|mid7010|m9701|m9000|m9100|m806|m1052|m806|t703|mid701|mid713|mid710|mid727|mid760|mid830|mid728|mid933|mid125|mid810|mid732|mid120|mid930|mid800|mid731|mid900|mid100|mid820|mid735|mid980|mid130|mid833|mid737|mid960|mid135|mid860|mid736|mid140|mid930|mid835|mid733|android.*(\bmid\b|mid-560|mtv-t1200|mtv-pnd531|mtv-p1101|mtv-pnd530)|android.*(rk2818|rk2808a|rk2918|rk3066)|rk2738|rk2808a|iq310|fly vision|bq.*(elcano|curie|edison|maxwell|kepler|pascal|tesla|hypatia|platon|newton|livingstone|cervantes|avant)|maxwell.*lite|maxwell.*plus|mediapad|mediapad 7 youth|ideos s7|s7-201c|s7-202u|s7-101|s7-103|s7-104|s7-105|s7-106|s7-201|s7-slim|\bn-06d|\bn-08d|pantech.*p4100|broncho.*(n701|n708|n802|a710)|touchpad.*[78910]|\btouchtab\b|z1000|z99 2g|z99|z930|z999|z990|z909|z919|z900|tb07sta|tb10sta|tb07fta|tb10fta|android.*\bnabi|kobo touch|\bk080\b|\bvox\b build|\barc\b build|dslide.*\b(700|701r|702|703r|704|802|970|971|972|973|974|1010|1012)\b|navipad|tb-772a|tm-7045|tm-7055|tm-9750|tm-7016|tm-7024|tm-7026|tm-7041|tm-7043|tm-7047|tm-8041|tm-9741|tm-9747|tm-9748|tm-9751|tm-7022|tm-7021|tm-7020|tm-7011|tm-7010|tm-7023|tm-7025|tm-7037w|tm-7038w|tm-7027w|tm-9720|tm-9725|tm-9737w|tm-1020|tm-9738w|tm-9740|tm-9743w|tb-807a|tb-771a|tb-727a|tb-725a|tb-719a|tb-823a|tb-805a|tb-723a|tb-715a|tb-707a|tb-705a|tb-709a|tb-711a|tb-890hd|tb-880hd|tb-790hd|tb-780hd|tb-770hd|tb-721hd|tb-710hd|tb-434hd|tb-860hd|tb-840hd|tb-760hd|tb-750hd|tb-740hd|tb-730hd|tb-722hd|tb-720hd|tb-700hd|tb-500hd|tb-470hd|tb-431hd|tb-430hd|tb-506|tb-504|tb-446|tb-436|tb-416|tb-146se|tb-126se|playstation.*(portable|vita)|st10416-1|vt10416-1|st70408-1|st702xx-1|st702xx-2|st80208|st97216|st70104-2|vt10416-2|st10216-2a|\b(ptbl10ceu|ptbl10c|ptbl72bc|ptbl72bceu|ptbl7ceu|ptbl7c|ptbl92bc|ptbl92bceu|ptbl9ceu|ptbl9cuk|ptbl9c)\b|android.* \b(e3a|t3x|t5c|t5b|t3e|t3c|t3b|t1j|t1f|t2a|t1h|t1i|e1c|t1-e|t5-a|t4|e1-b|t2ci|t1-b|t1-d|o1-a|e1-a|t1-a|t3a|t4i)\b |genius tab g3|genius tab s2|genius tab q3|genius tab g4|genius tab q4|genius tab g-ii|genius tab gii|genius tab giii|genius tab s1|android.*\bg1\b|funbook|micromax.*\b(p250|p560|p360|p362|p600|p300|p350|p500|p275)\b|android.*\b(a39|a37|a34|st8|st10|st7|smart tab3|smart tab2)\b|fine7 genius|fine7 shine|fine7 air|fine8 style|fine9 more|fine10 joy|fine11 wide|\b(pem63|plt1023g|plt1041|plt1044|plt1044g|plt1091|plt4311|plt4311pl|plt4315|plt7030|plt7033|plt7033d|plt7035|plt7035d|plt7044k|plt7045k|plt7045kb|plt7071kg|plt7072|plt7223g|plt7225g|plt7777g|plt7810k|plt7849g|plt7851g|plt7852g|plt8015|plt8031|plt8034|plt8036|plt8080k|plt8082|plt8088|plt8223g|plt8234g|plt8235g|plt8816k|plt9011|plt9045k|plt9233g|plt9735|plt9760g|plt9770g)\b|bq1078|bc1003|bc1077|rk9702|bc9730|bc9001|it9001|bc7008|bc7010|bc708|bc728|bc7012|bc7030|bc7027|bc7026|tpc7102|tpc7103|tpc7105|tpc7106|tpc7107|tpc7201|tpc7203|tpc7205|tpc7210|tpc7708|tpc7709|tpc7712|tpc7110|tpc8101|tpc8103|tpc8105|tpc8106|tpc8203|tpc8205|tpc8503|tpc9106|tpc9701|tpc97101|tpc97103|tpc97105|tpc97106|tpc97111|tpc97113|tpc97203|tpc97603|tpc97809|tpc97205|tpc10101|tpc10103|tpc10106|tpc10111|tpc10203|tpc10205|tpc10503|tx-a1301|tx-m9002|q702|kf026|tab-p506|tab-navi-7-3g-m|tab-p517|tab-p-527|tab-p701|tab-p703|tab-p721|tab-p731n|tab-p741|tab-p825|tab-p905|tab-p925|tab-pr945|tab-pl1015|tab-p1025|tab-pi1045|tab-p1325|tab-protab[0-9]+|tab-protab25|tab-protab26|tab-protab27|tab-protab26xl|tab-protab2-ips9|tab-protab30-ips9|tab-protab25xxl|tab-protab26-ips10|tab-protab30-ips10|ov-(steelcore|newbase|basecore|baseone|exellen|quattor|edutab|solution|action|basictab|teddytab|magictab|stream|tb-08|tb-09)|hcl.*tablet|connect-3g-2.0|connect-2g-2.0|me tablet u1|me tablet u2|me tablet g1|me tablet x1|me tablet y2|me tablet sync|dps dream 9|dps dual 7|v97 hd|i75 3g|visture v4( hd)?|visture v5( hd)?|visture v10|ctp(-)?810|ctp(-)?818|ctp(-)?828|ctp(-)?838|ctp(-)?888|ctp(-)?978|ctp(-)?980|ctp(-)?987|ctp(-)?988|ctp(-)?989|\bmt8125|mt8389|mt8135|mt8377\b|concorde([ ]+)?tab|concorde readman|goclever tab|a7goclever|m1042|m7841|m742|r1042bk|r1041|tab a975|tab a7842|tab a741|tab a741l|tab m723g|tab m721|tab a1021|tab i921|tab r721|tab i720|tab t76|tab r70|tab r76.2|tab r106|tab r83.2|tab m813g|tab i721|gcta722|tab i70|tab i71|tab s73|tab r73|tab r74|tab r93|tab r75|tab r76.1|tab a73|tab a93|tab a93.2|tab t72|tab r83|tab r974|tab r973|tab a101|tab a103|tab a104|tab a104.2|r105bk|m713g|a972bk|tab a971|tab r974.2|tab r104|tab r83.3|tab a1042|freetab 9000|freetab 7.4|freetab 7004|freetab 7800|freetab 2096|freetab 7.5|freetab 1014|freetab 1001 |freetab 8001|freetab 9706|freetab 9702|freetab 7003|freetab 7002|freetab 1002|freetab 7801|freetab 1331|freetab 1004|freetab 8002|freetab 8014|freetab 9704|freetab 1003|\b(argus[ _]?s|diamond[ _]?79hd|emerald[ _]?78e|luna[ _]?70c|onyx[ _]?s|onyx[ _]?z|orin[ _]?hd|orin[ _]?s|otis[ _]?s|speedstar[ _]?s|magnet[ _]?m9|primus[ _]?94[ _]?3g|primus[ _]?94hd|primus[ _]?qs|android.*\bq8\b|sirius[ _]?evo[ _]?qs|sirius[ _]?qs|spirit[ _]?s)\b|v07ot2|tm105a|s10ot1|tr10cs1|ezee[_']?(tab|go)[0-9]+|tablc7|looney tunes tab|smarttab([ ]+)?[0-9]+|smarttabii10|smart[ ']?tab[ ]+?[0-9]+|family[ ']?tab2|rm-790|rm-997|rmd-878g|rmd-974r|rmt-705a|rmt-701|rme-601|rmt-501|rmt-711|i-mobile i-note|tolino tab [0-9.]+|tolino shine|\bc-22q|t7-qc|t-17b|t-17p\b|android.* a78 |android.* (skypad|phoenix|cyclops)|tecno p9|android.*\b(f3000|a3300|jxd5000|jxd3000|jxd2000|jxd300b|jxd300|s5800|s7800|s602b|s5110b|s7300|s5300|s602|s603|s5100|s5110|s601|s7100a|p3000f|p3000s|p101|p200s|p1000m|p200m|p9100|p1000s|s6600b|s908|p1000|p300|s18|s6600|s9100)\b|tablet (spirit 7|essentia|galatea|fusion|onix 7|landa|titan|scooby|deox|stella|themis|argon|unique 7|sygnus|hexen|finity 7|cream|cream x2|jade|neon 7|neron 7|kandy|scape|saphyr 7|rebel|biox|rebel|rebel 8gb|myst|draco 7|myst|tab7-004|myst|tadeo jones|tablet boing|arrow|draco dual cam|aurix|mint|amity|revolution|finity 9|neon 9|t9w|amity 4gb dual cam|stone 4gb|stone 8gb|andromeda|silken|x2|andromeda ii|halley|flame|saphyr 9,7|touch 8|planet|triton|unique 10|hexen 10|memphis 4gb|memphis 8gb|onix 10)|fx2 pad7|fx2 pad10|kidspad 701|pad[ ]?712|pad[ ]?714|pad[ ]?716|pad[ ]?717|pad[ ]?718|pad[ ]?720|pad[ ]?721|pad[ ]?722|pad[ ]?790|pad[ ]?792|pad[ ]?900|pad[ ]?9715d|pad[ ]?9716dr|pad[ ]?9718dr|pad[ ]?9719qr|pad[ ]?9720qr|telepad1030|telepad1032|telepad730|telepad731|telepad732|telepad735q|telepad830|telepad9730|telepad795|megapad 1331|megapad 1851|megapad 2151|viewpad 10pi|viewpad 10e|viewpad 10s|viewpad e72|viewpad7|viewpad e100|viewpad 7e|viewsonic vb733|vb100a|loox|xeno10|odys space|captiva pad|nettab|nt-3702|nt-3702s|nt-3702s|nt-3603p|nt-3603p|nt-0704s|nt-0704s|nt-3805c|nt-3805c|nt-0806c|nt-0806c|nt-0909t|nt-0909t|nt-0907s|nt-0907s|nt-0902s|nt-0902s|hudl ht7s3|t-hub2|android.*\b97d\b|tablet(?!.*pc)|bntv250a|mid-wcdma|logicpd zoom2|\ba7eb\b|catnova8|a1_07|ct704|ct1002|\bm721\b|rk30sdk|\bevotab\b|m758a|et904|alumium10|smartfren tab|endeavour 1010|tablet-pc-4/i,e=/\biphone.*(mobile|phonegap)|\bipod|blackberry|\bbb10\b|rim[0-9]+|htc|htc.*(sensation|evo|vision|explorer|6800|8100|8900|a7272|s510e|c110e|legend|desire|t8282)|apx515ckt|qtek9090|apa9292kt|hd_mini|sensation.*z710e|pg86100|z715e|desire.*(a8181|hd)|adr6200|adr6400l|adr6425|001ht|inspire 4g|android.*\bevo\b|t-mobile g1|z520m|nexus one|nexus s|galaxy.*nexus|android.*nexus.*mobile|dell.*streak|dell.*aero|dell.*venue|dell.*venue pro|dell flash|dell smoke|dell mini 3ix|xcd28|xcd35|\b001dl\b|\b101dl\b|\bgs01\b|motorola|droidx|droid bionic|\bdroid\b.*build|android.*xoom|hri39|mot-|a1260|a1680|a555|a853|a855|a953|a955|a956|motorola.*electrify|motorola.*i1|i867|i940|mb200|mb300|mb501|mb502|mb508|mb511|mb520|mb525|mb526|mb611|mb612|mb632|mb810|mb855|mb860|mb861|mb865|mb870|me501|me502|me511|me525|me600|me632|me722|me811|me860|me863|me865|mt620|mt710|mt716|mt720|mt810|mt870|mt917|motorola.*titanium|wx435|wx445|xt300|xt301|xt311|xt316|xt317|xt319|xt320|xt390|xt502|xt530|xt531|xt532|xt535|xt603|xt610|xt611|xt615|xt681|xt701|xt702|xt711|xt720|xt800|xt806|xt860|xt862|xt875|xt882|xt883|xt894|xt901|xt907|xt909|xt910|xt912|xt928|xt926|xt915|xt919|xt925|samsung|sgh-i337|bgt-s5230|gt-b2100|gt-b2700|gt-b2710|gt-b3210|gt-b3310|gt-b3410|gt-b3730|gt-b3740|gt-b5510|gt-b5512|gt-b5722|gt-b6520|gt-b7300|gt-b7320|gt-b7330|gt-b7350|gt-b7510|gt-b7722|gt-b7800|gt-c3010|gt-c3011|gt-c3060|gt-c3200|gt-c3212|gt-c3212i|gt-c3262|gt-c3222|gt-c3300|gt-c3300k|gt-c3303|gt-c3303k|gt-c3310|gt-c3322|gt-c3330|gt-c3350|gt-c3500|gt-c3510|gt-c3530|gt-c3630|gt-c3780|gt-c5010|gt-c5212|gt-c6620|gt-c6625|gt-c6712|gt-e1050|gt-e1070|gt-e1075|gt-e1080|gt-e1081|gt-e1085|gt-e1087|gt-e1100|gt-e1107|gt-e1110|gt-e1120|gt-e1125|gt-e1130|gt-e1160|gt-e1170|gt-e1175|gt-e1180|gt-e1182|gt-e1200|gt-e1210|gt-e1225|gt-e1230|gt-e1390|gt-e2100|gt-e2120|gt-e2121|gt-e2152|gt-e2220|gt-e2222|gt-e2230|gt-e2232|gt-e2250|gt-e2370|gt-e2550|gt-e2652|gt-e3210|gt-e3213|gt-i5500|gt-i5503|gt-i5700|gt-i5800|gt-i5801|gt-i6410|gt-i6420|gt-i7110|gt-i7410|gt-i7500|gt-i8000|gt-i8150|gt-i8160|gt-i8190|gt-i8320|gt-i8330|gt-i8350|gt-i8530|gt-i8700|gt-i8703|gt-i8910|gt-i9000|gt-i9001|gt-i9003|gt-i9010|gt-i9020|gt-i9023|gt-i9070|gt-i9082|gt-i9100|gt-i9103|gt-i9220|gt-i9250|gt-i9300|gt-i9305|gt-i9500|gt-i9505|gt-m3510|gt-m5650|gt-m7500|gt-m7600|gt-m7603|gt-m8800|gt-m8910|gt-n7000|gt-s3110|gt-s3310|gt-s3350|gt-s3353|gt-s3370|gt-s3650|gt-s3653|gt-s3770|gt-s3850|gt-s5210|gt-s5220|gt-s5229|gt-s5230|gt-s5233|gt-s5250|gt-s5253|gt-s5260|gt-s5263|gt-s5270|gt-s5300|gt-s5330|gt-s5350|gt-s5360|gt-s5363|gt-s5369|gt-s5380|gt-s5380d|gt-s5560|gt-s5570|gt-s5600|gt-s5603|gt-s5610|gt-s5620|gt-s5660|gt-s5670|gt-s5690|gt-s5750|gt-s5780|gt-s5830|gt-s5839|gt-s6102|gt-s6500|gt-s7070|gt-s7200|gt-s7220|gt-s7230|gt-s7233|gt-s7250|gt-s7500|gt-s7530|gt-s7550|gt-s7562|gt-s7710|gt-s8000|gt-s8003|gt-s8500|gt-s8530|gt-s8600|sch-a310|sch-a530|sch-a570|sch-a610|sch-a630|sch-a650|sch-a790|sch-a795|sch-a850|sch-a870|sch-a890|sch-a930|sch-a950|sch-a970|sch-a990|sch-i100|sch-i110|sch-i400|sch-i405|sch-i500|sch-i510|sch-i515|sch-i600|sch-i730|sch-i760|sch-i770|sch-i830|sch-i910|sch-i920|sch-i959|sch-lc11|sch-n150|sch-n300|sch-r100|sch-r300|sch-r351|sch-r400|sch-r410|sch-t300|sch-u310|sch-u320|sch-u350|sch-u360|sch-u365|sch-u370|sch-u380|sch-u410|sch-u430|sch-u450|sch-u460|sch-u470|sch-u490|sch-u540|sch-u550|sch-u620|sch-u640|sch-u650|sch-u660|sch-u700|sch-u740|sch-u750|sch-u810|sch-u820|sch-u900|sch-u940|sch-u960|scs-26uc|sgh-a107|sgh-a117|sgh-a127|sgh-a137|sgh-a157|sgh-a167|sgh-a177|sgh-a187|sgh-a197|sgh-a227|sgh-a237|sgh-a257|sgh-a437|sgh-a517|sgh-a597|sgh-a637|sgh-a657|sgh-a667|sgh-a687|sgh-a697|sgh-a707|sgh-a717|sgh-a727|sgh-a737|sgh-a747|sgh-a767|sgh-a777|sgh-a797|sgh-a817|sgh-a827|sgh-a837|sgh-a847|sgh-a867|sgh-a877|sgh-a887|sgh-a897|sgh-a927|sgh-b100|sgh-b130|sgh-b200|sgh-b220|sgh-c100|sgh-c110|sgh-c120|sgh-c130|sgh-c140|sgh-c160|sgh-c170|sgh-c180|sgh-c200|sgh-c207|sgh-c210|sgh-c225|sgh-c230|sgh-c417|sgh-c450|sgh-d307|sgh-d347|sgh-d357|sgh-d407|sgh-d415|sgh-d780|sgh-d807|sgh-d980|sgh-e105|sgh-e200|sgh-e315|sgh-e316|sgh-e317|sgh-e335|sgh-e590|sgh-e635|sgh-e715|sgh-e890|sgh-f300|sgh-f480|sgh-i200|sgh-i300|sgh-i320|sgh-i550|sgh-i577|sgh-i600|sgh-i607|sgh-i617|sgh-i627|sgh-i637|sgh-i677|sgh-i700|sgh-i717|sgh-i727|sgh-i747m|sgh-i777|sgh-i780|sgh-i827|sgh-i847|sgh-i857|sgh-i896|sgh-i897|sgh-i900|sgh-i907|sgh-i917|sgh-i927|sgh-i937|sgh-i997|sgh-j150|sgh-j200|sgh-l170|sgh-l700|sgh-m110|sgh-m150|sgh-m200|sgh-n105|sgh-n500|sgh-n600|sgh-n620|sgh-n625|sgh-n700|sgh-n710|sgh-p107|sgh-p207|sgh-p300|sgh-p310|sgh-p520|sgh-p735|sgh-p777|sgh-q105|sgh-r210|sgh-r220|sgh-r225|sgh-s105|sgh-s307|sgh-t109|sgh-t119|sgh-t139|sgh-t209|sgh-t219|sgh-t229|sgh-t239|sgh-t249|sgh-t259|sgh-t309|sgh-t319|sgh-t329|sgh-t339|sgh-t349|sgh-t359|sgh-t369|sgh-t379|sgh-t409|sgh-t429|sgh-t439|sgh-t459|sgh-t469|sgh-t479|sgh-t499|sgh-t509|sgh-t519|sgh-t539|sgh-t559|sgh-t589|sgh-t609|sgh-t619|sgh-t629|sgh-t639|sgh-t659|sgh-t669|sgh-t679|sgh-t709|sgh-t719|sgh-t729|sgh-t739|sgh-t746|sgh-t749|sgh-t759|sgh-t769|sgh-t809|sgh-t819|sgh-t839|sgh-t919|sgh-t929|sgh-t939|sgh-t959|sgh-t989|sgh-u100|sgh-u200|sgh-u800|sgh-v205|sgh-v206|sgh-x100|sgh-x105|sgh-x120|sgh-x140|sgh-x426|sgh-x427|sgh-x475|sgh-x495|sgh-x497|sgh-x507|sgh-x600|sgh-x610|sgh-x620|sgh-x630|sgh-x700|sgh-x820|sgh-x890|sgh-z130|sgh-z150|sgh-z170|sgh-zx10|sgh-zx20|shw-m110|sph-a120|sph-a400|sph-a420|sph-a460|sph-a500|sph-a560|sph-a600|sph-a620|sph-a660|sph-a700|sph-a740|sph-a760|sph-a790|sph-a800|sph-a820|sph-a840|sph-a880|sph-a900|sph-a940|sph-a960|sph-d600|sph-d700|sph-d710|sph-d720|sph-i300|sph-i325|sph-i330|sph-i350|sph-i500|sph-i600|sph-i700|sph-l700|sph-m100|sph-m220|sph-m240|sph-m300|sph-m305|sph-m320|sph-m330|sph-m350|sph-m360|sph-m370|sph-m380|sph-m510|sph-m540|sph-m550|sph-m560|sph-m570|sph-m580|sph-m610|sph-m620|sph-m630|sph-m800|sph-m810|sph-m850|sph-m900|sph-m910|sph-m920|sph-m930|sph-n100|sph-n200|sph-n240|sph-n300|sph-n400|sph-z400|swc-e100|sch-i909|gt-n7100|gt-n7105|sch-i535|sm-n900a|sgh-i317|sgh-t999l|gt-s5360b|gt-i8262|gt-s6802|gt-s6312|gt-s6310|gt-s5312|gt-s5310|gt-i9105|gt-i8510|gt-s6790n|sm-g7105|sm-n9005|gt-s5301|gt-i9295|gt-i9195|sm-c101|gt-s7392|gt-s7560|gt-b7610|gt-i5510|gt-s7582|gt-s7530e|\blg\b;|lg[- ]?(c800|c900|e400|e610|e900|e-900|f160|f180k|f180l|f180s|730|855|l160|ls840|ls970|lu6200|ms690|ms695|ms770|ms840|ms870|ms910|p500|p700|p705|vm696|as680|as695|ax840|c729|e970|gs505|272|c395|e739bk|e960|l55c|l75c|ls696|ls860|p769bk|p350|p500|p509|p870|un272|us730|vs840|vs950|ln272|ln510|ls670|ls855|lw690|mn270|mn510|p509|p769|p930|un200|un270|un510|un610|us670|us740|us760|ux265|ux840|vn271|vn530|vs660|vs700|vs740|vs750|vs910|vs920|vs930|vx9200|vx11000|ax840a|lw770|p506|p925|p999|e612|d955|d802)|sonyst|sonylt|sonyericsson|sonyericssonlt15iv|lt18i|e10i|lt28h|lt26w|sonyericssonmt27i|asus.*galaxy|padfone.*mobile|micromax.*\b(a210|a92|a88|a72|a111|a110q|a115|a116|a110|a90s|a26|a51|a35|a54|a25|a27|a89|a68|a65|a57|a90)\b|palmsource|palm|vertu|vertu.*ltd|vertu.*ascent|vertu.*ayxta|vertu.*constellation(f|quest)?|vertu.*monika|vertu.*signature|pantech|im-a850s|im-a840s|im-a830l|im-a830k|im-a830s|im-a820l|im-a810k|im-a810s|im-a800s|im-t100k|im-a725l|im-a780l|im-a775c|im-a770k|im-a760s|im-a750k|im-a740s|im-a730s|im-a720l|im-a710k|im-a690l|im-a690s|im-a650s|im-a630k|im-a600s|vega ptl21|pt003|p8010|adr910l|p6030|p6020|p9070|p4100|p9060|p5000|cdm8992|txt8045|adr8995|is11pt|p2030|p6010|p8000|pt002|is06|cdm8999|p9050|pt001|txt8040|p2020|p9020|p2000|p7040|p7000|c790|iq230|iq444|iq450|iq440|iq442|iq441|iq245|iq256|iq236|iq255|iq235|iq245|iq275|iq240|iq285|iq280|iq270|iq260|iq250|i-mobile (iq|i-style|idea|zaa|hitz)|\b(sp-80|xt-930|sx-340|xt-930|sx-310|sp-360|sp60|spt-800|sp-120|spt-800|sp-140|spx-5|spx-8|sp-100|spx-8|spx-12)\b|tapatalk|pda;|sagem|\bmmp\b|pocket|\bpsp\b|symbian|smartphone|smartfon|treo|up.browser|up.link|vodafone|\bwap\b|nokia|series40|series60|s60|sonyericsson|n900|maui.*wap.*browser/i,o=navigator.userAgent||navigator.vendor||window.opera;
return 1==e.test(o)&&0==t.test(o)},Yotpo.compact=function(t){for(var e in t)!t.hasOwnProperty(e)||"undefined"!=typeof t[e]&&null!=t[e]||delete t[e];return t},Yotpo.forEach=function(t,e){if(Array.prototype.forEach)t.forEach(e);else{if("function"!=typeof e)throw new TypeError;for(var o=arguments.length>=2?arguments[1]:void 0,n=0;n<t.length;n++)n in t&&e.call(o,t[n],n,t)}},Yotpo.getElementText=function(t){return t.textContent||t.innerText},Yotpo.origin=function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},Yotpo.isArray="isArray"in Array?Array.isArray:function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e},Yotpo.preloadImages=function(t,e,o,n,i,s){var r=0,a=[];t=Yotpo.isArray(t)?t:[t];for(var l=function(){r+=1,r===t.length&&e&&e(o)},c=0;c<t.length;c++)a[c]=new Image,a[c].onabort=a[c].onerror=n?function(){try{n(i,this.dataImageId)}catch(t){}l()}:l,a[c].onload=function(e){return function(){s&&s(t[e].imageId,this),l()}}(c),a[c].src=t[c].url,a[c].dataImageId=t[c].imageId},Yotpo.getDefualtImage=function(){return{size_180:"https://staticw2.yotpo.com/assets/default_image_180px.jpg",size_656:"https://staticw2.yotpo.com/assets/default_image_656px.jpg",profile:"https://staticw2.yotpo.com/assets/default_profile.png"}},Yotpo.reportBrokenImages=function(t,e,o,n){var i=Yotpo.getApiHost()+"/v1/widget/"+t+"/images/broken",s=Yotpo.convertComplexObjectToQueryStringParams({image_ids:e,type:o,should_search_media:n});Yotpo.ajax(i,function(){},"POST",s)},Yotpo.emojiRegex=new RegExp("\ud83c[\udf00-\udfff]|\ud83d[\udc00-\ude4f]|\ud83d[\ude80-\udeff]","g"),Yotpo.getPosition=function(t){for(var e=0,o=0;t;){if("BODY"==t.tagName){var n=t.scrollLeft||document.documentElement.scrollLeft,i=t.scrollTop||document.documentElement.scrollTop;e+=t.offsetLeft-n+t.clientLeft,o+=t.offsetTop-i+t.clientTop}else e+=t.offsetLeft-t.scrollLeft+t.clientLeft,o+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:e,y:o}},Yotpo.simulateClickEvent=function(t){if(t.click)t.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)}},Yotpo.redirectToUrl=function(t){window.location=t},Yotpo.getStars=function(t){t=parseFloat(t);for(var e=document.createElement("div"),o=1;5>=o;o++){var n=document.createElement("span");n.className=t+.25>=o?"yotpo-icon yotpo-icon-star":t+.75>=o?"yotpo-icon yotpo-icon-half-star":"yotpo-icon yotpo-icon-empty-star",e.appendChild(n)}return e},Yotpo.debounce=function(t,e,o){var n;return function(){var i=this,s=arguments,r=function(){n=null,o||t.apply(i,s)},a=o&&!n;clearTimeout(n),n=setTimeout(r,e),a&&t.apply(i,s)}},Yotpo.injectScript=function(t,e){var o=document.createElement("script");o.setAttribute("type","text/javascript");var n=document.createTextNode(t);o.appendChild(n),e.appendChild(o)},Yotpo.injectCSS=function(t,e){var o=document.createElement("style"),n=document.createTextNode(t);o.appendChild(n),e.appendChild(o)},Yotpo.loadScript=function(t,e,o){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.src=t,n.onload=o,e.appendChild(n)},Yotpo.getURLParameter=function(t,e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[null,""])[1].replace(/\+/g,"%20"))||null},Yotpo.updateQueryStringParameter=function(t,e,o){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=-1!==t.indexOf("?")?"&":"?";return t.match(n)?t.replace(n,"$1"+e+"="+o+"$2"):t+i+e+"="+o},Yotpo.safeConsole=function(){},Yotpo.getDefualtImage=function(){return Yotpo.defaultImages||{size_180:"",size_656:"",profile:""}},Yotpo.setHoverEnable=function(t){Yotpo.isMobile()||Yotpo.addClass(t,"yotpo-hover-enable")},Yotpo.isString=function(t){return"string"==typeof t||t instanceof String},Yotpo.isEmptyString=function(t){return Yotpo.isString(t)&&(0===t.length||!t.trim())},Yotpo.Animations=function(t){function e(){}function o(t,e){e=e/1e3+"s",t.style["-webkit-transition-duration"]=e,t.style["-webkit-transition-duration"]=e,t.style["-moz-transition-duration"]=e,t.style["-o-transition-duration"]=e,t.style["-ms-transition-duration"]=e,t.style["transition-duration"]=e}return e.slideDown=function(e){t.removeClass(e,"yotpo-animation-fade");var o=e.parentNode.offsetWidth+"px";e.style.position="absolute",e.style.top="-10000px",e.style.display="block",e.style.width=o;var n=e.offsetHeight+"px";e.style.height=0,e.style.width="",e.style.overflow="hidden",e.style.right="0",e.style.top="0",e.style.position="relative",setTimeout(function(){t.addClass(e,"yotpo-animation-slide")},10),setTimeout(function(){e.style.height=n},20),setTimeout(function(){e.style.height="auto",t.removeClass(e,"yotpo-animation-slide")},1e3)},e.slideUp=function(e){t.removeClass(e,"yotpo-animation-fade");var o=e.offsetHeight+"px";t.addClass(e,"yotpo-animation-slide"),e.style.height=o,e.style.overflow="hidden",setTimeout(function(){e.style.height="0px"},10),setTimeout(function(){e.style.height=o,t.removeClass(e,"yotpo-animation-slide"),e.style.display="none"},1e3)},e.toggleSlide=function(e){"block"!=t.getDisplayStyle(e)?t.Animations.slideDown(e):t.Animations.slideUp(e)},e.fadeIn=function(e,n){n=n||"200",t.addClass(e,"yotpo-animation-fade"),t.removeClass(e,"yotpo-hidden"),o(e,n),e.style.opacity=0,e.style.display="inherit",setTimeout(function(){e.style.opacity=1,t.removeClass(e,"yotpo-animation-fade")},1)},e.fadeOut=function(e,n){n=n||"200",t.addClass(e,"yotpo-animation-fade"),o(e,n),setTimeout(function(){e.style.opacity=0},1),setTimeout(function(){e.style.display="none",t.removeClass(e,"yotpo-animation-fade")},n)},e.toggleFade=function(e,o){"none"==t.getDisplayStyle(e)?t.Animations.fadeIn(e,o):t.Animations.fadeOut(e,o)},e}(Yotpo),Yotpo.Session=function(t){function e(){}return e.prototype.get=function(e,o){var n=this,i={token:{route:t.getWidgetHost("dynamic")+"/sessions/login",handler:function(t){return t.token}},user:{route:t.getApiHost("dynamic")+"/users/me?utoken="+n.token,handler:function(t){return t.response.user}}};n[e]?o(n[e]):t.ajax(i[e].route,function(t){try{t=JSON.parse(t),n[e]=i[e].handler(t)}catch(s){}o(n[e])})},e.prototype.init=function(){var e=this;t.ajax(t.getWidgetHost("dynamic")+"/sessions/sign_in_url",function(t){t=JSON.parse(t),e.signInUrl=t.url,e.trigger("init")})},e.prototype.signInNetwork=function(t){return this.signInUrl+"&network="+t},e.prototype.checkLogin=function(t){var e=this;e.get("token",function(){e.trigger("checkLogin",{submit:t||!1})})},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Review=function(t){function e(e,n){this.params={},t.copy(e,this.params),this.analyticCatgeory=n||o}var o="reviews";return e.load=function(e,o){var n=new t.Review({id:+e.getAttribute("data-review-id")},o);t.Modules.Handle.action.call(e),t.Modules.Handle.tooltip.call(e),t.Modules.Vote.bind.call(e,n);var i=function(){t.currentAnalytics.trackEvent(n.analyticCatgeory,"clicked_on","widget_expand_content")};t.Modules.CollapsibleElement.bind(e,350,"content-review",i);var s=e.querySelectorAll(".yotpo-multiple-rating-fields  .yotpo-question-field, .yotpo-multiple-rating-fields .yotpo-product-related-fields, .yotpo-multiple-rating-fields .yotpo-user-field");return t.CustomFields.bind(s,n.get("id")),n},e.prototype.setOriginalElement=function(t){this.originalElement=t},e.prototype.get=function(t){return this.params[t]},e.prototype.getType=function(){return"review"},e.prototype.setUser=function(t){this.user=t},e.prototype.save=function(e){e=e||!1;var o=this,n=t.convertComplexObjectToQueryStringParams(this.params),i=t.getApiHost()+(e?"/v1/widget/reviews":"/reviews/dynamic_create.json");"GET"==t.dynamicCreateType&&(i+="?"+n),t.ajax(i,function(t){o.data=JSON.parse(t);var e=o.data.code||o.data.status.code;switch(e){case 200:o.trigger("save");break;default:o.trigger("error")}},t.dynamicCreateType,n)},e.prototype.vote=function(e,o){t.Modules.Vote.perform.call(this,e,o),t.currentAnalytics.trackEvent(this.analyticCatgeory,"clicked_on","vote_"+e)},e.prototype.updateOriginalVote=function(t,e){if(this.originalElement){var o=this.originalElement.querySelector(".vote-sum[data-type="+t+"]");o&&(o.innerHTML=+o.innerHTML+e)}},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.render=function(e){var o=this.user?this.user.display_name:this.get("display_name"),n=e.cloneNode(!0);n.querySelector(".yotpo-user-letter").innerHTML=o.substr(0,1).toUpperCase(),n.querySelector(".yotpo-user-name").innerHTML=o;var i=n.querySelector(".yotpo-header"),s=i.querySelector(".label-with-tooltip");this.user?(t.addClass(i,"yotpo-verified-user"),t.removeClass(s,"yotpo-hidden")):(t.removeClass(i,"yotpo-verified-user"),t.addClass(s,"yotpo-hidden"));for(var r=n.querySelectorAll(".yotpo-review-stars .yotpo-icon"),a=+this.get("review_score"),l=0;l<r.length;++l)t.removeClass(r[l],a>l?"yotpo-icon-empty-star":"yotpo-icon-star"),t.addClass(r[l],l>=a?"yotpo-icon-empty-star":"yotpo-icon-star");n.querySelector(".content-title").innerHTML=this.get("review_title"),n.querySelector(".content-review").innerHTML=this.get("review_content").replace(/\n/g,"</br>");var c=n.querySelector(".product-link");c&&(c.innerHTML+=this.get("product_title"));var d=n.querySelector(".product-link-wrapper");d&&d.setAttribute("href",this.get("product_url"));for(var u=n.querySelectorAll(".social-link"),l=0;l<u.length;++l){var p=this.shareLink(u[l].getAttribute("data-network").toLowerCase()).get("link");u[l].setAttribute("href",p)}t.CustomFieldsRenderer.render(n,this.params),t.removeClass(n,"yotpo-template"),t.removeClass(n,"yotpo-hidden");var g=document.createElement("div");g.appendChild(n),e.insertAdjacentHTML("afterend",g.innerHTML),t.Modules.Handle.action.call(e.nextSibling)},e.prototype.shareLinks=function(){var e=this;return e._shareLinks||(e._shareLinks={},t.forEach(["facebook","twitter","google","linkedin"],function(o){e._shareLinks[o]=new t.ShareLink(o,e.params)})),e._shareLinks},e.prototype.shareLink=function(t){return this.shareLinks()[t]},e}(Yotpo),Yotpo.InstagramPost=function(t){function e(t,e,o){this.params={id:t},this.originalElement=e,this.analyticsCategory=o}return e.load=function(e,o,n){var i=new t.InstagramPost(e.getAttribute("data-instagram-id"),o,n);return t.Modules.Handle.action.call(e),t.Modules.Vote.bind.call(e,i),i},e.prototype.get=function(t){return this.params[t]},e.prototype.getType=function(){return"instagram"},e.prototype.vote=function(e,o){t.Modules.Vote.perform.call(this,e,o),t.currentAnalytics.trackEvent(this.analyticsCategory,"clicked_on","vote_"+e)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.updateOriginalVote=function(t,e){var o=this.originalElement.querySelector(".vote-sum[data-type="+t+"]");o&&(o.innerHTML=+o.innerHTML+e)},e}(Yotpo),Yotpo.Question=function(t){function e(e){this.params={},t.copy(e,this.params)}return e.load=function(e){var o=new t.Question({id:+e.getAttribute("data-question-id")});t.Modules.Handle.action.call(e),t.Modules.Handle.tooltip.call(e);for(var n,i=e.querySelectorAll(".yotpo-comment"),s=0;n=i[s];s++)t.Answer.load(n);return o},e.prototype.setUser=function(t){this.user=t},e.prototype.save=function(){var e=this,o=t.getApiHost()+"/questions/send_confirmation_mail",n=t.convertHashToQueryStringParams(this.params);"GET"==t.dynamicCreateType&&(o+="?"+n),t.ajax(o,function(t){e.data=JSON.parse(t),e.trigger("save")},t.dynamicCreateType,n)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Answer=function(t){function e(e){this.params={},t.copy(e,this.params)}return e.load=function(e){var o=new t.Answer({id:+e.getAttribute("data-answer-id")});return t.Modules.Vote.bind.call(e,o),o},e.prototype.vote=function(e,o){t.Modules.Vote.perform.call(this,e,o),t.currentAnalytics.trackEvent("answers","clicked_on","vote_"+e)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.get=function(t){return this.params[t]},e.prototype.getType=function(){return"answer"},e}(Yotpo),Yotpo.Tabs=function(t){function e(t){var e=this;e.element=t,e.tabs=e.element.querySelectorAll("li[data-content]");for(var o=0;o<e.tabs.length;++o)e.tabs[o].onclick=function(t){return e.activate(this)&&e.trigger("changed",{element:this,event:t}),!1}}return e.prototype.getElement=function(){return this.element},e.prototype.getTabs=function(){return this.tabs},e.prototype.getTab=function(t){for(var e=0;e<this.tabs.length;++e)if(this.tabs[e].getAttribute("data-type")==t)return this.tabs[e];return null},e.prototype.getActive=function(){for(var e=0;e<this.tabs.length;++e)if(t.hasClass(this.tabs[e],"yotpo-active"))return this.tabs[e]},e.prototype.activate=function(e){if(t.hasClass(e,"yotpo-active"))return!1;for(var o=0;o<this.tabs.length;++o)t.removeClass(this.tabs[o],"yotpo-active"),t.forEach(this.tabs[o].getAttribute("data-content").split(" "),function(e){t.removeClass(document.getElementById(e),"yotpo-active")});return t.addClass(e,"yotpo-active"),t.forEach(e.getAttribute("data-content").split(" "),function(e){t.addClass(document.getElementById(e),"yotpo-active")}),!0},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Select=function(t){function e(t){this.element=t,this.selected=this.element.getElementsByClassName("selected")[0],this.list=this.element.getElementsByClassName("list-categories")[0];for(var e in n)n.hasOwnProperty(e)&&this.on(e,n[e]);o.call(this)}function o(){function e(t,e){if("change"==t){var n=o.selected.getAttribute("data-selected-key"),i=e.getAttribute("sort-name");return n!=i}return!0}var o=this,n=[];n.push({name:"toggle",elements:o.element.querySelectorAll(".yotpo-dropdown-button .selected, .yotpo-dropdown-button .yotpo-icon")}),n.push({name:"change",elements:o.list.getElementsByClassName("list-category")}),n.push({name:"click",elements:o.list.getElementsByClassName("list-category")}),t.forEach(n,function(n){for(var i=0;i<n.elements.length;++i)t.addEventListener(n.elements[i],"click",function(t,n){return function(i){e(t,n)&&o.trigger(t,{element:n},i)}}(n.name,n.elements[i]))}),t.addEventListener(window,"click",function(){o.list.style.display="none"})}var n={};return e.prototype.getElement=function(){return this.element},e.prototype.getType=function(){return this.element.getAttribute("data-type")},e.prototype.getValue=function(){return this.element.getAttribute("data-value")},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o,n){t.Modules.Event.trigger.call(this,e,o,n)},n={toggle:function(e,o){t.toggleVisibility(this.list),o?"undefined"!=typeof o.stopPropagation?o.stopPropagation():o.cancelBubble=!0:window.event.cancelBubble=!0},change:function(e){this.element.setAttribute("data-value",e.element.getAttribute("data-value")),this.selected.setAttribute("data-selected-key",e.element.getAttribute("sort-name")),this.selected.innerHTML=t.getElementText(e.element.children[0])},click:function(e,o){for(var i=["property","label","category"],s=0;s<i.length;++s)attrName="data-analytic-"+i[s],e.element.getAttribute(attrName)&&this.element.setAttribute(attrName,e.element.getAttribute(attrName));this.element.getAttribute("data-analytic-category")&&t.currentAnalytics.trackEvent(this.element.getAttribute("data-analytic-category"),"clicked_on",this.element.getAttribute("data-analytic-label"),this.element.getAttribute("data-analytic-property")),n.toggle.call(this,e,o)}},e}(Yotpo),Yotpo.Stars=function(t){function e(t){this.element=t,this.stars=this.element.getElementsByClassName("review-star"),this.score=0,o.call(this)}function o(){for(var t=this,e=0;e<t.stars.length;++e)t.stars[e].onclick=function(){t.setScore(+this.getAttribute("data-score")),t.trigger("changed")},t.stars[e].onmouseover=function(){n.call(t.stars,+this.getAttribute("data-score"))};t.element.onmouseout=function(){n.call(t.stars,t.getScore())}}function n(t){for(var e=0;e<this.length;++e)i.call(this[e],t>e)}function i(e){var o=e?"yotpo-icon-star":"yotpo-icon-empty-star",n=e?"yotpo-icon-empty-star":"yotpo-icon-star";t.hasClass(this,o)||(t.addClass(this,o),t.removeClass(this,n))}return e.prototype.getElement=function(){return this.element},e.prototype.getStars=function(){return this.stars},e.prototype.getScore=function(){return this.score},e.prototype.setScore=function(t){this.score=t,n.call(this.stars,t)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Messages=function(t){function e(t){this.messages={};for(var e,n=0;e=t[n];n++)for(var i=e.querySelectorAll(".yotpo-thank-you, .yotpo-thankyou-confirmation"),s=0;s<i.length;++s)this.messages[i[s].getAttribute("data-type")]=i[s];o.call(this.messages)}function o(){var e=this;t.forEach(Object.keys(e),function(o){var n=e[o],i=n.querySelectorAll(".yotpo-icon-cross")[0];i&&(i.onclick=function(){t.addClass(n,"yotpo-hidden")})})}return e.prototype.get=function(t){return this.messages[t]},e.prototype.show=function(e){t.removeClass(this.messages[e],"yotpo-hidden")},e.prototype.hide=function(e){t.addClass(this.messages[e],"yotpo-hidden")},e.prototype.hideAll=function(){for(var e in this.messages){var o=this.messages[e];this.messages.hasOwnProperty(e)&&!t.hasClass(o,"yotpo-hidden")&&t.addClass(o,"yotpo-hidden")}},e}(Yotpo),Yotpo.Form=function(t){function e(e,o){this._controller=e,this.element=o,this.submitButton=this.element.getElementsByClassName("yotpo-submit")[0],this.CustomFieldsForm=new t.CustomFieldsForm(this.getElement().getElementsByClassName("form-element yotpo-custom-tag-field")),n.call(this),i.call(this),s.call(this),this.getElement().querySelector(".socialize-wrapper")&&r.call(this),l.call(this),c.call(this),t.Modules.Handle.popup.call(this)}function o(e){for(var o in e)if(-1==o.search("custom_fields")&&e.hasOwnProperty(o)){e[o]=t.cleanInput(e[o]);for(var n in u[o])if(u[o].hasOwnProperty(n)&&0==u[o][n](e[o]))throw{message:"FieldNotValid:"+o,field:o,type:n}}}function n(){var e=this,o=this.getElement().getElementsByClassName("stars-wrapper")[0];o&&(e.stars=new t.Stars(o),e.stars.on("changed",function(){t.currentAnalytics.trackEvent(e._controller.analyticsCategory,"clicked_on",e.stars.getScore())}))}function i(){var t=this;t.error={},t.error.box=t.getElement().getElementsByClassName("error-box")[0],t.error.box.getElementsByClassName("yotpo-icon-cross")[0].onclick=function(){t.hideErrorBox()}}function s(){var e=this,o=e.getElement().querySelector(".write-form > .write-review > .yotpo-icon-btn > .yotpo-icon-cross");o&&(o.onclick=function(){t.removeClass(e.getElement(),"visible"),e.getElement().style.display="none"})}function r(){var e=this,o=new t.Session;o.on("checkLogin",function(t){o.token&&o.get("user",function(n){n.token=o.token,a.call(e,n),t.submit&&e.submit()})}),e.on("opened",function(){o.checkLogin()}),o.on("init",function(){for(var n=e.getElement().querySelectorAll(".socialize .yotpo-icon-btn"),i=0;i<n.length;++i)n[i].onclick=function(n){return function(){t.currentAnalytics.trackEvent(e._controller.analyticsCategory,"clicked_on","connect_"+n);var i=window.open(o.signInNetwork(n),"","status=no,toolbar=no,location=no,menubar=no,directories=no,scrollbars=yes,resizeable=yes,width="+p[n][0]+",height="+p[n][1]+",top=200,left=400");window.focus&&i.focus();var s=setInterval(function(){i.closed&&(clearInterval(s),o.checkLogin(!0))},200);return!1}}(n[i].getAttribute("data-network"))}),o.init()}function a(e){this.user=e;var o=this.getElement().querySelector(".socialize-wrapper .username");o&&(o.innerHTML=this.user.name);var n=[];n.push({elements:this.getElement().querySelectorAll(".socialize-wrapper .socialize, .socialize-wrapper .yotpo-or, .connect-wrapper .form-element"),name:"hide"}),n.push({elements:this.getElement().querySelectorAll(".socialize-wrapper .connected, .yotpo-footer"),name:"show"}),t.forEach(n,function(e){for(var o=0;o<e.elements.length;++o)t[e.name](e.elements[o])}),this.activate()}function l(){var e=this;e.submitButton.onclick=function(){t.hasClass(e.submitButton,"yotpo-disabled")||e.submit()}}function c(){var e=this,o=e.getElement().getElementsByClassName("write-review")[0];o.onkeydown=function(o){o=o||event,13!=o.keyCode||t.hasClass(o.srcElement,"yotpo-text-box")||e.submit()}}function d(e){for(var o=this.getElementsByClassName("social-link"),n=0;n<o.length;++n){var i=o[n].getAttribute("data-network");o[n].href=e[i].get("link")}t.Modules.Handle.popup.call(this)}var u={},p={};return e.prototype.getElement=function(){return this.element},e.prototype.getType=function(){var t=this._controller.getActiveSource()?this._controller.getActiveSource().getType():this._controller.get("settings").mode||"reviews";return t=t.substr(0,t.length-1)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.activate=function(){t.removeClass(this.submitButton,"yotpo-disabled")},e.prototype.submit=function(){t.addClass(this.submitButton,"yotpo-disabled"),this.cleanErrors();var e={};"undefined"!=typeof this.stars&&(e.review_score=this.stars.getScore().toString());for(var o=this.getElement().getElementsByClassName("form-element"),n={},i=0;i<o.length;++i){var s=o[i];if(!t.isHidden(s)){var r=s.getElementsByClassName("y-input");if(r.length){var a=r[0];if(!a.name)continue;n[a.name]=a,e[a.name]=a.value}}}t.copy(this.CustomFieldsForm.getValues(),e);var l=this._controller._controller;l.getUserReference()&&t.hasClass(this.element,"write-review-wrapper")&&(e.user_reference=l.getUserReference());try{this.saveContent(this.getType(),e)}catch(c){t.removeClass(this.submitButton,"yotpo-disabled");var d=n[c.field]||this.CustomFieldsForm.getFieldElement(c.field);d&&(t.hasClass(d,"yotpo-custom-tag-field")?this.CustomFieldsForm.showFieldError(d,c.type):t.addClass(d,"error")),"empty"==c.type&&("review_title"==c.field?t.currentAnalytics.trackEvent(this._controller.analyticsCategory,"failure_forgot","title"):"review_content"==c.field&&t.currentAnalytics.trackEvent(this._controller.analyticsCategory,"failure_forgot","body")),"review_score"==c.field&&(d=this.stars.getElement()),this.showError(d,c.type)}},e.prototype.visible=function(){return t.hasClass(this.getElement(),"visible")},e.prototype.clean=function(){function e(e){t.removeClass(e,"visible"),e.style.display="none"}e(this.getElement());for(var o=this.getElement().getElementsByClassName("visible"),n=o.length-1;n>=0;--n)e(o[n]);for(var i=this.getElement().querySelectorAll(".form-element .y-input[name]"),n=0;n<i.length;++n)i[n].value="";this.CustomFieldsForm.reset(),"undefined"!=typeof this.stars&&this.stars.setScore(0),this.submitButton.style.marginTop=null},e.prototype.showError=function(e,o){for(var n=this.error.box.getElementsByClassName("error-text"),i=0;i<n.length;i++)t.hasClass(n[i],o)?t.show(n[i]):t.hide(n[i]);t.removeClass(this.error.box,"yotpo-hidden")},e.prototype.hideErrorBox=function(){t.addClass(this.error.box,"yotpo-hidden")},e.prototype.cleanErrors=function(){this.hideErrorBox(),this.CustomFieldsForm.cleanErrors();for(var e=this.getElement().querySelectorAll(".y-input.error"),o=0;o<e.length;++o)t.removeClass(e[o],"error")},e.prototype.saveContent=function(e,n){var i=this,s=i._controller._controller,r=0!=s.getUserSetting("async_create");if(o(n),i._controller.tabs&&"site"==i._controller.tabs.getActive().getAttribute("data-type")?n.product_tags&&delete n.product_tags:this.CustomFieldsForm.validate(n),n.appkey=i._controller.getAppKey(),window.location.host==t.hosts.b2b.dynamic){var a=window.location.pathname;n.review_source="/facebook_testimonials"==a?"widget_v2_facebook_tab":"/site_reviews_landing_page"==a?"widget_v2_dedicated_page":"widget_v2"}else n.review_source="widget_v2";this.user&&(n.utoken=this.user.token),t.copy(i._controller.getProductInfo(),n);var l=!1,c=i._controller._controller.getUserSetting("vendor_review_creation");if(c){var u=i._controller._controller.getTrustedVendorsData();if(Object.keys(u).length>0&&("1"==c.settings.show_name_field&&delete u.display_name,l=!0,t.copy(u,n),i._controller.tabs&&"site"==i._controller.tabs.getActive().getAttribute("data-type"))){var p=i._controller._controller.getWidgetByName("Main");p&&t.copy({page_pid:p.settings.pid},n)}}s.getUserSetting("prevent_duplicate_reviews")&&(n.prevent_duplicate_review=!0);var g=t[t.capitalize(e)];if("undefined"==typeof g)throw"Error resource is undefined - "+g;var h=this.getElement();t.togglePreLoader(h),t.currentAnalytics.trackEvent(i._controller.analyticsCategory,"shown","review_posted");var m=new g(n);m.on("save",function(){t.togglePreLoader(h);var o=i._controller.getActiveSource(),n=o?o.getTemplate():null,r="undefined"!=typeof s.getUserSetting("account_settings").settings.auto_publish&&"review"==e,a=s.getUserSetting("show_social_links"),c=i._controller.get("messages");"function"==typeof m.shareLinks&&d.call(c.get("share"),m.shareLinks()),n?(m.render(n),o.trigger("updated")):(i.clean(),c.show(r||a?"share":"pending-for-"+e+"-approval"),"question"!=e||l||c.show("question-approval"))}),m.on("error",function(){t.togglePreLoader(h),400==this.data.code&&"duplicate_review"==this.data.message&&(t.currentAnalytics.trackEvent(i._controller.analyticsCategory,"shown","duplicate_reviews"),i.showError(h.querySelector("[name=review_content]"),"user-already-reviewed"))}),m.setUser(this.user),m.save(r)},e.prototype.setInputField=function(t,e){var o=this.getInputField(t);o&&(o.value=e)},e.prototype.getInputField=function(t){return this.element.querySelector('input[name="'+t+'"]')},u={appkey:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},email:{email:t.validateEmail},display_name:{display_name_empty:t.validateStringMinLength,max_length:function(e){return t.validateStringMaxLength(e,40)}},sku:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},product_title:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},product_description:{max_length:function(e){return t.validateStringMaxLength(e,1e3)}},product_url:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},product_image_url:{max_length:t.validateStringMaxLength},review_score:{score:function(t){return+t>0}},review_title:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},review_content:{empty:t.validateStringMinLength,max_length:function(e){return t.validateStringMaxWords(e,5e3)}},content:{empty:t.validateStringMinLength,max_length:function(e){return t.validateStringMaxWords(e,5e3)}}},p={facebook:[984,600],twitter:[680,760],linkedin:[488,577],google_oauth2:[960,531]},e}(Yotpo),Yotpo.Analytics=function(Yotpo){function Analytics(t){this._controller=t,this.pageSku=t.pageSku;var e=t.getUserSetting("reporting_end_points");e?initYotpoMultiAnalytics.apply(this,[e]):initYotpoAnalytics.apply(this),this.trackedObjects={};var o=t.getUserSetting("cookie_path");o&&_yaq.push(["setCookiePath",o.settings.sub_path])}function trackYotpoEvent(t,e,o,n,i,s,r,a){_yaq.push(["trackStructEvent",t,e,o,n,i,s,a,r])}function initYotpoAnalytics(){_yaq.push(["setCollectorCf","d33im0067v833a"]),_yaq.push(["enableActivityTracking",10,10]),_yaq.push(["setAppId",yotpo_analytics_version])}function initYotpoMultiAnalytics(t){_yaq.push(["setCollectorUrl",t]),_yaq.push(["enableActivityTracking",10,10]),_yaq.push(["setAppId",yotpo_analytics_version])}function isTemplateReview(t){return"0"==t}this.JSON2||(this.JSON2={}),function(){"use strict";function isArray(t){if("isArray"in Array)return Array.isArray(t);var e=Object.prototype.toString.call(t);return"[object Array]"===e}function f(t){return 10>t?"0"+t:t}function objectToJSON(t,e){var o=Object.prototype.toString.apply(t);return"[object Date]"===o?isFinite(t.valueOf())?t.getUTCFullYear()+"-"+f(t.getUTCMonth()+1)+"-"+f(t.getUTCDate())+"T"+f(t.getUTCHours())+":"+f(t.getUTCMinutes())+":"+f(t.getUTCSeconds())+"Z":null:"[object String]"===o||"[object Number]"===o||"[object Boolean]"===o?t.valueOf():isArray(t)||"function"!=typeof t.toJSON?t:t.toJSON(e)}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var o,n,i,s,r,a=gap,l=e[t];switch(l&&"object"==typeof l&&(l=objectToJSON(l,t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],isArray(l)){for(s=l.length,o=0;s>o;o+=1)r[o]=str(o,l)||"null";return i=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(s=rep.length,o=0;s>o;o+=1)"string"==typeof rep[o]&&(n=rep[o],i=str(n,l),i&&r.push(quote(n)+(gap?": ":":")+i));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(i=str(n,l),i&&r.push(quote(n)+(gap?": ":":")+i));return i=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,i}}var cx=new RegExp("[\x00\xad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),pattern='\\\\\\"\x00--\x9f\xad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',escapable=new RegExp("["+pattern,"g"),gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON2.stringify&&(JSON2.stringify=function(t,e,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;o>n;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON2.parse&&(JSON2.parse=function(text,reviver){function walk(t,e){var o,n,i=t[e];if(i&&"object"==typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n=walk(i,o),void 0!==n?i[o]=n:delete i[o]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),new RegExp("^[\\],:{}\\s]*$").test(text.replace(new RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(new RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(t){var e=function(){"use strict";var t="s",o=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},n=function(){return o(new Date(2010,0,1,0,0,0,0))},i=function(){return o(new Date(2010,5,1,0,0,0,0))},s=function(t){var e=t.getMonth()>5?i():n(),s=o(t);return e-s!==0},r=function(){var e=n(),o=i(),s=n()-i();return 0>s?e+",1":s>0?o+",1,"+t:e+",0"},a=function(){var t=r();return new e.TimeZone(e.olson.timezones[t])};return{determine_timezone:function(){return"undefined"!=typeof console&&console.log("jstz.determine_timezone() is deprecated and will be removed in an upcoming version. Please use jstz.determine() instead."),a()},determine:a,date_is_dst:s}}();e.TimeZone=function(t){"use strict";var o=null,n=function(){return o},i=function(){for(var t=e.olson.ambiguity_list[o],n=t.length,i=0,s=t[0];n>i;i+=1)if(s=t[i],e.date_is_dst(e.olson.dst_start_dates[s]))return void(o=s)},s=function(){return"undefined"!=typeof e.olson.ambiguity_list[o]};return o=t,s()&&i(),{name:n}},e.olson={},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,1":"Europe/Moscow","180,0":"Asia/Baghdad","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Yerevan","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,2,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2010,3,30,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)},e.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]},"undefined"!=typeof exports?exports.jstz=e:t.jstz=e
}(this);var _yaq=_yaq||[],SnowPlow=SnowPlow||function(){var t=window;return{version:"js-0.13.2",expireDateTime:null,plugins:{},hasLoaded:!1,registeredOnLoadHandlers:[],documentAlias:document,windowAlias:t,navigatorAlias:navigator,screenAlias:screen,encodeWrapper:t.encodeURIComponent,decodeWrapper:t.decodeURIComponent,decodeUrl:unescape,asyncTracker:null}}();SnowPlow.isDefined=function(t){return"undefined"!=typeof t},SnowPlow.isNotNull=function(t){return null!==t},SnowPlow.isFunction=function(t){return"function"==typeof t},SnowPlow.isArray="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},SnowPlow.isEmptyArray=function(t){return SnowPlow.isArray(t)&&t.length<1},SnowPlow.isObject=function(t){return"object"==typeof t},SnowPlow.isJson=function(t){return SnowPlow.isDefined(t)&&SnowPlow.isNotNull(t)&&t.constructor==={}.constructor},SnowPlow.isNonEmptyJson=function(t){return SnowPlow.isJson(t)&&t!=={}},SnowPlow.isString=function(t){return"string"==typeof t||t instanceof String},SnowPlow.isNonEmptyString=function(t){return SnowPlow.isString(t)&&""!==t},SnowPlow.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},SnowPlow.encodeUtf8=function(t){return SnowPlow.decodeUrl(SnowPlow.encodeWrapper(t))},SnowPlow.fixupTitle=function(t){if(!SnowPlow.isString(t)){t=t.text||"";var e=SnowPlow.documentAlias.getElementsByTagName("title");e&&SnowPlow.isDefined(e[0])&&(t=e[0].text)}return t},SnowPlow.getHostName=function(t){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),o=e.exec(t);return o?o[1]:t},SnowPlow.hasSessionStorage=function(){try{return!!SnowPlow.windowAlias.sessionStorage}catch(t){return!0}},SnowPlow.hasLocalStorage=function(){try{return!!SnowPlow.windowAlias.localStorage}catch(t){return!0}},SnowPlow.toTimestamp=function(t,e){return e?t/1:Math.floor(t/1e3)},SnowPlow.toDatestamp=function(t){return Math.floor(t/864e5)},SnowPlow.fixupUrl=function(t,e,o){function n(t,e){var o=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+)[?])([^#]+)"),n=o.exec(t),i=new RegExp("(?:^|&)"+e+"=([^&]*)"),s=n?i.exec(n[1]):0;return s?SnowPlow.decodeWrapper(s[1]):""}return"translate.googleusercontent.com"===t?(""===o&&(o=e),e=n(e,"u"),t=SnowPlow.getHostName(e)):("cc.bingj.com"===t||"webcache.googleusercontent.com"===t||"74.6."===t.slice(0,5))&&(e=SnowPlow.documentAlias.links[0].href,t=SnowPlow.getHostName(e)),[t,e,o]},SnowPlow.fixupDomain=function(t){var e=t.length;return"."===t.charAt(--e)&&(t=t.slice(0,e)),"*."===t.slice(0,2)&&(t=t.slice(1)),t},SnowPlow.getReferrer=function(){var t="";try{t=SnowPlow.windowAlias.top.document.referrer}catch(e){if(SnowPlow.windowAlias.parent)try{t=SnowPlow.windowAlias.parent.document.referrer}catch(o){t=""}}return""===t&&(t=SnowPlow.documentAlias.referrer),t},SnowPlow.addEventListener=function(t,e,o,n){return t.addEventListener?(t.addEventListener(e,o,n),!0):t.attachEvent?t.attachEvent("on"+e,o):void(t["on"+e]=o)},SnowPlow.getCookie=function(t){var e=new RegExp("(^|;)[ ]*"+t+"=([^;]*)"),o=e.exec(SnowPlow.documentAlias.cookie);return o?SnowPlow.decodeWrapper(o[2]):0},SnowPlow.setCookie=function(t,e,o,n,i,s){var r;o&&(r=new Date,r.setTime(r.getTime()+o)),SnowPlow.documentAlias.cookie=t+"="+SnowPlow.encodeWrapper(e)+(o?";expires="+r.toGMTString():"")+";path="+(n||"/")+(i?";domain="+i:"")+(s?";secure":"")},SnowPlow.executePluginMethod=function(t,e){var o,n,i="";for(o in SnowPlow.plugins)Object.prototype.hasOwnProperty.call(SnowPlow.plugins,o)&&(n=SnowPlow.plugins[o][t],SnowPlow.isFunction(n)&&(i+=n(e)));return i},SnowPlow.sha1=function(t){var e,o,n,i,s,r,a,l,c,d,u=function(t,e){return t<<e|t>>>32-e},p=function(t){var e,o,n="";for(e=7;e>=0;e--)o=t>>>4*e&15,n+=o.toString(16);return n},g=[],h=1732584193,m=4023233417,f=2562383102,y=271733878,v=3285377520,w=[];for(t=SnowPlow.encodeUtf8(t),d=t.length,o=0;d-3>o;o+=4)n=t.charCodeAt(o)<<24|t.charCodeAt(o+1)<<16|t.charCodeAt(o+2)<<8|t.charCodeAt(o+3),w.push(n);switch(3&d){case 0:o=2147483648;break;case 1:o=t.charCodeAt(d-1)<<24|8388608;break;case 2:o=t.charCodeAt(d-2)<<24|t.charCodeAt(d-1)<<16|32768;break;case 3:o=t.charCodeAt(d-3)<<24|t.charCodeAt(d-2)<<16|t.charCodeAt(d-1)<<8|128}for(w.push(o);14!==(15&w.length);)w.push(0);for(w.push(d>>>29),w.push(d<<3&4294967295),e=0;e<w.length;e+=16){for(o=0;16>o;o++)g[o]=w[e+o];for(o=16;79>=o;o++)g[o]=u(g[o-3]^g[o-8]^g[o-14]^g[o-16],1);for(i=h,s=m,r=f,a=y,l=v,o=0;19>=o;o++)c=u(i,5)+(s&r|~s&a)+l+g[o]+1518500249&4294967295,l=a,a=r,r=u(s,30),s=i,i=c;for(o=20;39>=o;o++)c=u(i,5)+(s^r^a)+l+g[o]+1859775393&4294967295,l=a,a=r,r=u(s,30),s=i,i=c;for(o=40;59>=o;o++)c=u(i,5)+(s&r|s&a|r&a)+l+g[o]+2400959708&4294967295,l=a,a=r,r=u(s,30),s=i,i=c;for(o=60;79>=o;o++)c=u(i,5)+(s^r^a)+l+g[o]+3395469782&4294967295,l=a,a=r,r=u(s,30),s=i,i=c;h=h+i&4294967295,m=m+s&4294967295,f=f+r&4294967295,y=y+a&4294967295,v=v+l&4294967295}return c=p(h)+p(m)+p(f)+p(y)+p(v),c.toLowerCase()},SnowPlow.murmurhash3_32_gc=function(t,e){var o,n,i,s,r,a,l,c;for(o=3&t.length,n=t.length-o,i=e,r=3432918353,a=461845907,c=0;n>c;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,i^=l,i=i<<13|i>>>19,s=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=(65535&s)+27492+(((s>>>16)+58964&65535)<<16);switch(l=0,o){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:l^=255&t.charCodeAt(c),l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,i^=l}return i^=t.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0},SnowPlow.base64encode=function(t){if(!t)return t;if("function"==typeof window.btoa)return btoa(t);var e,o,n,i,s,r,a,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,u=0,p="",g=[];do e=t.charCodeAt(d++),o=t.charCodeAt(d++),n=t.charCodeAt(d++),l=e<<16|o<<8|n,i=l>>18&63,s=l>>12&63,r=l>>6&63,a=63&l,g[u++]=c.charAt(i)+c.charAt(s)+c.charAt(r)+c.charAt(a);while(d<t.length);p=g.join("");var h=t.length%3;return(h?p.slice(0,h-3):p)+"===".slice(h||3)},SnowPlow.base64urlencode=function(t){if(!t)return t;var e=SnowPlow.base64encode(t);return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},SnowPlow.base64decode=function(t){var e,o,n,i,s,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="",l="",c="",d=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n=r.indexOf(t.charAt(d++)),i=r.indexOf(t.charAt(d++)),s=r.indexOf(t.charAt(d++)),c=r.indexOf(t.charAt(d++)),e=n<<2|i>>4,o=(15&i)<<4|s>>2,l=(3&s)<<6|c,a+=String.fromCharCode(e),64!=s&&(a+=String.fromCharCode(o)),64!=c&&(a+=String.fromCharCode(l)),e=o=l="",n=i=s=c="";while(d<t.length);return unescape(a)},SnowPlow.Tracker=function Tracker(argmap){function constructCollectorUrl(t){return"undefined"==typeof t?null:"cf"in t?collectorUrlFromCfDist(t.cf):"url"in t?asCollectorUrl(t.url):void 0}function ecommerceTransactionTemplate(){return{transaction:{},items:[]}}function purify(t){var e;return configDiscardHashTag?(e=new RegExp("#.*"),t.replace(e,"")):t}function getProtocolScheme(t){var e=new RegExp("^([a-z]+):"),o=e.exec(t);return o?o[1]:null}function resolveRelativeReference(t,e){var o,n=getProtocolScheme(e);return n?e:"/"===e.slice(0,1)?getProtocolScheme(t)+"://"+SnowPlow.getHostName(t)+e:(t=purify(t),(o=t.indexOf("?"))>=0&&(t=t.slice(0,o)),(o=t.lastIndexOf("/"))!==t.length-1&&(t=t.slice(0,o+1)),t+e)}function isSiteHostName(t){var e,o,n;for(e=0;e<configHostsAlias.length;e++){if(o=SnowPlow.fixupDomain(configHostsAlias[e].toLowerCase()),t===o)return!0;if("."===o.slice(0,1)){if(t===o.slice(1))return!0;if(n=t.length-o.length,n>0&&t.slice(n)===o)return!0}}return!1}function getImage(t){if(SnowPlow.isString(configCollectorUrl)){if(null===configCollectorUrl)throw"No SnowPlow collector configured, cannot track";setImage(configCollectorUrl+t)}else if(SnowPlow.isArray(configCollectorUrl))for(var e=0;e<configCollectorUrl.length;e++)setImage(configCollectorUrl[e]+t)}function setImage(t){var e=new Image(1,1);e.onload=function(){},e.src=t}function sendRequest(t,e){var o=new Date;configDoNotTrack||(getImage(t),SnowPlow.expireDateTime=o.getTime()+e)}function getCookieName(t){return configCookieNamePrefix+t+"."+domainHash}function getLegacyCookieName(t){return configCookieNamePrefix+t+"."+configTrackerSiteId+"."+domainHash}function getCookieValue(t){var e=SnowPlow.getCookie(getCookieName(t));return e?e:SnowPlow.getCookie(getLegacyCookieName(t))}function hasCookies(){var t=getCookieName("testcookie");return SnowPlow.isDefined(SnowPlow.navigatorAlias.cookieEnabled)?SnowPlow.navigatorAlias.cookieEnabled?"1":"0":(SnowPlow.setCookie(t,"1"),"1"===SnowPlow.getCookie(t)?"1":"0")}function updateDomainHash(){domainHash=hash((configCookieDomain||domainAlias)+(configCookiePath||"/")).slice(0,4)}function activityHandler(){var t=new Date;lastActivityTime=t.getTime()}function scrollHandler(){updateMaxScrolls(),activityHandler()}function getPageOffsets(){var t=SnowPlow.documentAlias.compatMode&&"BackCompat"!=SnowPlow.documentAlias.compatMode?SnowPlow.documentAlias.documentElement:SnowPlow.documentAlias.body;return[t.scrollLeft||SnowPlow.windowAlias.pageXOffset,t.scrollTop||SnowPlow.windowAlias.pageYOffset]}function resetMaxScrolls(){var t=getPageOffsets(),e=t[0];minXOffset=e,maxXOffset=e;var o=t[1];minYOffset=o,maxYOffset=o}function updateMaxScrolls(){var t=getPageOffsets(),e=t[0];minXOffset>e?minXOffset=e:e>maxXOffset&&(maxXOffset=e);var o=t[1];minYOffset>o?minYOffset=o:o>maxYOffset&&(maxYOffset=o)}function setDomainUserIdCookie(t,e,o,n,i){SnowPlow.setCookie(getCookieName("id"),t+"."+e+"."+o+"."+n+"."+i,configVisitorCookieTimeout,configCookiePath,configCookieDomain)}function loadDomainUserIdCookie(){var t,e=new Date,o=Math.round(e.getTime()/1e3),n=getCookieValue("id");return n?(t=n.split("."),t.unshift("0")):(domainUserId||(domainUserId=hash((SnowPlow.navigatorAlias.userAgent||"")+(SnowPlow.navigatorAlias.platform||"")+JSON2.stringify(browserFeatures)+o).slice(0,16)),t=["1",domainUserId,o,0,o,""]),t}function getTimestamp(){var t=new Date,e=t.getTime();return e}function getRequest(t,e){var o,n,i,s,r,a,l,c,d=new Date,u=Math.round(d.getTime()/1e3),p=getCookieName("id"),g=getCookieName("ses"),h=loadDomainUserIdCookie(),m=getCookieValue("ses"),f=configCustomUrl||locationHrefAlias;if(configDoNotTrack)return SnowPlow.setCookie(p,"",-1,configCookiePath,configCookieDomain),SnowPlow.setCookie(g,"",-1,configCookiePath,configCookieDomain),"";n=h[0],i=h[1],r=h[2],s=h[3],a=h[4],l=h[5],m||(s++,l=a),t.addRaw("dtm",getTimestamp()),t.addRaw("tid",String(Math.random()).slice(2,8)),t.addRaw("vp",detectViewport()),t.addRaw("ds",detectDocumentSize()),t.addRaw("vid",s),t.addRaw("duid",i),t.add("p",configPlatform),t.add("tv",SnowPlow.version),t.add("fp",fingerprint),t.add("aid",configTrackerSiteId),t.add("lang",browserLanguage),t.add("cs",documentCharset),t.add("tz",timezone),t.add("uid",businessUserId),configReferrerUrl.length&&t.add("refr",purify(configReferrerUrl));for(o in browserFeatures)Object.prototype.hasOwnProperty.call(browserFeatures,o)&&(c="res"===o||"cd"===o||"cookie"===o?"":"f_",t.addRaw(c+o,browserFeatures[o]));t.add("url",purify(f));var y=t.build();return setDomainUserIdCookie(i,r,s,u,l),SnowPlow.setCookie(g,"*",configSessionCookieTimeout,configCookiePath,configCookieDomain),y+=SnowPlow.executePluginMethod(e)}function collectorUrlFromCfDist(t){return asCollectorUrl(t+".cloudfront.net")}function asCollectorUrl(t){if(SnowPlow.isString(t))return("https:"==SnowPlow.documentAlias.location.protocol?"https":"http")+"://"+t+"/i";if(SnowPlow.isArray(t)){for(var e=[],o=0;o<t.length;o++)e.push(("https:"==SnowPlow.documentAlias.location.protocol?"https":"http")+"://"+t[o]+"/i");return e}}function requestStringBuilder(t){var e="",o=function(t,o,n){if(void 0!==o&&null!==o&&""!==o){var i=e.length>0?"&":"?";e+=i+t+"="+(n?SnowPlow.encodeWrapper(o):o)}},n=function(t){var e=new RegExp("\\$(.[^\\$]+)$"),o=e.exec(t);return o?o[1]:void 0},i=function(t,e){switch(e){case"tms":return SnowPlow.toTimestamp(t,!0);case"ts":return SnowPlow.toTimestamp(t,!1);case"dt":return SnowPlow.toDatestamp(t);default:return t}},s=function(){function t(e){var o={};for(var s in e){var r=s,a=e[s];e.hasOwnProperty(r)&&(SnowPlow.isDate(a)&&(type=n(r),type||(type="tms",r+="$"+type),a=i(a,type)),SnowPlow.isJson(a)&&(a=t(a))),o[r]=a}return o}return t}(),r=function(t,e){o(t,e,!0)},a=function(t,e){o(t,e,!1)},l=function(e,o,n){if(SnowPlow.isNonEmptyJson(n)){var i=s(n),l=JSON2.stringify(i);t?a(e,SnowPlow.base64urlencode(l)):r(o,l)}};return{add:r,addRaw:a,addJson:l,build:function(){return e}}}function logPageView(t,e,o,n,i,s,r,a){var l=SnowPlow.fixupTitle(t||configTitle),c=requestStringBuilder(configEncodeBase64);c.add("e","pv"),c.add("page",l),c.add("se_ca",o),c.add("se_ac",n),c.add("se_la",i),c.add("se_pr",s),c.add("se_psk",r),c.add("se_va",a),c.addJson("cx","co",e);var d=getRequest(c,"pageView");sendRequest(d,configTrackerPause);var u=new Date;configMinimumVisitTime&&configHeartBeatTimer&&!activityTrackingInstalled&&(activityTrackingInstalled=!0,resetMaxScrolls(),SnowPlow.addEventListener(SnowPlow.documentAlias,"click",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mouseup",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mousedown",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mousemove",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mousewheel",activityHandler,supportsPassive()?{passive:!0}:!1),SnowPlow.addEventListener(SnowPlow.windowAlias,"DOMMouseScroll",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"scroll",scrollHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"keypress",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"keydown",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"keyup",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"resize",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"focus",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"blur",activityHandler),lastActivityTime=u.getTime(),setInterval(function(){var t=new Date;lastActivityTime+configHeartBeatTimer>t.getTime()&&configMinimumVisitTime<t.getTime()&&logPagePing(l,e,o,n,i,s,r,a)},configHeartBeatTimer))}function logPagePing(t,e,o,n,i,s,r,a){var l=requestStringBuilder(configEncodeBase64);l.add("e","pp"),l.add("page",t),l.add("se_ca",o),l.add("se_ac",n),l.add("se_la",i),l.add("se_pr",s),l.add("se_psk",r),l.add("se_va",a),l.addRaw("pp_mix",parseInt(minXOffset)),l.addRaw("pp_max",parseInt(maxXOffset)),l.addRaw("pp_miy",parseInt(minYOffset)),l.addRaw("pp_may",parseInt(maxYOffset)),l.addJson("cx","co",e),resetMaxScrolls();var c=getRequest(l,"pagePing");sendRequest(c,configTrackerPause)}function logStructEvent(t,e,o,n,i,s,r,a){var l=requestStringBuilder(configEncodeBase64);l.add("e","se"),l.add("se_ca",t),l.add("se_ac",e),l.add("se_la",o),l.add("se_pr",n),l.add("se_psk",i),l.add("se_va",s),l.add("se_tg",a),l.addJson("cx","co",r);var c=getRequest(l,"structEvent");sendRequest(c,configTrackerPause)}function logUnstructEvent(t,e,o){var n=requestStringBuilder(configEncodeBase64);n.add("e","ue"),n.add("ue_na",t),n.addJson("ue_px","ue_pr",e),n.addJson("cx","co",o);var i=getRequest(n,"unstructEvent");sendRequest(i,configTrackerPause)}function logTransaction(t,e,o,n,i,s,r,a,l,c){var d=requestStringBuilder(configEncodeBase64);d.add("e","tr"),d.add("tr_id",t),d.add("tr_af",e),d.add("tr_tt",o),d.add("tr_tx",n),d.add("tr_sh",i),d.add("tr_ci",s),d.add("tr_st",r),d.add("tr_co",a),d.add("tr_cu",l),d.addJson("cx","co",c);var u=getRequest(d,"transaction");sendRequest(u,configTrackerPause)}function logTransactionItem(t,e,o,n,i,s,r,a){var l=requestStringBuilder(configEncodeBase64);l.add("e","ti"),l.add("ti_id",t),l.add("ti_sk",e),l.add("ti_na",o),l.add("ti_ca",n),l.add("ti_pr",i),l.add("ti_qu",s),l.add("ti_cu",r),l.addJson("cx","co",a);var c=getRequest(l,"transactionItem");sendRequest(c,configTrackerPause)}function logLink(t,e){var o=requestStringBuilder(configEncodeBase64);o.add("e",e),o.add("t_url",purify(t));var n=getRequest(o,"link");sendRequest(n,configTrackerPause)}function logImpression(t,e,o,n,i){var s=requestStringBuilder(configEncodeBase64);s.add("e","ad"),s.add("ad_ba",t),s.add("ad_ca",e),s.add("ad_ad",o),s.add("ad_uid",n),s.addJson("cx","co",i);var r=getRequest(s,"impression");sendRequest(r,configTrackerPause)}function logConversionEvent(t,e,o,n){var i=requestStringBuilder(configEncodeBase64);i.add("e","tr"),i.add("se_va",t),i.add("tr_id",e),i.add("tr_tt",o),i.add("tr_cu",n);var s=getRequest(i,"conversion_tracking");sendRequest(s,configTrackerPause)}function prefixPropertyName(t,e){return""!==t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function trackCallback(t){var e,o,n,i=["","webkit","ms","moz"];if(!configCountPreRendered)for(o=0;o<i.length;o++)if(n=i[o],Object.prototype.hasOwnProperty.call(SnowPlow.documentAlias,prefixPropertyName(n,"hidden"))){"prerender"===SnowPlow.documentAlias[prefixPropertyName(n,"visibilityState")]&&(e=!0);break}return e?void SnowPlow.addEventListener(SnowPlow.documentAlias,n+"visibilitychange",function s(){SnowPlow.documentAlias.removeEventListener(n+"visibilitychange",s,!1),t()}):void t()}function getClassesRegExp(t,e){var o,n="(^| )(piwik[_-]"+e;if(t)for(o=0;o<t.length;o++)n+="|"+t[o];return n+=")( |$)",new RegExp(n)}function getLinkType(t,e,o){if(!o)return"lnk";var n=getClassesRegExp(configDownloadClasses,"download"),i=getClassesRegExp(configLinkClasses,"link"),s=new RegExp("\\.("+configDownloadExtensions+")([?&#]|$)","i");return i.test(t)?"lnk":n.test(t)||s.test(e)?"dl":0}function processClick(t){for(var e,o,n;null!==(e=t.parentNode)&&SnowPlow.isDefined(e)&&"A"!==(o=t.tagName.toUpperCase())&&"AREA"!==o;)t=e;if(SnowPlow.isDefined(t.href)){var i=t.hostname||SnowPlow.getHostName(t.href),s=i.toLowerCase(),r=t.href.replace(i,s),a=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i");a.test(r)||(n=getLinkType(t.className,r,isSiteHostName(s)),n&&(r=SnowPlow.decodeUrl(r),logLink(r,n)))}}function clickHandler(t){var e,o;t=t||SnowPlow.windowAlias.event,e=t.which||t.button,o=t.target||t.srcElement,"click"===t.type?o&&processClick(o):"mousedown"===t.type?1!==e&&2!==e||!o?lastButton=lastTarget=null:(lastButton=e,lastTarget=o):"mouseup"===t.type&&(e===lastButton&&o===lastTarget&&processClick(o),lastButton=lastTarget=null)}function addClickListener(t,e){e?(SnowPlow.addEventListener(t,"mouseup",clickHandler,!1),SnowPlow.addEventListener(t,"mousedown",clickHandler,!1)):SnowPlow.addEventListener(t,"click",clickHandler,!1)}function addClickListeners(t){if(!linkTrackingInstalled){linkTrackingInstalled=!0;var e,o=getClassesRegExp(configIgnoreClasses,"ignore"),n=SnowPlow.documentAlias.links;if(n)for(e=0;e<n.length;e++)o.test(n[e].className)||addClickListener(n[e],t)}}function generateFingerprint(){var t=[navigator.userAgent,[screen.height,screen.width,screen.colorDepth].join("x"),(new Date).getTimezoneOffset(),SnowPlow.hasSessionStorage(),SnowPlow.hasLocalStorage()],e=[];if(navigator.plugins)for(var o=0;o<navigator.plugins.length;o++){for(var n=[],i=0;i<navigator.plugins[o].length;i++)n.push([navigator.plugins[o][i].type,navigator.plugins[o][i].suffixes]);e.push([navigator.plugins[o].name+"::"+navigator.plugins[o].description,n.join("~")])}return SnowPlow.murmurhash3_32_gc(t.join("###")+"###"+e.sort().join(";"),123412414)}function detectTimezone(){var t=jstz.determine();return"undefined"==typeof t?"":t.name()}function detectViewport(){var t=SnowPlow.windowAlias,e="inner";return"innerWidth"in SnowPlow.windowAlias||(e="client",t=SnowPlow.documentAlias.documentElement||SnowPlow.documentAlias.body),t[e+"Width"]+"x"+t[e+"Height"]}function detectDocumentSize(){var t=SnowPlow.documentAlias.documentElement,e=Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth),o=Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight);return e+"x"+o}function supportsPassive(){try{var t=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,t)}catch(e){}return supportsPassive}function detectBrowserFeatures(){var t,e,o={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},n={};if(SnowPlow.navigatorAlias.mimeTypes&&SnowPlow.navigatorAlias.mimeTypes.length)for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e=SnowPlow.navigatorAlias.mimeTypes[o[t]],n[t]=e&&e.enabledPlugin?"1":"0");return"unknown"!=typeof navigator.javaEnabled&&SnowPlow.isDefined(SnowPlow.navigatorAlias.javaEnabled)&&SnowPlow.navigatorAlias.javaEnabled()&&(n.java="1"),SnowPlow.isFunction(SnowPlow.windowAlias.GearsFactory)&&(n.gears="1"),n.res=SnowPlow.screenAlias.width+"x"+SnowPlow.screenAlias.height,n.cd=screen.colorDepth,n.cookie=hasCookies(),n}function registerHook(hookName,userHook){var hookObj=null;if(SnowPlow.isString(hookName)&&!SnowPlow.isDefined(registeredHooks[hookName])&&userHook){if(SnowPlow.isObject(userHook))hookObj=userHook;else if(SnowPlow.isString(userHook))try{eval("hookObj ="+userHook)}catch(e){}registeredHooks[hookName]=hookObj}return hookObj}var registeredHooks={},locationArray=SnowPlow.fixupUrl(SnowPlow.documentAlias.domain,SnowPlow.windowAlias.location.href,SnowPlow.getReferrer()),domainAlias=SnowPlow.fixupDomain(locationArray[0]),locationHrefAlias=locationArray[1],configReferrerUrl=locationArray[2],configRequestMethod="GET",configPlatform="web",configCollectorUrl=constructCollectorUrl(argmap),configTrackerSiteId="",configCustomUrl,configTitle=SnowPlow.documentAlias.title,configDownloadExtensions="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",configHostsAlias=[domainAlias],configIgnoreClasses=[],configDownloadClasses=[],configLinkClasses=[],configTrackerPause=500,configMinimumVisitTime,configHeartBeatTimer,configDiscardHashTag,configCookieNamePrefix="_sp_",configCookieDomain,configCookiePath,configDoNotTrack,configCountPreRendered,configVisitorCookieTimeout=63072e6,configSessionCookieTimeout=18e5,configReferralCookieTimeout=15768e6,configEncodeBase64=!0,documentCharset=SnowPlow.documentAlias.characterSet||SnowPlow.documentAlias.charset,browserLanguage=SnowPlow.navigatorAlias.userLanguage||SnowPlow.navigatorAlias.language,browserFeatures=detectBrowserFeatures(),timezone=detectTimezone(),fingerprint=generateFingerprint(),linkTrackingInstalled=!1,activityTrackingInstalled=!1,lastActivityTime,minXOffset,maxXOffset,minYOffset,maxYOffset,lastButton,lastTarget,hash=SnowPlow.sha1,domainHash,domainUserId,businessUserId,ecommerceTransaction=ecommerceTransactionTemplate();return updateDomainHash(),SnowPlow.executePluginMethod("run",registerHook),{hook:registeredHooks,getHook:function(t){return registeredHooks[t]},getUserId:function(){return businessUserId},getDomainUserId:function(){return loadDomainUserIdCookie()[1]},getDomainUserInfo:function(){return loadDomainUserIdCookie()},getVisitorId:function(){return"undefined"!=typeof console&&console.log("SnowPlow: getVisitorId() is deprecated and will be removed in an upcoming version. Please use getDomainUserId() instead."),loadVisitorIdCookie()[1]},getVisitorInfo:function(){return"undefined"!=typeof console&&console.log("SnowPlow: getVisitorInfo() is deprecated and will be removed in an upcoming version. Please use getDomainUserInfo() instead."),loadVisitorIdCookie()},setSiteId:function(t){"undefined"!=typeof console&&console.log("SnowPlow: setSiteId() is deprecated and will be removed in an upcoming version. Please use setAppId() instead."),configTrackerSiteId=t},setAppId:function(t){configTrackerSiteId=t},setLinkTrackingTimer:function(t){configTrackerPause=t},setDownloadExtensions:function(t){configDownloadExtensions=t},addDownloadExtensions:function(t){configDownloadExtensions+="|"+t},setDomains:function(t){configHostsAlias=SnowPlow.isString(t)?[t]:t,configHostsAlias.push(domainAlias)},setIgnoreClasses:function(t){configIgnoreClasses=SnowPlow.isString(t)?[t]:t},setReferrerUrl:function(t){configReferrerUrl=t},setCustomUrl:function(t){configCustomUrl=resolveRelativeReference(locationHrefAlias,t)},setDocumentTitle:function(t){configTitle=t},setDownloadClasses:function(t){configDownloadClasses=SnowPlow.isString(t)?[t]:t},setLinkClasses:function(t){configLinkClasses=SnowPlow.isString(t)?[t]:t},discardHashTag:function(t){configDiscardHashTag=t},setCookieNamePrefix:function(t){configCookieNamePrefix=t},setCookieDomain:function(t){configCookieDomain=SnowPlow.fixupDomain(t),updateDomainHash()},setCookiePath:function(t){configCookiePath=t,updateDomainHash()},setVisitorCookieTimeout:function(t){configVisitorCookieTimeout=1e3*t},setSessionCookieTimeout:function(t){configSessionCookieTimeout=1e3*t},setReferralCookieTimeout:function(t){configReferralCookieTimeout=1e3*t},setDoNotTrack:function(t){var e=SnowPlow.navigatorAlias.doNotTrack||SnowPlow.navigatorAlias.msDoNotTrack;configDoNotTrack=t&&("yes"===e||"1"===e)},addListener:function(t,e){addClickListener(t,e)},enableLinkTracking:function(t){SnowPlow.hasLoaded?addClickListeners(t):SnowPlow.registeredOnLoadHandlers.push(function(){addClickListeners(t)})},enableActivityTracking:function(t,e){var o=new Date;configMinimumVisitTime=o.getTime()+1e3*t,configHeartBeatTimer=1e3*e},killFrame:function(){SnowPlow.windowAlias.location!==SnowPlow.windowAlias.top.location&&(SnowPlow.windowAlias.top.location=SnowPlow.windowAlias.location)},redirectFile:function(t){"file:"===SnowPlow.windowAlias.location.protocol&&(SnowPlow.windowAlias.location=t)},setCountPreRendered:function(t){configCountPreRendered=t},setUserId:function(t){businessUserId=t},attachUserId:function(){"undefined"!=typeof console&&console.log("SnowPlow: attachUserId() is deprecated and will be removed in an upcoming version. It no longer does anything (because nuid and duid have been separated out).")},setCollectorCf:function(t){configCollectorUrl=collectorUrlFromCfDist(t)},setCollectorUrl:function(t){configCollectorUrl=asCollectorUrl(t)},setPlatform:function(t){configPlatform=t},encodeBase64:function(t){configEncodeBase64=t},trackPageView:function(t,e,o,n,i,s,r,a){trackCallback(function(){logPageView(t,e,o,n,i,s,r,a)})},trackEvent:function(t,e,o,n,i,s){"undefined"!=typeof console&&console.log("SnowPlow: trackEvent() is deprecated and will be removed in an upcoming version. Please use trackStructEvent() instead."),logStructEvent(t,e,o,n,i,s)},trackStructEvent:function(t,e,o,n,i,s,r,a){logStructEvent(t,e,o,n,i,s,r,a)},trackUnstructEvent:function(t,e,o){logUnstructEvent(t,e,o)},addTrans:function(t,e,o,n,i,s,r,a,l,c){ecommerceTransaction.transaction={orderId:t,affiliation:e,total:o,tax:n,shipping:i,city:s,state:r,country:a,currency:l,context:c}},addItem:function(t,e,o,n,i,s,r,a){ecommerceTransaction.items.push({orderId:t,sku:e,name:o,category:n,price:i,quantity:s,currency:r,context:a})},trackTrans:function(){logTransaction(ecommerceTransaction.transaction.orderId,ecommerceTransaction.transaction.affiliation,ecommerceTransaction.transaction.total,ecommerceTransaction.transaction.tax,ecommerceTransaction.transaction.shipping,ecommerceTransaction.transaction.city,ecommerceTransaction.transaction.state,ecommerceTransaction.transaction.country,ecommerceTransaction.transaction.currency,ecommerceTransaction.transaction.context);for(var t=0;t<ecommerceTransaction.items.length;t++){var e=ecommerceTransaction.items[t];logTransactionItem(e.orderId,e.sku,e.name,e.category,e.price,e.quantity,e.currency,e.context)}ecommerceTransaction=ecommerceTransactionTemplate()},trackConversion:function(t,e,o,n){logConversionEvent(t,e,o,n)},trackLink:function(t,e,o){trackCallback(function(){logLink(t,e,o)})},trackImpression:function(t,e,o,n,i){logImpression(t,e,o,n,i)}}},SnowPlow.build=function(){"use strict";function t(){var t,e,o;for(t=0;t<arguments.length;t+=1)o=arguments[t],e=o.shift(),SnowPlow.isString(e)?SnowPlow.asyncTracker[e].apply(SnowPlow.asyncTracker,o):e.apply(SnowPlow.asyncTracker,o)}function e(){var t;if(SnowPlow.executePluginMethod("unload"),SnowPlow.expireDateTime)do t=new Date;while(t.getTimeAlias()<SnowPlow.expireDateTime)}function o(){var t;if(!SnowPlow.hasLoaded)for(SnowPlow.hasLoaded=!0,SnowPlow.executePluginMethod("load"),t=0;t<SnowPlow.registeredOnLoadHandlers.length;t++)SnowPlow.registeredOnLoadHandlers[t]();return!0}function n(){var t;SnowPlow.documentAlias.addEventListener?SnowPlow.addEventListener(SnowPlow.documentAlias,"DOMContentLoaded",function e(){SnowPlow.documentAlias.removeEventListener("DOMContentLoaded",e,!1),o()}):SnowPlow.documentAlias.attachEvent&&(SnowPlow.documentAlias.attachEvent("onreadystatechange",function n(){"complete"===SnowPlow.documentAlias.readyState&&(SnowPlow.documentAlias.detachEvent("onreadystatechange",n),o())}),SnowPlow.documentAlias.documentElement.doScroll&&SnowPlow.windowAlias===SnowPlow.windowAlias.top&&!function i(){if(!SnowPlow.hasLoaded){try{SnowPlow.documentAlias.documentElement.doScroll("left")}catch(t){return void setTimeout(i,0)}o()}}()),new RegExp("WebKit").test(SnowPlow.navigatorAlias.userAgent)&&(t=setInterval(function(){(SnowPlow.hasLoaded||/loaded|complete/.test(SnowPlow.documentAlias.readyState))&&(clearInterval(t),o())},10)),SnowPlow.addEventListener(SnowPlow.windowAlias,"load",o,!1)}function i(){return{push:t}}SnowPlow.addEventListener(SnowPlow.windowAlias,"beforeunload",e,!1),n(),Date.prototype.getTimeAlias=Date.prototype.getTime,SnowPlow.asyncTracker=new SnowPlow.Tracker;for(var s=0;s<_yaq.length;s++)t(_yaq[s]);return _yaq=new i,{addPlugin:function(t,e){SnowPlow.plugins[t]=e},getTrackerCf:function(t){return new SnowPlow.Tracker({cf:t})},getTrackerUrl:function(t){return new SnowPlow.Tracker({url:t})},getAsyncTracker:function(){return SnowPlow.asyncTracker}}},!function(){var t=SnowPlow.build();for(var e in t)t.hasOwnProperty(e)&&void 0===SnowPlow[e]&&(SnowPlow[e]=t[e])}();var yotpo_analytics_version="onsite_v2";return Yotpo.getCookie=SnowPlow.getCookie,Yotpo.setCookie=SnowPlow.setCookie,Analytics.prototype.trackEvent=function(t,e,o,n,i){1==this._firstEvent&&(this.trackPageView(this),this._firstEvent=!1);var s=Yotpo.testingGroupsHandler.getTestingGroupsForAnalytics();trackYotpoEvent.apply(this,[t,e,o,n,this.pageSku,this._controller.getAppKey(),s,i])},Analytics.prototype.trackUniqueEvent=function(t,e,o,n,i){var s=t+e+(n||"")+(JSON.stringify(i)||"");this.trackedObjects[s]||(this.trackEvent(t,e,o,n,i),this.trackedObjects[s]=!0)},Analytics.prototype.trackReview=function(t,e,o){var n=t.getAttribute("data-review-id");isTemplateReview(n)||this.trackUniqueEvent(e,o,"review",n)},Analytics.prototype.trackPageView=function(){_yaq.push(["trackPageView",null,null,null,null,null,null,this.pageSku,this._controller.getAppKey()])},Analytics.prototype.trackConversion=function(t,e,o,n){_yaq.push(["trackConversion",t,e,o,n])},Analytics.prototype.getYaq=function(){return _yaq},Analytics.prototype.getDomainUserId=function(){return SnowPlow.asyncTracker.getDomainUserId()},Analytics}(Yotpo),Yotpo.Inview=function(t){function e(t){var e=t||{};e.offset=e.offset||0,this.options=e,this.verifyInviewT=r.apply(this,[this.verifyInview,25]),this.saveWinOffsetT=r.apply(this,[this.saveWinOffset,50]),this.objects=[],this.winHeight=0,this.winWidth=0,this.modalObjCounter=0,this.saveWinOffset();var o=this;o.allWidgetsAreReady=!1,t.onAllWidgetsReady(function(){o.allWidgetsAreReady=!0,o.verifyInviewT()})}function o(e){return!(t.isHidden(e)||t.isHidden(e.parentElement)||t.hasClass(e,"yotpo-hidden")||t.hasClass(e,"yotpo-ignore-inview"))}function n(t,e){var o=i(t),n=0,r=this.winHeight+this.options.offset;if(e){var a=s(t),l=i(a);n=l.top,r=l.bottom,0>n&&0>r&&(n+=window.scrollY,r+=window.scrollY)}return o.left>=0&&o.right<=this.winWidth+this.options.offset&&(o.top>=n&&o.top<=r||o.bottom<=r&&o.bottom>=n-this.options.offset)}function i(e){return t.isIEFamily&&null==e.parentElement?{height:0,width:0,left:0,right:0,top:0,bottom:0}:e.getBoundingClientRect()}function s(t){var e=getComputedStyle(t),o="absolute"===e.position,n=/(auto|scroll)/;if("fixed"===e.position)return document.body;var i=null;for(i=t;i=i.parentElement;)if(e=getComputedStyle(i),(!o||"static"!==e.position)&&n.test(e.overflow+e.overflowY))return i;return document}function r(t,e){var o=0,n=this;
return function(){var i=+new Date;e>i-o||(o=i,t.call(n))}}return e.prototype.register=function(t,e){this.objects.push({element:t,callback:e,modalCalc:!1}),1==this.objects.length&&this.bindEvents(),this.verifyInviewT()},e.prototype.registerinModal=function(t,e){if(null!==t){var o=s(t).parentNode;this.objects.push({element:t,callback:e,modalCalc:o}),1==this.objects.length&&this.bindEvents(),o&&(this.modalObjCounter++,1==this.modalObjCounter&&this.bindEvents(t)),this.verifyInviewT()}},e.prototype.bindEvents=function(e){var o=void 0===e?window:s(e);t.addEventListener(o,"scroll",this.verifyInviewT),t.addEventListener(o,"resize",this.verifyInviewT),t.addEventListener(o,"resize",this.saveWinOffsetT),t.addEventListener(o,"pageshow",this.verifyInviewT)},e.prototype.unbindEvents=function(e){var o=void 0===e?window:s(e);t.removeEventListener(o,"scroll",this.verifyInviewT),t.removeEventListener(o,"resize",this.verifyInviewT),t.removeEventListener(o,"resize",this.saveWinOffsetT),t.removeEventListener(o,"pageshow",this.verifyInviewT)},e.prototype.verifyInview=function(){if(this.allWidgetsAreReady)for(var t,e=this.objects.length-1;t=this.objects[e];e--)n.apply(this,[t.element,t.modalCalc])&&o.apply(this,[t.element])&&(t.callback.apply(),this.objects.splice(e,1),t.modalCalc&&this.modalObjCounter--,0==this.modalObjCounter&&this.unbindEvents(t.element),0==this.objects.length&&this.unbindEvents())},e.prototype.saveWinOffset=function(){this.winHeight=window.innerHeight||document.documentElement.clientHeight,this.winWidth=window.innerWidth||document.documentElement.clientWidth},e}(Yotpo),document.getElementsByClassName||(document.getElementsByClassName=function(t){return this.querySelectorAll("."+t)},Element.prototype.getElementsByClassName=document.getElementsByClassName),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=o.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in i)t.call(i,s)&&a.push(s);if(e)for(r=0;n>r;r++)t.call(i,o[r])&&a.push(o[r]);return a}}()),Yotpo.API=function(t){function e(t){this.instance=t}return e.prototype.changeProductID=function(e,o){var n=!1;t.forEach(this.instance.getWidgets(),function(t){t.settings.pid==e&&(t.settings.pid=o,n=!0)}),n&&this.instance.updateContent()},e.prototype.refreshWidgets=function(){this.instance.refreshWidgets()},e.prototype.openForm=function(e,o){var n=function(){if(o=o||1300,!e)throw"openForm must be passed a type(such as review|question)";var n=this.getWidgetByName("Main");if(!n||!n.get("element").getElementsByClassName("write-"+e+"-button"))throw"openForm must be called on a page with a main widget";n.get("element").getElementsByClassName("write-"+e+"-button")[0].click();for(var i=n.get("forms")[e+"s"].getElement().getBoundingClientRect().top,s=[document.body,document.documentElement],r=0;r<s.length;++r){var a=s[r],l=a.scrollTop;if(t.scrollTo(a,i+l,o,!0),l!==a.scrollTop)break}};"ready"==this.instance.getState()?n.call(this.instance):this.instance.on("ready",n)},e.prototype.setFormOpenCallback=function(e){var o=function(){t.forEach(this.getWidgetsByNames(["Testimonials","Main"]),function(t){t.writeContentCallback=e;var o=t.forms||{};for(var n in o){var i=n.substr(0,n.length-1),s=t.element.getElementsByClassName("write-"+i+"-button");if(s.length>0)for(var r=0;r<s.length;r++)s[r].open=function(){this.click()}}})};"ready"==this.instance.getState()&&o.call(this.instance),this.instance.on("ready",o)},e.prototype.trackConversion=function(e,o,n){var i={orderId:e,orderAmount:o,orderCurrency:n};t.Libraries.Tracker.trackConversionOrder(this.instance.appKey,i)},e}(Yotpo),Yotpo.ShareLink=function(t){function e(t,e){if(!o(t))throw"Type is not valid";this.type=t,n.call(this,e)}function o(e){return l&&(c={facebook:{url:a("facebook","feed_link"),options:function(e){var o={app_key:e.appkey,sku:e.sku,user_email:e.email},n={app_id:a("facebook","application_id"),display:"popup",link:e.social_link,redirect_uri:"http://"+t.hosts.b2b.dynamic+"/shares?"+t.convertHashToQueryStringParams(o)};return n}},twitter:{url:a("twitter","intent_link"),options:function(t){return{url:t.social_link,text:t.review_content,via:"yotpo"}}},google:{url:a("google","share_link"),options:function(t){return{url:t.social_link}}},linkedin:{url:a("linkedin","share_link"),options:function(t){return{mini:!0,url:t.social_link,title:t.review_title,source:"Yotpo",summary:t.review_content}}}},l=!1),c[e]}function n(e){e.social_link=d[this.type].call(this,e);var n=o(this.get("type"));this.link=n.url+"?"+t.convertHashToQueryStringParams(t.compact(n.options(e)))}function i(e){var o={image_url:r(e.product_image_url),product_url:r(e.product_url),review:e.review_content?e.review_content.replace(t.emojiRegex,""):"",social_title:e.review_title?e.review_title.replace(t.emojiRegex,""):""};return"https://"+t.hosts.reviews_me.dynamic+"/facebook_post?"+t.convertHashToQueryStringParams(o)}function s(e){var o={reference_name:this.get("type")+"_social_share",url:r(e.product_url||document.location.href),app_key:e.appkey,redirect:!0};return"https://"+t.hosts.base.dynamic+"/go?"+t.convertHashToQueryStringParams(o)}function r(t){return t&&/^\/\//i.test(t)?"http:"+t:t&&!/^https?:\/\//i.test(t)?"http://"+t:t}function a(e,o){return t.socialData[e][o]}var l=!0,c={},d={facebook:i,twitter:s,google:s,linkedin:s};return t.socialData={facebook:{application_id:null,consumer_secret:"",feed_link:"https://www.facebook.com/dialog/feed"},twitter:{intent_link:"https://twitter.com/intent/tweet"},google:{share_link:"https://plus.google.com/share"},linkedin:{share_link:"https://www.linkedin.com/shareArticle"}},e.prototype.get=function(t){return this[t]},e}(Yotpo),Yotpo.CustomFields=function(t){function e(e,i){function s(){t.currentAnalytics.trackEvent(o,"clicked_on","crf_free_text_expanded",i)}t.Modules.CollapsibleElement.bind(e,n,"yotpo-question-field-answer",s)}var o="reviews",n=349,i={};return i.bind=function(t,o){for(var n=0;n<t.length;n++){var i=t[n];i.classList.contains("yotpo-question-field")&&e(i,o)}},i}(Yotpo),Yotpo.CustomFieldsForm=function(t){function e(e){t.addClass(e.querySelector(".yotpo-field-title"),"yotpo-custom-field-error")}function o(e){var o=e.querySelector(".yotpo-custom-field-error");o&&t.removeClass(o,"yotpo-custom-field-error")}function n(e){var o=e.querySelector(".error-text");o&&t.hide(o)}function i(){for(var e=0;e<this.element.length;e++){var o=this.element[e];if(t.hasClass(o,"yotpo-mandatory-custom-field")){var n=o.querySelector("input, textarea").name,i=this.inputParams["custom_fields["+n+"]"];if(!i||i.constructor==Array&&!i.length)throw{message:"FieldNotValid:"+i,field:n,type:"mandatory_field"}}}}function s(){for(var e=0;e<this.element.length;e++){var o=this.element[e];if(t.hasClass(o,"yotpo-input-size-limited")){var n=parseInt(o.getAttribute("data-min-length")),i=parseInt(o.getAttribute("data-max-length")),s=o.querySelector("input, textarea").name,r=this.inputParams["custom_fields["+s+"]"];if(r&&r.length>0&&(r.length>i||r.length<n))throw{message:"FieldNotValid:"+r,field:s,type:"open_question_answer_length",template_vars:{max_length:i}}}}}function r(t,e,o){if("checkbox"===o){for(var n=[],i=t.querySelectorAll('input[name="'+e+'"]:checked'),s=0;s<i.length;s++)n.push(i[s].value);return n}if("textarea"===o){var r=t.querySelector('textarea[name="'+e+'"]');return r.value}var a=t.querySelector('input[name="'+e+'"]'+("hidden"!=o?":checked":""));return a?a.value:""}function a(){for(var t=0;t<this.element.length;t++){var e=this.element[t].getElementsByClassName("yotpo-open-text-field")[0];e&&l.call(e)}}function l(){var t=this.getElementsByClassName("yotpo-text-box")[0],e=parseInt(t.getAttribute("maxlength")),o=this.getElementsByClassName("current-chars")[0];t.onkeyup=function(){var n=t.value.length;n>e&&(t.value=t.value.substring(0,e),n=e),o.innerHTML=n}}var c=function(t){this.element=t,this.inputParams={},this.fieldElements={},a.call(this)};return c.prototype.getFieldElement=function(t){return this.fieldElements[t]?this.fieldElements[t]:null},c.prototype.getValues=function(){this.inputParams={};for(var e=0;e<this.element.length;++e){var o=this.element[e];if(!t.isHidden(o)||t.hasClass(o,"yotpo-product-tag-param")){var n=o.querySelector("input, textarea"),i=n.name,s=n.type,a=r(o,i,s);this.fieldElements[i]=o,"product_tags"==i?this.inputParams[i]=a:t.isEmptyString(a)||(this.inputParams["custom_fields["+i+"]"]=a)}}return this.inputParams},c.prototype.reset=function(){for(var t=0;t<this.element.length;++t){var e=this.element[t].querySelector("input, textarea"),o=e.type;if("textarea"===o)e.value="";else for(var n=this.element[t].querySelectorAll('input[type="'+o+'"]:checked'),i=0;i<n.length;++i)n[i].checked=!1}},c.prototype.cleanErrors=function(){for(var t=0;t<this.element.length;++t){var e=this.element[t];o(e),n(e)}},c.prototype.validate=function(){i.call(this),s.call(this)},c.prototype.showFieldError=function(o,n){e(o);var i=o.getElementsByClassName(n)[0];i&&t.show(i)},c}(Yotpo),Yotpo.CustomFieldsRenderer=function(t){function e(t){var e={};for(var o in t)o.indexOf("custom_fields")>-1&&(e[o]=t[o]);return e}function o(e,o,n){if(!o)return!1;for(var i=!1,s=0;s<n.length;s++){var r=n[s],a=r.querySelector(".yotpo-template-field").cloneNode(!0);a.querySelector(".yotpo-field-description").innerHTML=e+":",a.querySelector(".yotpo-field-answer").innerHTML=o,t.removeClass(a,"yotpo-hidden"),t.removeClass(a,"yotpo-template-field"),r.appendChild(a),i=!0}return i}function n(t,e,o,n,r){var a=t.querySelector(".yotpo-product-related-fields"),l=2;e&&(l=e%2==1?0:1);var c=a.querySelectorAll(".yotpo-product-related-fields-column")[l];i(c,n),s(c,o,r)}function i(e,o){var n=e.querySelector(".yotpo-product-related-fields-names"),i=n.querySelector(".yotpo-product-related-field-name.yotpo-template-field"),s=i.cloneNode(!0);s.innerHTML=o+":",t.removeClass(s,"yotpo-hidden"),t.removeClass(s,"yotpo-template-field");var r=document.createElement("div");r.appendChild(s),n.insertAdjacentHTML("beforeend",r.innerHTML)}function s(e,o,n){var i=e.querySelector(".yotpo-product-related-fields-bars"),s=i.querySelector(".yotpo-"+o.toLowerCase()+"-bars.yotpo-template-field"),a=s.cloneNode(!0);r(n,a,o),t.removeClass(a,"yotpo-hidden"),t.removeClass(a,"yotpo-template-field");var l=document.createElement("div");l.appendChild(a);var c=document.createElement("div");t.addClass(c,"yotpo-clr"),l.appendChild(c),i.insertAdjacentHTML("beforeend",l.innerHTML)}function r(e,o,n){var i=parseInt(e),s=o.getElementsByClassName("yotpo-product-related-field-score-bar");switch(n.toLowerCase()){case"rating":for(var r=0;r<s.length&&i>=r+1;r++)t.addClass(s[r],"yotpo-rating-bar-full");break;case"size":var a=s[2*(i-1)],l=2==i?"fit":"offset";t.removeClass(a,"yotpo-size-bar-empty"),t.addClass(a,"yotpo-size-bar-"+l)}}var a={};return a.render=function(i,s){var r=yotpo.getUserSettings().custom_fields_info,a={".yotpo-product-related-fields":!1,".yotpo-user-related-fields":!1,".yotpo-open-question-fields":!1},l=1,c=e(s);for(var d in c){var u=d.match(/\[(.*?)\]/).pop(),p=r[u].field_type,g=r[u].title,h=c[d];if(["Rating","Size"].indexOf(p)>-1&&h>0)n(i,l,p,g,h),n(i,null,p,g,h),l++,a[".yotpo-product-related-fields"]=!0;else if(["SingleChoice","MultipleChoice"].indexOf(p)>-1){if(h instanceof Array){if(!(h.length>0))continue;h=h.join(", ")}var m=i.querySelectorAll(".yotpo-user-related-fields"),f=o(g,h,m);f&&(a[".yotpo-user-related-fields"]=!0)}else if(["CustomerFreeText","ProductFreeText"].indexOf(p)>-1){var y=i.querySelectorAll(".yotpo-open-question-fields");h&&(h=h.replace(/\n/g,"</br>"));var f=o(g,h,y);f&&(a[".yotpo-open-question-fields"]=!0)}}for(var v in a)if(!a[v]){var w=i.querySelector(v);w&&t.addClass(w,"yotpo-hidden")}},a}(Yotpo),Yotpo.Libraries=Yotpo.Libraries||{},Yotpo.Libraries.Tracker=function(t){var e={};return e.trackConversionOrder=function(e,o){var n=o.orderId,i=o.orderAmount,s=o.orderCurrency;e&&n&&i&&s&&t.Libraries.YotpoTracker.trackConversionOrder(e,n,i,s)},e.fbTracking=function(e,o){var n=new t.Libraries.FacebookAds(e.pixel_id);1==e.page_view&&n.trackPageView(),1==e.purchase&&o&&n.trackPurchase(o)},e}(Yotpo),Yotpo.Libraries=Yotpo.Libraries||{},Yotpo.Libraries.YotpoTracker=function(t){var e=1,o={};return o.trackConversionOrder=function(o,n,i,s){var r=t.getApiHost()+"/conversion_tracking?app_key="+o+"&order_id="+n+"&order_amount="+i+"&order_currency="+s+"&v="+e;t.ajax(r,function(e){e=JSON.parse(e),t.currentAnalytics.trackConversion(e.appKey,e.orderId,e.orderAmount,e.orderCurrency)})},o}(Yotpo),Yotpo.Libraries=Yotpo.Libraries||{},Yotpo.Libraries.FacebookAds=function(){function t(t){window.fbq||(!function(t,e,o,n,i,s,r){t.fbq||(i=t.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},t._fbq||(t._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],s=e.createElement(o),s.async=!0,s.src=n,r=e.getElementsByTagName(o)[0],r.parentNode.insertBefore(s,r))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js"),fbq("init",t),fbq.yotpoInited=!0)}var e=.01,o="USD";return t.prototype.trackPageView=function(){fbq.yotpoInited&&fbq("track","PageView")},t.prototype.trackPurchase=function(t){var n={};n.value=t.orderAmount?t.orderAmount:e,n.currency=t.orderCurrency?t.orderCurrency:o,t.orderSkus&&(n.content_ids=t.orderSkus,n.content_type="product"),fbq.yotpoInited&&fbq("track","Purchase",n)},t}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Lightbox=function(t){function e(t,e,o,n,i,s){this._controller=t,this.element=e,this.contentProvider=o,this.analyticTracker=n||{track:function(){}},this.wrapperElement=i,this.minImageContainers=s?s+2:b,w.call(this),f.call(this)}function o(){var t=1===this.currImageIndex?this.numLightboxImages-1:this.currImageIndex-2,e=this.currImageIndex-1,o=this.currImageIndex===this.numLightboxImages?0:this.currImageIndex;return{prev:this.imagesInfo[t],current:this.imagesInfo[e],next:this.imagesInfo[o]}}function n(t){c.call(this,t),d.call(this),y.call(this)}function i(){for(var t=0;t<this.numImageContainers;t++)this.lightboxImageContainers[t].style.width=100/this.numImageContainers+"%";this.lightboxContainer.style.width=100*this.numImageContainers+"%"}function s(){for(var e=0;e<this.lightboxImageContainers.length;e++){var o=this.lightboxImageContainers[e];e<this.numImageContainers?t.removeClass(o,"yotpo-hidden"):t.addClass(o,"yotpo-hidden")}}function r(t,e){t.src!==e.src&&(t.src=e.url),t.setAttribute("data-image-id",e.imageId),e.externalImageId&&t.setAttribute("data-external-image-id",e.externalImageId)}function a(e){var o=e.index;y.call(this),t.removeClass(this.lightboxContainer,"yotpo-hidden"),t.addClass(this.loader,"yotpo-hidden"),t.removeClass(this.lightboxImages[o],"yotpo-hidden"),g.call(this),u.call(this);var n=e.id;t.currentAnalytics.trackUniqueEvent(this.analyticTracker.category,"shown","image",n)}function l(){var e=this;document.body.style.overflow="hidden",setTimeout(function(){t.addClass(e.modal,"yotpo-modal-active"),t.addClass(e.mask,"yotpo-active-display"),setTimeout(function(){t.addClass(e.modalContainer,"yotpo-active-display")},100)},10),e.wrapperElement&&document.body.appendChild(e.wrapperElement),p.call(this),m.call(this),t.addClass(e.lightboxContainer,"yotpo-hidden"),t.removeClass(e.loader,"yotpo-hidden")}function c(e){var o,n=this._controller.appKey;this.review=this.contentProvider.getContent(e),o=this.review.querySelector(".instagram-profile-picture"),o&&(o.onerror=function(){t.reportBrokenImages(n,[e.dataset.externalImageId],"user",!1),o.src=t.getDefualtImage().profile});for(var i=this.lightboxContentContainer;i.hasChildNodes();)i.removeChild(i.lastChild);i.appendChild(this.review)}function d(){t.Modules.Handle.popup.call(this.lightboxContentContainer)}function u(){this.rightArrow.style.display=this.leftArrow.style.display=1===this.numLightboxImages?"none":"block"}function p(){this.rightArrow.style.display=this.leftArrow.style.display="none"}function g(){var t=this;this.oldKeyDownFunction=document.onkeydown,document.onkeydown=function(e){switch(e=e||window.event,e.keyCode){case 27:t.close();break;case 37:if(1===t.numLightboxImages)break;t.slide(S.PREVIOUS_IMAGE);break;case 39:if(1===t.numLightboxImages)break;t.slide(S.NEXT_IMAGE)}}}function h(){document.onkeydown=this.oldKeyDownFunction}function m(){var e,o,n=this._controller.getWidgetByName("Testimonials"),i=this._controller.getWidgetByName("Main");n&&i&&(e=n.getElement(),o=e.querySelector("#yotpo_testimonials_btn"),t.toggleClass(o,"only-invisible"),t.toggleClass(o,"yotpo-hidden"))}function f(){var t=this;this.mask.onclick=this.modalDialog.onclick=this.closeBtn.onclick=function(){t.close()},this.leftArrow.onclick=function(){t.slide(S.PREVIOUS_IMAGE)},this.rightArrow.onclick=function(){t.slide(S.NEXT_IMAGE)};for(var e=0;e<this.lightboxImages.length;++e)this.lightboxImages[e].onclick=function(t){t&&"undefined"!=typeof t.stopPropagation&&t.stopPropagation()}}function y(){var t=this.lightboxContentContainer.querySelector('.social-link[data-network="facebook"]');if(t){var e,o=t.href.split("&picture")[0];e=o+"&picture="+this.lightboxImages[this.currImageIndex].src,t.href=e}}function v(){this.lightboxImages=this.lightboxContainer.querySelectorAll(".yotpo-lightbox-image"),this.lightboxImageContainers=this.lightboxContainer.querySelectorAll(".yotpo-lightbox-image-container")}function w(){this.currImageIndex=0,this.lightbox=this.element,this.modalContainer=this.lightbox.getElementsByClassName("yotpo-lightbox-container")[0],this.lightboxContentContainer=this.lightbox.getElementsByClassName("yotpo-lightbox-content-container")[0],this.lightboxContainer=this.lightbox.getElementsByClassName("y-slider-container")[0],v.call(this),this.closeBtn=this.lightbox.getElementsByClassName("yotpo-icon-btn-small")[0],this.modal=this.lightbox.getElementsByClassName("yotpo-modal")[0],this.modalDialog=this.modal.getElementsByClassName("yotpo-modal-dialog")[0],this.mask=this.modal.getElementsByClassName("yotpo-modal-mask")[0],this.loader=this.modal.getElementsByClassName("yotpo-image-loader-wrapper")[0],this.leftArrow=this.lightbox.getElementsByClassName("yotpo-icon-left-arrow-thin")[0],this.rightArrow=this.lightbox.getElementsByClassName("yotpo-icon-right-arrow-thin")[0]}var b=5,_=1,C=1,S={NEXT_IMAGE:"next",PREVIOUS_IMAGE:"previous"};return e.prototype.open=function(e,c){var d,u,p=[];this.isOpen=!0,this.isSliding=!1,u=this.contentProvider.getImages(e),this.numLightboxImages=u.length,this.numImageContainers=this.numLightboxImages+2,this.numImageContainers<this.minImageContainers&&(this.numImageContainers=this.minImageContainers),this.slider=new t.Modules.Slide(this.lightboxContainer,{imageCount:this.numLightboxImages,displayWindowCount:_}),this.slider.start();var g=e.getAttribute("data-image-id");for(d=0;d<this.numLightboxImages;d++){var h=u[d].getAttribute("data-original-src"),m=u[d].getAttribute("data-image-id"),f=u[d].getAttribute("data-external-image-id");p.push({url:h,imageId:m,externalImageId:f}),m===g&&(this.currImageIndex=d+1,this.slider.setCurrentPosition(this.currImageIndex))}this.imagesInfo=p,c&&s.call(this),i.call(this),l.call(this);var y=o.call(this),v=this;t.preloadImages([y.prev,y.current,y.next],function(t){a.call(v,t)},{index:v.currImageIndex,id:y.current.imageId}),r(this.lightboxImages[this.currImageIndex],y.current),n.call(this,e),this.analyticTracker.track("loaded",null,this.numLightboxImages)},e.prototype.close=function(){var e=this;this.isOpen&&(this.isOpen=!1,t.removeClass(e.modalContainer,"yotpo-active-display"),setTimeout(function(){t.removeClass(e.mask,"yotpo-active-display"),setTimeout(function(){t.removeClass(e.modal,"yotpo-modal-active"),m.call(e);for(var o=0;o<e.numImageContainers;o++)e.lightboxImages[o].src="#";document.body.style.overflow="visible",t.Modules.Event.trigger("popupClosed")},300)},300),h.call(this),e.wrapperElement&&document.body.removeChild(e.wrapperElement))},e.prototype.slide=function(e){if(!this.isSliding){this.isSliding=!0,e==S.NEXT_IMAGE?(this.currImageIndex+=1,this.currImageIndex>this.numLightboxImages&&(this.currImageIndex=1),this.slider.right(),this.analyticTracker.track("clicked_on","popup_next_image",null)):(this.currImageIndex+=-1,0==this.currImageIndex&&(this.currImageIndex=this.numLightboxImages),this.slider.left(),this.analyticTracker.track("clicked_on","popup_previous_image",null));var i=this.lightboxImages[this.currImageIndex].attributes.src.value,s=i.length<=C;s&&(t.removeClass(this.loader,"yotpo-hidden"),t.addClass(this.lightboxImages[this.currImageIndex],"yotpo-hidden"));var l=o.call(this),c=this.lightboxImages[this.currImageIndex];r(c,l.current),n.call(this,c);var d=this;t.preloadImages([l.prev,l.current,l.next],function(t){a.call(d,t)},{index:d.currImageIndex,id:l.current.imageId}),setTimeout(function(){d.isSliding=!1},500)}},e}(Yotpo),Yotpo.ReviewContentCreator=function(t){var e={getElement:function(e,o){var n=e.cloneNode(!0);elements=n.querySelectorAll(".yotpo-review-images-wrapper, .yotpo-multiple-rating-fields, .yotpo-user-related-fields");for(var i=0;i<elements.length;i++)elements[i].parentNode.removeChild(elements[i]);t.removeClass(n,"yotpo-regular-box");var s=t.Review.load(n,o);return s.setOriginalElement(e),n}};return e}(Yotpo),Yotpo.InstagramContentCreator=function(t){var e={getElement:function(e,o){var n=e.cloneNode(!0);return t.InstagramPost.load(n,e,o),n}};return e}(Yotpo),Yotpo.ProductContentCreator=function(t){function e(t){this.contentCreator=t}function o(e,o,n){var i=e.parentElement.querySelector(".yotpo-lightbox-products-container");if(i){var s=i.cloneNode(!0);t.TaggedProducts.load(s,n);var r=document.createElement("div");return r.appendChild(s),r.appendChild(o),r}return o}return e.prototype.getElement=function(t,e){var n=this.contentCreator.getElement(t,e);return o(t,n,e)},e}(Yotpo),Yotpo.SingleReviewContentProvider=function(t){function e(){this.reviewElement=null,this.analyticsCategory="reviews"}return e.prototype.clear=function(){this.reviewElement=null},e.prototype.getImages=function(t){return t.parentNode.getElementsByClassName("image-review")},e.prototype.getContent=function(e){if(!this.reviewElement){var o=t.Modules.Helper.findAncestorByClass(e,"yotpo-review");this.reviewElement=t.ReviewContentCreator.getElement(o,this.analyticsCategory)}return this.reviewElement},e}(Yotpo),Yotpo.SliderContentProvider=function(t){function e(e,o,n){this.images=e,this.contents=o,this.analyticsCategory="pictures_widget_popup",this.reviewContentCreator=n?new t.ProductContentCreator(t.ReviewContentCreator):t.ReviewContentCreator,this.instagramContentCreator=n?new t.ProductContentCreator(t.InstagramContentCreator):t.InstagramContentCreator}function o(e,o,n){var i=this,s=e.querySelector(o);s&&t.addEventListener(s,"click",function(){t.currentAnalytics.trackEvent(i.analyticsCategory,"clicked_on",n)})}function n(t){o.call(this,t,".facebook","share_facebook"),o.call(this,t,".twitter","share_twitter")}return e.prototype.getImages=function(){return this.images},e.prototype.getContent=function(t){var e,o=t.getAttribute("data-image-id"),i=this.contents.querySelector(".yotpo-slider-content-"+o);if("review"===i.getAttribute("data-source")){var s=i.querySelector(".yotpo-review");e=this.reviewContentCreator.getElement(s,this.analyticsCategory)}else if("instagram"===i.getAttribute("data-source")){var r=i.querySelector(".yotpo-instagram");e=this.instagramContentCreator.getElement(r,this.analyticsCategory)}return n.call(this,e),e},e}(Yotpo),Yotpo.TaggedProducts=function(t){function e(t,e){this.element=t,this.analyticsCategory=e,n.call(this),o.call(this)}function o(){for(var e=this,o=0;o<this.smallProducts.length;o++)t.addEventListener(this.smallProducts[o],"click",function(){e.changeProduct(this)})}function n(){this.smallProducts=this.element.querySelectorAll(".yotpo-lightbox-product-select-image"),this.selectedProduct=this.element.querySelector(".yotpo-lightbox-product-selected"),this.products=this.element.querySelectorAll(".yotpo-lightbox-product")}return e.load=function(e,o){return new t.TaggedProducts(e,o)},e.prototype.changeProduct=function(e){t.removeClass(this.selectedProduct,"yotpo-lightbox-product-selected"),this.selectedProduct=e,t.addClass(this.selectedProduct,"yotpo-lightbox-product-selected");for(var o=this.selectedProduct.getAttribute("data-product-id"),n=0;n<this.products.length;n++)this.products[n].getAttribute("data-product-id")===o?t.removeClass(this.products[n],"yotpo-hidden"):t.addClass(this.products[n],"yotpo-hidden")},e}(Yotpo),Yotpo.ImagesHandler=function(t){function e(t,e){this.imageWidget=e,this.appKey=t}function o(t,e,o){if(o||(o=i),e<t.length){var n=t[e].querySelector(s);if(n)return n.getAttribute(o)}return-1}function n(t,e){for(var o=0;o<t.length;o++)if(t[o].id===e)return!0;return!1}var i="data-image-id",s=".yotpo-image",r=".y-image-overlay",a="data-original-src";return e.prototype.reportInvalidImages=function(e){for(var o=[],n=0;n<e.length;n++)if(e[n].reported!==!0){e[n].reported=!0;var i=e[n].source;o.indexOf(e[n].id)<0&&"instagram"===i&&o.push(e[n].id)}if(o.length>0){var s=.2,r=e.length>this.imageWidget.getImageElements().length*s;t.reportBrokenImages(this.appKey,o,"media",r)}},e.prototype.removeBrokenImages=function(e){for(var n=this.imageWidget.getImageElements(),i=0;i<n.length;i++){var s=o(n,i);e.indexOf(s)>-1&&t.remove(n[i])}},e.prototype.replaceBrokenImages=function(e){for(var i=this.imageWidget.getImageElements(),l=t.getDefualtImage(),c=0;c<i.length;c++){var d=o(i,c);if(n(e,d)){var u=i[c].querySelector(s);u.setAttribute("src",l.size_180);var p=i[c].querySelector(r);p.setAttribute(a,l.size_656)}}},e.prototype.getImageSource=function(t){var e=null,o=this.imageWidget.element.querySelector('.yotpo-single-image-container [data-image-id="'+t+'"]');if(o){var n=o.parentElement.querySelector(".y-image-overlay");e=n.getAttribute("data-source")}return e},e.prototype.loadImages=function(e,n,i){for(var s=this.imageWidget.getImageElements(),r=[],a=0;a<s.length;a++){var l=o(s,a,"src"),c=o(s,a);r.push({url:l,imageId:c})}t.preloadImages(r,e,this.imageWidget,n,this.imageWidget,i)},e}(Yotpo),Yotpo.ImagesAnalyticsHandler=function(t){function e(t,e,o){this.element=t,this.imageElements=e,this.tracker=o}function o(t){var e=t.querySelector(".y-image-overlay"),o=e?e.getAttribute("data-source"):"source",n=e?e.getAttribute("data-image-id"):"unkown";return o+"_image_"+n}return e.prototype.bindBaseImagesAnalytics=function(){var e=this;t.currentInview.register(this.element,function(){e.tracker.track("shown",null,null)});for(var n=0;n<this.imageElements.length;n++){var i=this.imageElements[n];t.currentInview.register(i,function(t){return function(){e.tracker.track("shown","image",o(t))}}(i)),t.addEventListener(i,"click",function(){e.tracker.track("clicked_on","image",o(this))})}},e}(Yotpo),Yotpo.AnalyticsTracker=function(t){function e(t,e){this.category=t,this.eventContext=e}return e.prototype.track=function(e,o,n){t.currentAnalytics.trackEvent(this.category,e,o,n,this.eventContext)},e}(Yotpo),Yotpo.ShoppableProductsSlider=function(t){function e(e,o,n){this._controller=e,this.element=n,this.titleElement=document.createElement("div"),t.addClass(this.titleElement,"yotpo-shoppable-tagged-products-title"),this.element.appendChild(this.titleElement),this.productsElement=document.createElement("div"),t.addClass(this.productsElement,"yotpo-shoppable-products-elements"),this.element.appendChild(this.productsElement),this.analyticsTracker=o,s.call(this)}function o(e){this.mobileSlider=new t.Modules.MobileSlide(this.productsElement,e||{})}function n(e,n,s,a){var l=[{method:"promoted_products",params:{domain_key:e[0].domainKey,widget:"shoppable_instagram"},format:"json"}];this.currentOpenViewImageId=n,this._controller.getBatch(function(l){if(this.currentOpenViewImageId===n){this.currentOpenViewImageId=null;var c=JSON.parse(l);c=c[0].result;for(var u=[],p=0;p<c.promoted_products.length;p++)i(e,c.promoted_products[p].products_app_id)||u.push({id:c.promoted_products[p].products_app_id,name:c.promoted_products[p].name,link:c.promoted_products[p].url,imageUrl:c.promoted_products[p].image,score:c.promoted_products[p].average_score,reviewsCount:c.promoted_products[p].total_review});u.length>0&&(t.removeClass(this.element,"yotpo-hidden"),r.call(this,u,s,a,!0),o.call(this,{separatorSize:20,separatorClass:d}),e.length>1?this.titleElement.innerHTML+=" and related products":this.titleElement.innerHTML="Related products")}}.bind(this),l)}function i(t,e){for(var o=0;o<t.length;o++)if(e==t[o].id)return!0}function s(){var e=document.createElement("div");t.addClass(e,"yotpo-mobile-slides-container"),this.mobileSliderElement=document.createElement("div"),t.addClass(this.mobileSliderElement,"yotpo-mobile-slider"),this.mobileSliderElement.appendChild(e),this.productsElement.appendChild(this.mobileSliderElement)}function r(e,o,n,i){for(var s=this.mobileSliderElement.querySelector(".yotpo-mobile-slides-container"),r=0;r<e.length;r++){var l=a.call(this,e[r],o,n);s.appendChild(l),i&&0==r&&t.addClass(l,d)}}function a(e,o,n){var i=this,s=document.createElement("span");t.addClass(s,"yotpo-mobile-slide"),t.addClass(s,"yotpo-shoppable-product");var r=document.createElement("a");r.href=e.link,t.addEventListener(r,"click",function(){i.analyticsTracker.track("clicked_on","shop_now")});var a=document.createElement("img");a.src=e.imageUrl,t.addClass(a,"yotpo-shoppable-product-image"),r.appendChild(a);var d=document.createElement("div");if(d.innerHTML=e.name,t.addClass(d,"yotpo-shoppable-product-name"),r.appendChild(d),o){var u=l(e.score,e.reviewsCount);r.appendChild(u)}if(n){var p=c(n);r.appendChild(p)}return s.appendChild(r),s}function l(e,o){var n=document.createElement("div");t.addClass(n,"yotpo-shoppable-gallery-header-reviews-stars");var i=t.getStars(e);o||(o=0);var s=document.createElement("span");return t.addClass(s,"yotpo-shoppable-product-reviews-count"),s.innerHTML="("+o+")",i.appendChild(s),n.appendChild(i),n}function c(e){var o=document.createElement("button");return t.addClass(o,"yotpo-shoppable-product-button"),o.innerHTML=e,o}var d="yotpo-shoppable-separator";return e.prototype.adjustSize=function(){this.mobileSlider.adjustSize()},e.prototype.showElement=function(e,i,s,a,l){return this.titleElement.innerHTML="",e.length>1?(t.removeClass(this.element,"yotpo-hidden"),this.titleElement.innerHTML="Tagged products",r.call(this,e,i,s),o.call(this)):t.addClass(this.element,"yotpo-hidden"),a&&n.call(this,e,l,i,s),this.element},e.prototype.destroy=function(){for(var t=this.element;t.hasChildNodes();)t.removeChild(t.firstChild);this.mobileSlider&&this.mobileSlider.destroy()},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.CollapsibleElement=function(t){function e(t,e,o){var n=t.getAttribute("yotpo-content-collapsed");if(null!==n)return!1;var i=t.getElementsByClassName(o)[0],s=i.innerHTML;return s.length>e}function o(e,o,n){var i=e.getElementsByClassName(n)[0],s=i.innerHTML,r=s.substr(o-10,20),a=r.search(/(<[^>]*>)/);o=a>0?o-10+a:o;var l=s.substring(0,o)+"<span class='yotpo-read-more' data-position='closed'>..."+t.texts.read_more+"</span>",c='<p class="rest-content-collapsed">'+s.substring(o)+"<span class='yotpo-read-more' data-position='opened'>"+t.texts.read_less+"</span></p>";return i.innerHTML=l+c,!0}function n(e,o){var n=e.getElementsByClassName("rest-content-collapsed")[0],i=e.getElementsByClassName("yotpo-read-more"),s=!1;"function"==typeof o&&(s=!0);for(var r=0;r<i.length;++r)i[r].onclick=function(){if("closed"==this.getAttribute("data-position"))this.style.display="none",t.Animations.fadeIn(n,"1000"),s&&o();else{var e=this.parentNode.parentNode.querySelector(".yotpo-read-more[data-position=closed]");t.Animations.fadeOut(n,"500"),setTimeout(function(){e.style.display="inline"},500)}}}var i={};return i.bind=function(t,i,s,r){e(t,i,s)&&(o(t,i,s),n(t,r),t.setAttribute("yotpo-content-collapsed",!0))},i}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.DynamicLayout=function(t){function e(e,s){this.elementsContainer=e,this.settings=s,o.call(this),t.isMobile()?n.call(this):i.call(this),s.animation&&r.call(this)}function o(){this.clickableElements=this.elementsContainer.querySelectorAll(this.settings.clickable_elements_selector||a),this.expandableElementContainer=this.elementsContainer.querySelector(this.settings.expandable_element_container_selector||l)}function n(){this.mobileSlider=new t.Modules.MobileSlide(this.elementsContainer,{slidesSelector:this.settings.clickable_elements_selector||a,fixedSlideWidth:this.settings.mobile_slides_fixed_width||d})
}function i(){this.expandableElementContainer&&(this.expandableElementContainer.onclick=s.bind(this))}function s(){for(var e=0;e<this.clickableElements.length;e++)t.removeClass(this.clickableElements[e],"yotpo-hidden");t.addClass(this.expandableElementContainer,"yotpo-hidden")}function r(){for(var t=0;t<this.clickableElements.length;t++)this.clickableElements[t].complete?(this.clickableElements[t].style.transition="opacity 1s",this.clickableElements[t].style.opacity="1"):this.clickableElements[t].onload=function(){this.style.transition="opacity 1s",this.style.opacity="1"};if(this.expandableElementContainer){var e=this.expandableElementContainer.querySelector(this.settings.expandable_element_selector||c);e.onload=function(){this.style.transition="opacity 1s",this.style.opacity="0.8"}}}var a=".image-review",l=".expandable-image-container",c=".expandable-image",d=80;return e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.ButtonEndlessScroll=function(t){function e(e,o,n,i,s){var r=EndlessScroll(t);return new r(e,o,n,i,!0,s)}return e}(Yotpo),Yotpo.Modules.InviewEndlessScroll=function(t){function e(e,o,n,i){var s=EndlessScroll(t);return new s(e,o,n,i,!1)}return e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Event=function(t){var e={};return e.on=function(t,e){this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e)},e.trigger=function(e,o,n){var i=this;t.forEach(i.callbacks&&i.callbacks[e]||[],function(t){t.call(i,o,n)})},e.removeEvent=function(t){var e=this;e.callbacks[t]&&delete e.callbacks[t]},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.GallerySettings=function(){function t(){}function e(t,e){e.use_div_settings=t.hasAttribute("data-source")||t.classList.contains("yotpo-pictures-widget")}function o(t,e){var o=t.getAttribute("data-album-id");o&&(e.album_id=o,e.sorting_enabled=!1)}function n(t,e){e.source=t.getAttribute("data-source")||e.source,"all"===e.source&&(e.source=["yotpo_reviews","instagram"]),e.sort=t.getAttribute("data-sort")||e.sort}function i(t,e){e.title=e.title||{},e.title.show_title=t.getAttribute("data-title")?"1"===t.getAttribute("data-title"):e.title.show_title,e.title.text=t.getAttribute("data-title-text")||e.title.text,e.title.color=t.getAttribute("data-title-color")||e.title.color,e.title.alignment=t.getAttribute("data-title-alignment")||e.title.alignment,e.title.font_size=(t.getAttribute("data-title-font-size")||e.title.font_size)+"px",e.title.mobile_font_size=(t.getAttribute("data-title-mobile-font-size")||e.title.mobile_font_size)+"px"}function s(t,e){e.button={},e.button.show_button=t.getAttribute("data-upload-button")?"1"===t.getAttribute("data-upload-button"):!1,e.button.text=t.getAttribute("data-upload-button-text"),e.button.text_color=t.getAttribute("data-upload-button-text-color"),e.button.background_color=t.getAttribute("data-upload-button-background-color"),e.button.font_family=t.getAttribute("data-upload-button-font-family"),e.title.alignment=!e.title.alignment||!e.title.show_title&&e.button.show_button?"left":e.title.alignment,e.button.alignment="right"===e.title.alignment.toLowerCase()?"left":"left"===e.title.alignment.toLowerCase()?"right":"center"}function r(t,e){e.hover=e.hover||{},e.hover.background_color=t.getAttribute("data-hover-color")||e.hover.background_color,e.hover.opacity=t.getAttribute("data-hover-opacity")||e.hover.opacity,e.hover.show_icon=t.getAttribute("data-hover-icon")?"true"===t.getAttribute("data-hover-icon"):e.hover.show_icon}function a(t,e){e.cta=t.getAttribute("data-cta")||e.cta||"1",e.cta_text=t.getAttribute("data-cta-text")||e.cta_text,e.cta_color=t.getAttribute("data-cta-color")||e.cta_color}function l(t,e){e.use_full_width=t.getAttribute("data-full-width")?"1"===t.getAttribute("data-full-width"):e.use_full_width,e.auto_play=t.getAttribute("data-auto-slide")?"1"===t.getAttribute("data-auto-slide"):e.auto_play,e.per_page=t.getAttribute("data-number-of-images")||e.per_page,e.spacing=t.getAttribute("data-spacing")||e.spacing,e.rounded_corners="1"===String(e.spacing)?"3px":"0",e.layout_settings=e.layout_settings||{},e.layout_settings.mode=t.getAttribute("data-layout")||e.layout_settings.mode,t.getAttribute("data-layout-rows")&&(e.layout_settings.rows=t.getAttribute("data-layout-rows"),e.layout_settings.mode="num_of_rows"),t.getAttribute("data-layout-scroll")&&(e.layout_settings.load_more_button="1"===t.getAttribute("data-layout-scroll")?0:1)}function c(t,e){e.load_lightbox_sync=t.getAttribute("data-preview")?"true"===t.getAttribute("data-preview"):!1}return t.prototype.overrideSettingsFromDiv=function(t,d){e(t,d),n(t,d),i(t,d),r(t,d),a(t,d),l(t,d),c(t,d),o(t,d),s(t,d)},t.prototype.getWidgetClass=function(t){var e,o=["yotpo-pictures-widget","yotpo-pictures-gallery","yotpo-slider","yotpo-visual-carousel"];return o.forEach(function(o){t.classList.contains(o)&&(e=o)}),e},t}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Handle=function(t){var e={};return e.write=function(e){function o(e,o,n,i,s,r,a,l,c){e.push({type:n,initiators:e[0].affected.querySelectorAll(o),action:function(){if(("function"!=typeof l||l())&&(t.currentAnalytics.trackEvent(i,s,r,c),1==a))for(var e,o=0;e=this.initiators[o];++o)t.removeEventListener(e,this.type,this.handler)}})}function n(t){for(var e=0;e<s.length;e++)if(s[e].name==t)return s[e]}var i=this,s=[],r=i.element.getElementsByClassName("write-"+e+"-wrapper")[0];if(r){var a=e+"s";"reviews"==a&&(a=i.analyticsCategory);var l=i._controller.getUserSetting("vendor_review_creation")?i._controller.getUserSetting("vendor_review_creation").settings:null,c=!1;if(l&&(c=function(){return 0!=Object.keys(i._controller.getTrustedVendorsData()).length}),i.forms=i.forms||{},i.forms[e+"s"]=new t.Form(i,r),s.push({name:"show_resource_content_field",type:"click",initiators:i.element.getElementsByClassName("write-"+e+"-button"),affected:r,validate:null!=l,skipAnimation:function(){return l&&"1"==l.require_external_sign_in&&"review"==e&&0==Object.keys(i._controller.getTrustedVendorsData()).length},effect:"slideDown",action:function(){i.get("messages").hideAll();var o=i.get("tabs").getTab(e+"s");o&&t.simulateClickEvent(o);var n=i.forms[e+"s"];if(!n.visible()){n.trigger("opened"),t.currentAnalytics.trackEvent(a,"clicked_on","write");var s=this.affected.querySelector(".form-group").getAttribute("data-custom-form-id");s&&t.currentAnalytics.trackEvent(a,"shown","custom_form",s)}}}),s[0].affected){s.push({name:"show_name_input_field",type:["keyup","paste"],initiators:s[0].affected.querySelectorAll(".write-"+e+"-content .form-element .y-input"),affected:s[0].affected.getElementsByClassName("yotpo-footer")[0],skipAnimation:function(){return l&&!("1"==l.show_name_field)},effect:"fadeIn",action:function(){if(l){var t=i._controller.getTrustedVendorsData(),o=i.forms[e+"s"],s=o.getInputField("display_name");if(t.display_name&&""==s.value&&o.setInputField("display_name",t.display_name),Object.keys(t).length>0||"function"==typeof o.writeContentCallback){var r=n("enable_form_submit");r&&r.handler()}}}}),s.push({name:"show_social_sign_in",type:["keyup","paste"],initiators:s[1].initiators,affected:s[1].affected.getElementsByClassName("socialize-wrapper")[0],skipAnimation:c,effect:"fadeIn"}),s.push({name:"show_email_input_field",type:["keyup","paste"],initiators:s[1].affected?s[1].affected.getElementsByClassName("name-input"):[],affected:s[1].affected?s[1].affected.getElementsByClassName("email-input")[0]:[],effect:"fadeIn",skipAnimation:c,action:function(){i.forms[e+"s"].submitButton.style.marginTop="15px"}});var d=s.length-1;s.push({name:"enable_form_submit",type:["keyup","paste"],initiators:[s[d].affected],affected:null,action:function(){i.forms[e+"s"].activate()}}),o(s,".write-review .y-input[name=review_title]","click",a,"clicked_on","title_field",!1),o(s,".write-review .y-input[name=review_title]","keydown",a,"typed","title_field",!0),o(s,".write-review .y-input[name=review_content]","click",a,"clicked_on","body_field",!1),o(s,".write-review .y-input[name=review_content]","keydown",a,"typed","body_field",!0),o(s,".write-review .y-input[name=display_name]","click",a,"clicked_on","name_field",!1),o(s,".write-review .y-input[name=display_name]","keydown",a,"typed","name_field",!0),o(s,".write-review .y-input[name=email]","click",a,"clicked_on","email_field",!1),o(s,".write-review .y-input[name=email]","keydown",a,"typed","email_field",!0),o(s,".yotpo-submit","click",a,"clicked_on","post_button",!0),o(s,".write-review .y-input[name=content]","click",a,"clicked_on","name_field",!1);var u=function(){return l&&Object.keys(i._controller.getTrustedVendorsData()).length>0};o(s,".yotpo-submit","click",a,"clicked_on","post_button",!0,u,"verified")}t.forEach(s,function(e){for(var o=0;o<e.initiators.length;++o)e.handler=function(o){return function(){if(e.validate&&"function"==typeof i.writeContentCallback&&0===Object.keys(i._controller.getTrustedVendorsData()).length)return void i.writeContentCallback(this);"function"==typeof e.action&&e.action.call(e,this);var n=e.skipAnimation?e.skipAnimation():!1;n||!o||t.hasClass(o,"visible")&&"toggleSlide"!=e.effect||(t.toggleClass(o,"visible"),e.effect&&(t.Animations[e.effect](o),t.hasClass(i.getElement(),"testimonials")&&t.scrollTo(i.getElement().querySelectorAll(".yotpo-modal-body")[0],0,1300)))}}(e.affected),e.type instanceof Array||(e.type=[e.type]),t.forEach(e.type,function(n){t.addEventListener(e.initiators[o],n,e.handler)})})}},e.action=function(){for(var e=this.querySelectorAll(".yotpo-action[data-type]"),o=0;o<e.length;++o)e[o].onclick=function(){t.bindAnimation(this)}},e.tooltip=function(){for(var e=this.querySelectorAll(".yotpo-action-hover[data-type]"),o=0;o<e.length;++o)e[o].onmouseover=function(){t.bindAnimation(this,"fadeIn")},e[o].onmouseout=function(){t.bindAnimation(this,"fadeOut")}},e.sources=function(){var e=this,o=e.get("sources");for(var n in o)o.hasOwnProperty(n)&&"function"==typeof o[n].getType&&o[n].on("updated",function(o){return function(){var n=o.getType(),i=e.get("messages");if(o.getTemplate()){e.get("forms")[n].clean(),i.show("share");var s=n.substring(0,n.length-1),r=e.getElement().querySelector(".write-"+s+"-button"),a=e.getElement().querySelector(".yotpo-first-"+s);a&&(t.removeClass(r,"yotpo-hidden"),t.addClass(a,"yotpo-hidden"))}t.Modules.Handle.popup.call(o)}}(o[n]));for(var i,s=e.element.querySelectorAll(".yotpo-icon-yotpo-logo"),r=0;i=s[r];r++)t.addEventListener(i,"click",function(){t.currentAnalytics.trackEvent(e.analyticsCategory,"clicked_on","widget_branding_link")})},e.select=function(){for(var e=this,o=e.getElement().getElementsByClassName("yotpo-nav-dropdown"),n=0;n<o.length;++n){var i=new t.Select(o[n]);i.on("change",function(o){return function(){for(var n=e.getActiveSource(),i=o.getType().split(" "),s=o.getValue().split(" "),r=0;r<i.length;++r)n.settings[i[r]]=s[r];n.settings[o.getType()]=o.getValue().split(","),n.settings.page=1,n.refresh(),t.togglePreLoader(n.getElement())}}(i))}},e.mobileMenu=function(){var e=this.getElement().getElementsByClassName("yotpo-visible-mobile")[0];if(e){var o=e.parentNode.getElementsByClassName("yotpo-menu-mobile-collapse");t.addEventListener(e,"click",function(){for(var e=0;e<o.length;++e)t.Animations.toggleSlide(o[e])})}},e.popup=function(){for(var e=this,o="function"==typeof e.getElement?e.getElement():e,n=o.getElementsByClassName("popup-link"),i=0;i<n.length;++i){var s=void 0!=window.screenLeft?window.screenLeft:screen.left,r=void 0!=window.screenTop?window.screenTop:screen.top,a={height:parseInt(n[i].getAttribute("data_height")||400),width:parseInt(n[i].getAttribute("data_width")||580),top:parseInt(n[i].getAttribute("data_top")||200),left:parseInt(n[i].getAttribute("data_left")||400)},l=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;a.left=l/2-a.width/2+s,a.top=c/2-a.height/2+r,n[i].onclick=function(e){return function(){for(var o="",n=this.className.split(" "),i=0;i<n.length;i++)("yotpo-custom-badge-link"===n[i]||"yotpo-toa-link"===n[i])&&(o+=n[i]);if(o){var s=t.globals[o];(!s||s.closed)&&(s=t.globals[o]=window.open(this.href,"","status=no,toolbar=no,location=no,menubar=no,directories=no,scrollbars=yes,resizeable=yes,height="+e.height+",width="+e.width+",top="+e.top+",left="+e.left)),window.focus&&s.focus()}else window.open(this.href,"","status=no,toolbar=no,location=no,menubar=no,directories=no,scrollbars=yes,resizeable=yes,height="+e.height+",width="+e.width+",top="+e.top+",left="+e.left);return!1}}(a)}},e.semiWhiteLabel=function(){var t=this.getElement().querySelector(".yotpo-semi-label");t&&e.tooltip.call(t)},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Helper=function(t){var e={},o={initialized:function(){return this.getElement().getElementsByClassName("yotpo-display-wrapper").length>0}};return e.state=function(t){return"undefined"!=typeof t&&(this._state=t),this._state},e.is=function(t){return o[t]?o[t].call(this):this.state()==t},e.findAncestorByClass=function(e,o){do if(e=e.parentElement,!e)break;while(!t.hasClass(e,o));return e},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.MobileSlide=function(t){function e(t,e){this.touchStartX=void 0,this.touchMoveX=void 0,this.moveX=0,this.eventListeneres=[],this.element=t,this.slider=this.element.querySelector(e.sliderSelector||w),this.slidesContainer=this.element.querySelector(e.slidesContainerSelector||b),this.slides=this.element.querySelectorAll(e.slidesSelector||_),this.settings=o(e),n.call(this),this.slides.length>this.settings.visibleSlidesCount&&a.call(this)}function o(t){return{debug:t.debug||!1,slideMargin:t.slideMargin||f,visibleSlidesCount:t.visibleSlidesCount||y,animateClass:t.animateClass||v,separatorSize:t.separatorSize||0,separatorClass:t.separatorClass,fixedSlideWidth:t.fixedSlideWidth}}function n(){this.slidesContainer.style.margin=0,this.slider.style.margin=0,i.call(this)}function i(){s.call(this),r.call(this)}function s(){var t=this.slider.offsetWidth,e=this.slides.length,o=this.settings.fixedSlideWidth||Math.min(parseInt(t/(this.settings.visibleSlidesCount+.4)),C),n=(e+1)*this.settings.slideMargin,i=e*o+n,s=i-t;this.slideWidth=o,this.sliderWidth=t,this.slidesContainerWidth=i+this.settings.separatorSize,this.slidesContainerOffset=s+this.settings.separatorSize}function r(){for(var e=0;e<this.slides.length;e++){var o=this.slides[e];o.style.width=this.slideWidth+"px",o.style.marginRight=this.settings.slideMargin+"px",this.settings.separatorClass&&!t.hasClass(o,this.settings.separatorClass)&&(o.style.marginLeft=0)}this.slides[0].style.marginLeft=this.settings.slideMargin+"px",this.slidesContainer.style.width=this.slidesContainerWidth+"px"}function a(){var t=this;l.call(this,this.slidesContainer,"touchstart",function(e){d.call(t,e)}),l.call(this,this.slidesContainer,"touchmove",function(e){g.call(t,e)}),l.call(this,this.slidesContainer,"touchend",function(e){p.call(t,e)}),l.call(this,this.slidesContainer,"mousedown",function(e){c.call(t,e)}),l.call(this,this.slidesContainer,"mousemove",function(e){g.call(t,e)}),l.call(this,this.slidesContainer,"mouseup",function(e){u.call(t,e)})}function l(e,o,n){t.addEventListener(e,o,n),this.eventListeneres.push({element:e,type:o,func:n})}function c(t){this.mousedown=!0,d.call(this,t)}function d(e){this.touchStartX=e.touches?e.touches[0].pageX:e.pageX,this.touchMoveX=void 0,t.removeClass(this.slidesContainer,this.settings.animateClass)}function u(t){p.call(this,t),this.mousedown=!1}function p(e){var o=this.moveX/this.slideWidth,n=this.slidesContainerWidth-this.moveX-this.settings.slideMargin<=this.sliderWidth,i=o%1;if(0!=i){var s=o*this.settings.slideMargin,r=this.moveX;if(!n&&.4>i){var a=Math.round(this.slideWidth*i-s);this.moveX=h.call(this,this.moveX-a)}else{var a=Math.round(this.slideWidth*(1-i)+s);this.moveX=h.call(this,this.moveX+a)}t.addClass(this.slidesContainer,this.settings.animateClass),m.call(this),Math.abs(r-this.moveX)>1&&e.preventDefault()}}function g(t){if(!(t instanceof MouseEvent)||this.mousedown){var e=this.touchMoveX||this.touchStartX;this.touchMoveX=t.touches?t.touches[0].pageX:t.pageX;var o=this.moveX+e-this.touchMoveX;this.moveX=h.call(this,o),m.call(this),t.preventDefault()}}function h(t){return 0>t?0:t>=this.slidesContainerOffset?this.slidesContainerOffset:t}function m(){this.slidesContainer.style.transform="translate3d(-"+this.moveX+"px,0,0)"}var f=5,y=2,v="yotpo-mobile-slide-animation",w=".yotpo-mobile-slider",b=".yotpo-mobile-slides-container",_=".yotpo-mobile-slide",C=150;return e.prototype.adjustSize=function(){i.call(this),this.moveX>this.slidesContainerOffset&&(this.moveX=this.slidesContainerOffset,m.call(this))},e.prototype.destroy=function(){for(var e=0;e<this.eventListeneres.length;e++){var o=this.eventListeneres[e];t.removeEventListener(o.element,o.type,o.func)}},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Pagination=function(t){var e={};return e.init=function(){for(var o=this,n=function(t){for(var o in e.actions)if(t.classList.contains(o))return o;return null},i=function(t,e){var o="prev"==t?"yoReviewsPrev":"yoReviewsNext",n=document.getElementById(o);if(n)n.href=e;else{var i=document.getElementsByTagName("head")[0];n=document.createElement("link"),n.rel=t,n.href=e,n.id=o,i.appendChild(n)}},s=function(t){var e="prev"==t?"yoReviewsPrev":"yoReviewsNext",o=document.getElementById(e);if(o){var n=document.getElementsByTagName("head")[0];n.removeChild(o)}},r=function(e,o,n){if(!t.hasClass(e,"yotpo-disabled")&&n){if("prev"==o&&1==n)return;var r="next"==o?n+1:n-1,a=t.updateQueryStringParameter(window.location.href,"yoReviewsPage",r);e.href=a,i(o,a)}else e.removeAttribute("href"),s(o)},a=o.element.getElementsByClassName("yotpo-pager"),l=0;l<a.length;++l)for(var c=a[l].children,d=0;d<c.length;++d){var u=c[d],p=n(u),g=null;"goTo"==p?g=+u.getAttribute("data-page"):"yotpo_next"==p?this instanceof t.Widgets.Basic&&this.supportsPagination()&&r(u,"next",this.settings.page):"yotpo_previous"==p&&this instanceof t.Widgets.Basic&&this.supportsPagination()&&r(u,"prev",this.settings.page),u.onclick=function(n,i,s){return function(){if(!t.hasClass(this,"yotpo-disabled")){t.togglePreLoader(o.getElement());var r=e.actions[i].call(n,s);return r&&"function"==typeof n.trigger&&n.trigger("pageChanged",i),t.currentAnalytics.trackEvent("reviews","clicked_on","widget_next_page"),!1}}}(o,p,g)}},e.actions={yotpo_next:function(){return++this.settings.page,!0},yotpo_previous:function(){return 1==this.settings.page?!1:(--this.settings.page,!0)},goTo:function(t){return t=+t,1>t?!1:(this.settings.page=t,!0)}},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Refresh=function(t){var e={};return e.perform=function(){var e=this;e._controller.getBatch(function(o){var n=[];try{n=JSON.parse(o),n=n.shift().result,"undefined"!=typeof e.getElement()&&(e.getElement().innerHTML=n),"function"==typeof e.trigger&&(e.trigger("refreshed"),e.trigger("ready"))}catch(i){t.safeConsole(i.message)}},[{method:e.getMethod(),params:e.getSettings()}])},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Slide=function(t){function e(t,e){this.element=t,this.imageCount=e.imageCount,this.displayWindowCount=e.displayWindowCount,this.position=e.initialPosition||s(e.imageCount,e.displayWindowCount),this.offset=e.useOffset?i(this.displayWindowCount):u,this.autoSlide=!!e.autoSlide&&e.imageCount>e.displayWindowCount,this.interval=e.delayInterval||a,this.direction=e.slideDirection||l,this.percentage=100/parseFloat(this.displayWindowCount),this.isSliding=!1,this.animationDuration=e.animationDuration||d,this.displayDirection=e.rtl?"right":"left",this.directionVector=this.displayDirection==l?-1:1,this.onSlideCallbacks=[]}function o(e){var o=this,i=0;this.isSliding||(this.isSliding=!0,this.position+=e,r.call(this),0===this.position?i=this.imageCount:this.position===this.imageCount+1&&(i=-this.imageCount),setTimeout(function(){0!==i&&(t.removeClass(o.element,c),o.position+=i,r.call(o)),setTimeout(function(){t.addClass(o.element,c),o.isSliding=!1,n.call(o)},50)},this.animationDuration))}function n(){for(var t=0;t<this.onSlideCallbacks.length;t++)this.onSlideCallbacks[t].call(this.position)}function i(t){return 100/t/2}function s(t,e){return e>=t?0:e}function r(){this.element.style[this.displayDirection]=-(this.position*this.percentage+this.offset)+"%"}var a=3e3,l="left",c="y-slide-left-animations",d=450,u=0;return e.prototype.left=function(){o.call(this,this.directionVector)},e.prototype.right=function(){o.call(this,-this.directionVector)},e.prototype.setCurrentPosition=function(t){this.position=t,r.call(this)},e.prototype.start=function(){r.call(this),this.autoSlide&&this.play()},e.prototype.play=function(){var t=this;!this.timerID&&this.autoSlide&&(this.timerID=setInterval(function(){t[t.direction]()},this.interval))},e.prototype.pause=function(){this.timerID&&this.autoSlide&&(clearInterval(this.timerID),delete this.timerID)},e.prototype.onSlide=function(t){this.onSlideCallbacks.push(t)},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.UserAllocation=function(t){var e=parseInt("FFFFFFFFFFFFFFFF",16),o={};return o.getUserAllocation=function(){var o=t.currentAnalytics.getDomainUserId();return parseInt(o,16)/e*99+1},o}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Vote=function(t){function e(e){for(var o=0;o<e.length;o++)t.removeClass(e[o],"yotpo-disabled")}function o(e){for(var o=0;o<e.length;o++)t.addClass(e[o],"yotpo-disabled")}var n={};return n.perform=function(o,n){var i=this,s=i.params.id,r=i.getType(),a=t.getApiHost()+"/"+r+"s/"+s+"/vote/"+o;n=n||!1,n&&(a+="/true"),function(o){t.ajax(a,function(t){var n,s;i.data=JSON.parse(t),i.trigger("vote"),s=document.querySelectorAll("[data-"+o+'-id="'+i.params.id+'"]');for(var r=0;r<s.length;r++)n=s[r].getElementsByClassName("vote-btn"),e(n)})}(r)},n.bind=function(e){for(var n=t.localStorage.getItem(e.getType()+"-"+e.get("id")),i=this.getElementsByClassName("yotpo-footer")[0],s=i.getElementsByClassName("vote-btn"),r=0;r<s.length;++r)s[r].getAttribute("data-type")==n&&t.addClass(s[r],"voted"),s[r].onclick=function(){function n(){var o=this.getAttribute("data-type"),n=t.hasClass(this,"voted"),i=this.parentNode.querySelector(".vote-sum[data-type="+o+"]");return n?(i.innerHTML=+i.innerHTML-1,t.localStorage.removeItem(e.getType()+"-"+e.get("id"))):(i.innerHTML=+i.innerHTML+1,t.localStorage.setItem(e.getType()+"-"+e.get("id"),o)),e.updateOriginalVote&&e.updateOriginalVote(o,n?-1:1),t.toggleClass(this,"voted"),e.vote(o,n),!0}if(t.hasClass(this,"yotpo-disabled"))return!1;var i=this.parentNode.getElementsByClassName("vote-btn");o(i);var s=this.parentNode.getElementsByClassName("voted")[0],r=!0;s&&s!=this&&(r=n.call(s)),r&&n.call(this)}},n}(Yotpo),Yotpo.Helpers=Yotpo.Helpers||{},Yotpo.Helpers.WidthClass=function(){var t,e={},o=[];t=[{name:"yotpo-size-7",fit:function(t){return t>=1280}},{name:"yotpo-size-6",fit:function(t){return 1280>t&&t>=960}},{name:"yotpo-size-5",fit:function(t){return 960>t&&t>=768}},{name:"yotpo-size-4",fit:function(t){return 768>t&&t>=600}},{name:"yotpo-size-3",fit:function(t){return 600>t&&t>=480}},{name:"yotpo-size-2",fit:function(t){return 480>t&&t>=320}},{name:"yotpo-size-1",fit:function(t){return 320>t}}];for(var n=0;n<t.length;n++)o.push(t[n].name);return e.getWidgetWidthClass=function(e){for(var o,n,i=0;i<t.length;i++)if(n=t[i],n.fit(e)){o=n.name;break}return o},e.getWidgetWidthClasses=function(){return o},e}(Yotpo),Yotpo.HoverIntervalEvent=function(t){function e(t){this.interval=t.interval,this.objects=[]}function o(t){var e=this;return function(){var o=this,n=e.mouseenterTimeStamp;if(n){var i=new Date-n;i>=t&&e.callback.call(o)}}}return e.prototype.register=function(e,n){if(e){var i={callback:n};t.addEventListener(e,"mouseenter",function(){i.mouseenterTimeStamp=new Date}),t.addEventListener(e,"mouseleave",o.call(i,this.interval))}},e}(Yotpo),Yotpo.TestingGroupsHandler=function(t){function e(t){this.settings=t||{},this.seoClient=!1,this.initialized=!1}e.prototype.getUserAllocation=function(){return this.userAllocation=this.userAllocation||r(this.settings),this.userAllocation},e.prototype.setSeoClient=function(t){this.seoClient=t},e.prototype.initialize=function(){this.initialized=!0},e.prototype.getTestingGroupsForAnalytics=function(){return a.call(this)?(this.testingGroupParams=this.testingGroupParams||i(t.feature_testing_groups,this.getUserAllocation()),this.testingGroupParams):void 0},e.prototype.getTestingGroupsForServer=function(){return a.call(this)?(this.featureTestingGroups=this.featureTestingGroups||n(t.feature_testing_groups,this.getUserAllocation()),this.featureTestingGroups):void 0};var o=function(t,e){var o={};for(var n in t)if(t.hasOwnProperty(n)){var i=s(t[n],e);i&&(o[i.feature_id]=i.group_id)}return o},n=function(t,e){var n={},i=!1,s=o(t,e);for(var r in s)s.hasOwnProperty(r)&&(i=!0,n["ftg_fi_"+r]=s[r]);return i?n:void 0},i=function(t,e){var n="",i=o(t,e);for(var s in i)i.hasOwnProperty(s)&&(n+="f"+s+"_g"+i[s]+":");return""!=n?"ftg_"+n.substring(0,n.length-1):void 0},s=function(t,e){for(var o in t)if(t.hasOwnProperty(o)){var n=o.split(".."),i=n[0],s=n[1];if(e>i&&s>=e)return t[o]}return null},r=function(e){var o;return e.userSettings.ab_testing&&(o=t.Modules.UserAllocation.getUserAllocation()),o},a=function(){return this.initialized?this.seoClient?!1:!0:(t.safeConsole("TestingGroupsHandler had not yet initialized","error"),!1)};return e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Badge=function(t){function e(t,e){var o=this;o._controller=t,o.element=e,o.settings={pid:o.element.getAttribute("data-product-id")};for(var i in n)n.hasOwnProperty(i)&&o.on(i,n[i])}function o(){var e=this,o=this.getElement().getElementsByClassName("y-badge")[0];o&&(o.onclick=function(){var t=e._controller.getWidgetByName("Testimonials");t&&t.open()});var n=e.element.querySelector(".yotpo-display-wrapper"),i=this.settings.pid,s=null===i?"Reviews_Badge":"Product_Badge";t.currentAnalytics.trackUniqueEvent(s,"loaded","productId",i),t.currentInview.register(e.element,function(){t.currentAnalytics.trackUniqueEvent(s,"shown","productId",i)}),t.addEventListener(n,"click",function(){t.currentAnalytics.trackUniqueEvent(s,"clicked_on","productId",i)}),t.hoverAnalytics.register(n,function(){t.currentAnalytics.trackUniqueEvent(s,"hovered","productId",i)})}var n={};return e.prototype.getMethod=function(){return"badge"},e.prototype.getSettings=function(){return this.settings},e.selector=t.widgets.badge.selector,e.prototype.getElement=function(){return this.element},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},n={ready:function(){o.call(this)}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Basic=function(t){function e(e,o,n,i){var s=this;s._controller=e,s.element=o,s.type=(n||"reviews").toLowerCase(),s.settings={page:i||1},s.query_mode=!1;var r=o.getAttribute("data-host-widget");r&&(s.settings["host-widget"]=r);var a=o.getAttribute("data-product-id");a&&(s.settings.pid=a);var l=s._controller.userSettings.review_with_pictures;if(l)if(s.settings.is_mobile=t.isMobile(),l.settings.number_of_pictures_per_review){var p=parseInt(l.settings.number_of_pictures_per_review);s.settings.pictures_per_review=Math.min(p,u)}else s.settings.pictures_per_review=d;for(var g in c)c.hasOwnProperty(g)&&s.on(g,c[g])}function o(){var e=this.getType().substring(0,this.type.length-1),o=t[t.capitalize(e)];if(o&&"function"==typeof o.load){this.content=[];for(var n=this.getElement().getElementsByClassName("yotpo-"+e),i=0;i<n.length;++i){var s=o.load(n[i]);this.content.push(s)}}}function n(){var e,o,n=this,s=this._controller.getAppKey(),r=n.element.querySelectorAll(".yotpo-review .social-link");for(e=0,o;o=r[e];e++)t.addEventListener(o,"click",function(){var e=this.getAttribute("data-network");t.currentAnalytics.trackEvent(n.analyticsCategory,"clicked_on","share_published_"+e)});var a,l=n.element.querySelectorAll(".yotpo-review .yotpo-footer .yotpo-syndication-reference .syndication-reference-link");for(e=0,a;a=l[e];e++)t.addEventListener(a,"click",function(){t.currentAnalytics.trackEvent("reviews","clicked_on","syndication_link","onsite_v2",s)});i.call(this);var c,d,u,p,g;for(c=this.getElement().getElementsByClassName("yotpo-review-images-wrapper"),d=this.getElement().getElementsByClassName("image-review"),e=0;p=c[e];e++)g=p.getElementsByClassName("image-review"),t.currentAnalytics.trackEvent("reviews","loaded","review_image",g.length),t.currentInview.register(p,function(){t.currentAnalytics.trackEvent("reviews","shown","review_image","onsite_v2",s)});for(e=0;u=d[e];e++){var h=d[e].getAttribute("data-image-id");!function(e){t.currentAnalytics.trackUniqueEvent("pictures_in_reviews","loaded","image",e),t.currentInview.registerinModal(u,function(){t.currentAnalytics.trackUniqueEvent("pictures_in_reviews","shown","image",e)},!0),t.hoverAnalytics.register(u,function(){t.currentAnalytics.trackUniqueEvent("pictures_in_reviews","hovered","image",this.getAttribute("data-image-id"))}),t.addEventListener(u,"click",function(){t.currentAnalytics.trackUniqueEvent("pictures_in_reviews","clicked_on","image",e)})}(h)}}function i(){for(var e,o=["review","question"],n=this._controller.getAppKey(),i=0;e=o[i];i++)for(var s,r=this.getElement().getElementsByClassName("write-first-"+e+"-button"),a=0;s=r[a];a++)t.currentInview.register(s,function(e){return function(){t.currentAnalytics.trackEvent(e+"s","shown","be_the_first_button","onsite_v2",n)}}(e)),t.addEventListener(s,"click",function(e){return function(){t.currentAnalytics.trackEvent(e+"s","clicked_on","be_the_first_button","onsite_v2",n)}}(e))}function s(){this.reviewImageWrappers=this.element.getElementsByClassName("yotpo-review-images-wrapper");var e=this.element.querySelector(".yotpo-lightbox");e&&(this.contentProvider=new t.SingleReviewContentProvider,this.lightbox=new t.Widgets.Lightbox(this._controller,e,this.contentProvider,p,e,this.settings.pictures_per_review));for(var o=0;o<this.reviewImageWrappers.length;o++)r.call(this,this.reviewImageWrappers[o])}function r(t){if(a(t),this.lightbox){var e=t.getElementsByClassName("image-review");l.call(this,e)}}function a(e){new t.Modules.DynamicLayout(e,{animation:!0})}function l(t){for(var e=this,o=0;o<t.length;o++)t[o].onclick=function(){e.contentProvider.clear(),e.lightbox.open(this)}}var c={},d=3,u=15;e.prototype.getMethod=function(){return"reviews"===this.type&&this.query_mode?"queried_reviews":this.type},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.getType=function(){return this.type},e.prototype.getContent=function(){return this.content||[]},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getTemplate=function(){return this.template=this.template||(this.getElement().getElementsByClassName("yotpo-template")||[])[0],this.template},e.prototype.supportsPagination=function(){return!isNaN(this.settings.page)&&"main_widget"==this.settings["host-widget"]&&"reviews"==this.type},c={ready:function(){t.Modules.Pagination.init.call(this),n.call(this),s.call(this),o.call(this),t.Modules.Handle.popup.call(this)},pageChanged:function(){this.refresh()}};var p={track:function(e,o,n){"loaded"==e&&t.currentAnalytics.trackEvent("reviews","loaded","review_image_gallery",n)},category:"pictures_in_reviews_popup"};return e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Bottomline=function(t){function e(e,o){var n=this;n.analyticsCategory="star_rating",n._controller=e,n.element=o,n.settings={pid:o.getAttribute("data-product-id"),link:o.getAttribute("data-url"),skip_average_score:o.getAttribute("data-skip-average-score")||!n.getMainWidget()},n.getMainWidget()&&(n.settings.main_widget_pid=n.getMainWidget().settings.pid);var i={lang:"locale",demo:"demo","product-readonly":"product-readonly"};for(var r in i)n.element.getAttribute("data-"+r)&&(n.settings[i[r]]=n.element.getAttribute("data-"+r));for(var a in s)s.hasOwnProperty(a)&&n.on(a,s[a]);t.hoverAnalytics.register(n.element,function(){t.currentAnalytics.trackUniqueEvent(n.analyticsCategory,"hovered")
})}function o(){for(var e,o=this,n=o.element.querySelectorAll(".standalone-bottomline"),i=0;e=n[i];i++)t.addEventListener(e,"click",function(){t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on",null,o.settings.pid)});var s=o.element.getElementsByClassName("yotpo-star-distribution");if(s.length){for(var r=o.getMainWidget().getActiveSource(),a=r.getSettings().pid,l=["review-stars","yotpo-sum-reviews","yotpo-star-distribution-graph"],i=0;i<l.length;i++)for(var c=s[0].getElementsByClassName(l[i]),d=0;d<c.length;d++){var u=c[d];if(t.hasClass(u,"yotpo-distribution-clickable")){var p=parseInt(u.getAttribute("data-score-distribution"));t.addEventListener(u,"click",function(e){return function(){t.currentAnalytics.trackEvent("reviews","clicked_on","star_distribution",a+":"+e)}}(p))}}var g=s[0].getElementsByClassName("yotpo-star-distribution-footer")[0].getElementsByTagName("span")[0];t.addEventListener(g,"click",function(){t.currentAnalytics.trackEvent("reviews","clicked_on","star_distribution_show_all",a)})}}function n(){var e=this,o=e.element.getElementsByClassName("yotpo-star-distribution");if(o.length){for(var n=0,i=["review-stars","yotpo-sum-reviews","yotpo-star-distribution-graph"],s=0;s<i.length;s++)for(var r=o[0].getElementsByClassName(i[s]),a=0;a<r.length;a++){var l=r[a];t.hasClass(l,"yotpo-distribution-clickable")&&(l.onclick=function(){t.show(o[0].getElementsByClassName("yotpo-star-distribution-footer")[0]),e.trigger("starDistributionClicked",this)},"yotpo-sum-reviews"==i[s]&&(n+=parseInt(l.innerHTML.replace(/[()]/g,""))))}o[0].getElementsByClassName("yotpo-star-distribution-show-all")[0].onclick=function(){e.trigger("showAllReviews",n)}}}function i(){var t=this,e=t.element.getElementsByClassName("yotpo-product-related-fields");if(e.length){var o=e[0].getElementsByClassName("yotpo-product-related-show-all")[0];o.onclick=function(){t.trigger("showCustomdFields")};var o=e[0].getElementsByClassName("yotpo-product-related-show-less")[0];o.onclick=function(){t.trigger("hideCustomdFields")}}}var s={};return e.selector=t.widgets.bottomline.selector,e.prototype.getElement=function(){return this.element},e.prototype.getSettings=function(){return this.settings},e.prototype.getMethod=function(){return"bottomline"},e.prototype.getMainWidget=function(){if(this._controller instanceof t){for(var e,o=this._controller.getWidgetsByName("Main"),n=0;n<o.length;n++)if(o[n].settings&&"questions"!=o[n].settings.mode){e=o[n];break}return e}return this._controller instanceof t.Widgets.Main?this._controller:null},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},s={ready:function(){var e=this;n.call(e),i.call(e),o.call(e);var s=e.getMainWidget();if(e.settings.pid&&this.element.querySelectorAll(".standalone-bottomline").length>0){var r=this.settings.pid;s?t.currentAnalytics.trackEvent("star_rating","loaded","product_page",r):t.currentAnalytics.trackEvent("star_rating","loaded","category_page",r),t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent("star_rating","shown",null,r)})}e.getElement().querySelectorAll(".star-clickable").length>0&&t.addEventListener(e.getElement(),"click",function(){s&&s.getElement().scrollIntoView()})},starDistributionClicked:function(e){var o=this.getMainWidget(),n=o.get("tabs").getTab("reviews");t.simulateClickEvent(n);var i=parseInt(e.getAttribute("data-score-distribution")),s=this.getMainWidget().getActiveSource();s.getSettings().star=i,this.getElement().getAttribute("data-demo")&&(s.getSettings().demo=!0),s.getSettings().page=1,t.togglePreLoader(s.getElement()),s.refresh();for(var r=["review-stars","yotpo-sum-reviews","yotpo-star-distribution-graph"],a=0;a<r.length;a++)for(var l=this.getElement().getElementsByClassName(r[a]),c=0;c<l.length;c++){var e=l[c];if(parseInt(e.getAttribute("data-score-distribution"))!=i)t.addClass(e,"yotpo-distribution-unactive");else if(t.removeClass(e,"yotpo-distribution-unactive"),"yotpo-sum-reviews"==r[a]){var d=e.innerHTML;document.getElementsByClassName("yotpo-reviews-nav-tab-sum")[0].innerHTML=d}}},showAllReviews:function(e){var o=this.getMainWidget(),n=o.get("tabs").getTab("reviews");t.simulateClickEvent(n),t.hide(document.getElementsByClassName("yotpo-star-distribution-footer")[0]);var i=o.getActiveSource();delete i.getSettings().star,i.getSettings().page=1,this.getElement().getAttribute("data-demo")&&(i.getSettings().demo=!0),t.togglePreLoader(i.getElement()),i.refresh(),document.getElementsByClassName("yotpo-reviews-nav-tab-sum")[0].innerHTML="("+e+")";for(var s=this.getElement().getElementsByClassName("yotpo-star-distribution-graph"),r=0;r<s.length;r++){var a=s[r];t.removeClass(a,"yotpo-distribution-unactive")}},showCustomdFields:function(){for(var e=this.getElement(),o=e.getElementsByClassName("yotpo-product-related-fields-column")[0],n=o.querySelectorAll(".yotpo-product-related-field-name.yotpo-hidden"),i=0;i<n.length;i++)t.show(n[i],"block");for(var s=o.querySelectorAll(".yotpo-rating-bars.yotpo-hidden, .yotpo-size-bars.yotpo-hidden"),i=0;i<s.length;i++)t.show(s[i],"block");t.hide(e.getElementsByClassName("yotpo-product-related-show-all")[0]),t.show(e.getElementsByClassName("yotpo-product-related-show-less")[0],"block")},hideCustomdFields:function(){for(var e=this.getElement(),o=e.getElementsByClassName("yotpo-product-related-fields-column")[0],n=o.getElementsByClassName("yotpo-product-related-field-name"),i=5;i<n.length;i++)t.hide(n[i]);for(var s=o.querySelectorAll(".yotpo-rating-bars, .yotpo-size-bars"),i=5;i<s.length;i++)t.hide(s[i]);t.hide(e.getElementsByClassName("yotpo-product-related-show-less")[0]),t.show(e.getElementsByClassName("yotpo-product-related-show-all")[0],"block")}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Carousels=function(t){function e(e,o){var n=this;n._controller=e,n.element=o,n.autoplay_enabled=n.element.getAttribute("data-autoplay-enabled"),n.settings={images_to_display:u(n.element.clientWidth)};for(var i in q){var s=q[i],r=n.element.getAttribute(s);"undefined"!=typeof r&&(n.settings[i]=r)}"site"==n.element.getAttribute("data-type")?n.settings.pid="yotpo_site_reviews":"both"==n.element.getAttribute("data-type")&&(n.settings.include_site_reviews=!0),"top_rated"==n.element.getAttribute("data-mode")&&(n.settings.best=!0),"manual"==n.element.getAttribute("data-mode")&&(n.settings.manual=!0),n.element.getAttribute("data-review-ids")&&(n.settings.id=n.element.getAttribute("data-review-ids").split(",")),n.element.getAttribute("data-count")&&(n.settings.per_page=parseInt(n.element.getAttribute("data-count")),n.settings.per_page>9&&(n.settings.per_page=9)),n.carouselSpeed=parseInt(n.settings.autoplay_speed||P),n.carouselSpeed<I&&(n.carouselSpeed=I);for(var a in M)M.hasOwnProperty(a)&&n.on(a,M[a]);t.hoverAnalytics.register(n.element,function(){t.currentAnalytics.trackUniqueEvent("carousel","hovered")})}function o(){function t(t){if(o.autoplay_enabled){var n,i="visible",s="hidden",r={focus:i,focusin:i,pageshow:i,blur:s,focusout:s,pagehide:s};t=t||window.event,n=t.type in r?r[t.type]:this[e]?"hidden":"visible","hidden"==n?o.slider.pause():o.slider.play()}}var e="hidden",o=this;e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,void 0!==document[e]&&t({type:document[e]?"blur":"focus"})}function n(){this.settings.data_show_navigation&&(u(this.getCarouselContainerWidth())>=this.carouselReviewsCount?t.hide(this.getElement().querySelector(".carousel-arrows")):t.show(this.getElement().querySelector(".carousel-arrows")))}function i(){return this.autoplay_enabled&&u(this.getCarouselContainerWidth())<this.carouselReviewsCount}function s(){var e=this.getElement(),o=this,n=0,i=0;e.querySelector(".yotpo-icon-left-arrow-thin").onclick=function(){new Date-n<x||(n=new Date,o.slider.left(),t.currentAnalytics.trackEvent("carousel","clicked_on","previous"))},e.querySelector(".yotpo-icon-right-arrow-thin").onclick=function(){new Date-i<x||(i=new Date,o.slider.right(),t.currentAnalytics.trackEvent("carousel","clicked_on","next"))}}function r(){var e=this.getElement(),o=this;e.onmouseover=function(){o.slider.pause()},e.onmouseout=function(){o.slider.play()};for(var n=function(e,o){for(var n=e.querySelectorAll(".product-link-container"),i=0;i<n.length;i++)n[i].querySelector(".carousel-review-product-text")&&(n[i].onmouseover=function(){this.querySelector(".carousel-review-product-text").style.textDecoration="underline"},n[i].onmouseout=function(){this.querySelector(".carousel-review-product-text").style.textDecoration="none"}),n[i].onclick=function(){return t.currentAnalytics.trackEvent("carousel","clicked_on","review",o),!0}},i=e.querySelectorAll(".single-carousel.review"),s=0;s<i.length;s++){var r=i[s];n(r,r.getAttribute("data-review-id")),t.currentAnalytics.trackReview(r,"carousel","loaded"),t.hoverAnalytics.register(r,function(){t.currentAnalytics.trackReview(this,"carousel","hovered")}),t.currentInview.register(r,function(e){return function(){t.currentAnalytics.trackReview(e,"carousel","shown")}}(r))}}function a(t){for(var e=t.querySelectorAll(".carousel-review-title"),o=0;o<e.length;o++)e[o].setAttribute("full-headline",e[o].innerHTML.trim()),e[o].innerHTML.trim().length>y&&(e[o].innerHTML=e[o].innerHTML.trim().substring(0,y-3)+"...")}function l(e){function o(o,n,i,s){"icon-yotpo-top-corner"==s?(i-=k,n+=f/2):"icon-yotpo-right-corner"==s?(i+=C,n+=f):(i+=C,n-=E),o.style.left=n+"px",o.style.top=i+"px",t.removeClassList(o,["icon-yotpo-top-corner","icon-yotpo-right-corner","icon-yotpo-left-corner"]),t.addClass(o,s),t.show(e.querySelector(".yotpo-corner"))}var n,i,s=e.querySelector(".carousel-tool-tip");s.querySelector(".tool-tip-header-span").innerHTML=this.reviewTitle,s.querySelector(".tool-tip-content").innerHTML=this.reviewBody;var r=t.getPosition(this),a=t.getPosition(e),l=r.x-a.x,c=r.y-a.y,d=u(e.clientWidth);3==d?(e.querySelector(".yotpo .scroller").getBoundingClientRect().right-this.getBoundingClientRect().right<f?(l-=f+_,n="icon-yotpo-right-corner"):(l+=w,n="icon-yotpo-left-corner"),i=-b):(i=b,l-=f/2-w,n="icon-yotpo-top-corner"),0>l&&(l=0),c+=i;var p=e.querySelector(".carousel-tool-tip .yotpo-tool-tip");p.style.left=l+"px",p.style.top=c+"px",o(e.querySelector(".yotpo-corner"),l,c,n),p.style.display="block"}function c(e){var o=this,n=document.createElement("div"),i=this.getElement();return n.className="carousel-read-more",n.innerHTML=i.querySelector(".carousel-read-more-text").getAttribute("data-text"),n.reviewTitle=e.querySelector(".carousel-review-title").getAttribute("full-headline"),n.reviewBody=e.querySelector(".carousel-review-body").fullReview.substring(0,h),n.onmouseover=function(){o.slider.pause(),l.call(this,i)},n.onmouseout=function(){i.querySelector(".carousel-tool-tip .yotpo-tool-tip").style.display="none",t.hide(i.querySelector(".yotpo-corner"))},n.onclick=function(t){t.stopPropagation()},n}function d(e){for(var o=0;o<e.length;o++)for(var n=e[o].querySelectorAll(".carousel-review-body"),i=0;i<n.length;i++)n[i].innerHTML=n[i].innerHTML.trim(),n[i].fullReview=n[i].innerHTML,n[i].innerHTML.length>=v&&(n[i].innerHTML=n[i].innerHTML.substring(0,v)+"...",n[i].appendChild(c.call(this,e[o])),t.show(this.getElement().querySelector(".yotpo-reviews-carousel .carousel-tool-tip")))}function u(t){var e;return t>=960?e=3:t>=600&&960>t?e=2:600>t&&(e=1),e}function p(){"undefined"!=typeof this.slider&&delete this.slider;var e=this.element.getElementsByClassName("yotpo-carousel")[0],o=this.settings.images_to_display+1,n=this.carouselReviewsCount<o?0:o;this.slider=new t.Modules.Slide(e,{imageCount:this.settings.per_page||this.carouselReviewsCount,displayWindowCount:u(this.getCarouselContainerWidth()),initialPosition:n,slideDirection:A,delayInterval:this.carouselSpeed,autoSlide:i.call(this),rtl:"rtl"==this._controller.userSettings.direction,animationDuration:T}),this.slider.onSlide(function(){t.currentInview.verifyInview()})}var g=403,h=400,m=300,f=298,y=57,v=130,w=90,b=20,_=15,C=20,S=30,k=10,E=9,A="right",x=1e3,P=3e3,I=1500,T=1450,q={autoplay_speed:"data-autoplay-speed",data_show_navigation:"data-show-navigation",data_show_bottomline:"data-show-bottomline",data_header_customisation_enabled:"data-header-customisation-enabled",data_header_customisation_text:"data-header-customisation-text",data_header_customisation_font_size:"data-header-customisation-font-size",data_header_customisation_color:"data-header-customisation-color",data_header_customisation_alignment:"data-header-customisation-alignment",data_background_color:"data-background-color",data_testimonials_page_enabled:"data-testimonials-page-enabled",data_testimonials_page_link:"data-testimonials-page-link",data_testimonials_page_text:"data-testimonials-page-text",demo:"data-demo",pid:"data-product-id"},M={};return e.prototype.getCarouselContainerWidth=function(){return this.getElement().clientWidth},e.prototype.getMethod=function(){return"carousels"},e.selector=t.widgets.carousels.selector,e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.getLayout=function(){return"new"},M={ready:function(){if(this.is("initialized")){var e=this,n=this.getElement();this.carouselReviewsCount=parseInt(n.querySelector(".carousel-display-wrapper").getAttribute("data-attr-total-reviews")),p.call(this),this.slider.start(),o.call(e),t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent("carousel","shown",null,null)}),n.querySelector(".all-reviews")&&(n.querySelector(".all-reviews").onclick=function(){t.currentAnalytics.trackEvent("carousel","clicked_on","read_more",null)}),e.settings.direction=t.getComputedStyle(e.element,"direction"),this.settings.data_show_navigation&&s.call(this),r.call(this);for(var i=n.querySelectorAll(".single-carousel"),l=0;l<i.length;l++)a(i[l]);d.call(this,i)}},pageChanged:function(){var t=this;t.refresh()},sizeCalculated:function(e){if(this.is("initialized")){var o,i,s,r=this.getCarouselContainerWidth(),a=u(r),l=this.getElement();if("undefined"!=typeof this.slider){this.slider.pause(),p.call(this),this.slider.start(),l.style.maxWidth=window.innerWidth-S+"px","yotpo-size-7"===e||"yotpo-size-3"===e?(o="big-version",i="small-version",s=g):(o="small-version",i="big-version",s=m);var c=(r-a*s)/a,d=l.querySelector(".carousel-display-wrapper"),h=l.querySelectorAll(".single-carousel");!this.settings.data_testimonials_page_enabled||"yotpo-size-1"!==e&&"yotpo-size-2"!==e&&"yotpo-size-3"!==e||t.addClass(d,"has-testimonials-link");for(var f=0;f<h.length;f++)t.show(h[f].querySelector("."+o)),t.hide(h[f].querySelector("."+i)),h[f].style.marginRight=c+"px";this.slider.play(),n.call(this),this.getElement().querySelector(".scroller").style.width=r+"px";var y=this.carouselReviewsCount-1,v=y>0?"has_reviews":"no_reviews";t.currentAnalytics.trackUniqueEvent("carousel","loaded",v)}}}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Embedded=function(t){function e(e,o){var i=this;i.analyticsCategory="embed",i._controller=e,i.element=o,i.sources={},i.settings={per_page:i.element.getAttribute("data-reviews"),view:{type:i.element.getAttribute("data-product-id"),layout:i.element.getAttribute("data-layout"),width:i.element.getAttribute("data-width"),headerText:i.element.getAttribute("data-header-text"),transparency:i.element.getAttribute("data-transparency"),headerBackgroundColor:i.element.getAttribute("data-header-background-color"),bodyBackgroundColor:i.element.getAttribute("data-body-background-color"),fontSize:i.element.getAttribute("data-font-size"),fontColor:i.element.getAttribute("data-font-color")}};for(var s in n)n.hasOwnProperty(s)&&i.on(s,n[s]);t.hoverAnalytics.register(i.element,function(){t.currentAnalytics.trackUniqueEvent(i.analyticsCategory,"hovered")})}function o(){for(var e,o=this,n=o.element.querySelectorAll(".embedded-item-link"),i=0;e=n[i];i++){var s=e.getAttribute("data-widget-type"),r=e.getAttribute("data-product-id");t.addEventListener(e,"click",function(){t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on",s,r)})}}var n={};return e.selector=t.widgets.embedded.selector,e.prototype.getMethod=function(){var t=null;return"yotpo_global_reviews"==this.settings.view.type?t="reviews":"top_rated_products"==this.settings.view.type&&(t="products"),"embedded_widget_"+t},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},n={ready:function(){var e=this,n=this.getMethod();e.sources[n]=new t.Widgets.Basic(e._controller,e.getElement(),n),t.copy(e.settings,e.sources[n]),o.call(this),t.Modules.Handle.tooltip.call(this.getElement());var i;"embedded_widget_reviews"==n?i="recent_reviews":"embedded_widget_products"==n&&(i="top_products"),t.currentAnalytics.trackEvent("embed","loaded",i),t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent("embed","shown",i)})}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Main=function(t){function e(e,o){var n=this;n._controller=e,n.element=o,n.sources={},n.query,n.settings={pid:n.element.getAttribute("data-product-id")};var i=t.getURLParameter(location.search,"yoReviewsPage");i&&Number.isInteger(Number(i))&&(n.settings.page=parseInt(i)),t.getURLParameter(location.search,"yo_intentions")&&(n.settings.force_intentions=t.getURLParameter(location.search,"yo_intentions")),n.element.getAttribute("data-product-tags")&&(n.settings.tags=n.element.getAttribute("data-product-tags"));var s=n._controller.getUserSettings(),r={lang:"locale",demo:"demo",mode:"mode","product-readonly":"product-readonly","write-only":"write-only"};"undefined"!==n.element.getAttribute("data-per_page")&&(r.per_page="per_page");for(var a in r)n.element.getAttribute("data-"+a)&&(n.settings[r[a]]=n.element.getAttribute("data-"+a));var l="undefined"!=typeof s.questions_and_answers_standalone&&s.questions_and_answers_standalone!==!1;l||delete n.settings.mode,n.analyticsCategory="reviews",n.isWriteOnly()&&(n.analyticsCategory+="_write_only");for(var c in _)_.hasOwnProperty(c)&&n.on(c,_[c]);t.hoverAnalytics.register(n.element,function(){t.currentAnalytics.trackUniqueEvent(n.analyticsCategory,"hovered")}),f.call(n)}function o(){var e=this,o=e.getElement().getElementsByClassName("yotpo-searchable-widget");if(o&&o[0]){var i=o[0],s=i.getElementsByClassName("search-input")[0],r=i.getElementsByClassName("suggested-topic-expand"),a=i.getElementsByClassName("clear-topic")[0];e.searchLoader=i.getElementsByClassName("yotpo-search-loader")[0],e.searchRelatedTopics=i.getElementsByClassName("yotpo-related-topics-container")[0],e.suggestedTopicElements=i.getElementsByClassName("suggested-topic");for(var l=0;l<e.suggestedTopicElements.length;l++)t.addEventListener(e.suggestedTopicElements[l],"click",function(){for(var o=0;o<e.suggestedTopicElements.length;o++)t.removeClass(e.suggestedTopicElements[o],"active-topic");t.addClass(this,"active-topic"),t.removeClass(a,"yotpo-hidden"),t.addClass(e.searchRelatedTopics,"yotpo-hidden"),s.value=this.getElementsByClassName("suggested-topic-text")[0].innerHTML,e.query=s.value,n.call(e)});if(r&&r[0]){var c=r[0];t.addEventListener(c,"click",function(){for(var o=0;o<e.suggestedTopicElements.length;o++)t.removeClass(e.suggestedTopicElements[o],"yotpo-hidden");t.addClass(this,"yotpo-hidden")})}t.addEventListener(a,"click",function(){s.value="",t.addClass(this,"yotpo-hidden"),e.query=s.value;for(var o=0;o<e.suggestedTopicElements.length;o++)t.removeClass(e.suggestedTopicElements[o],"active-topic");t.addClass(e.searchRelatedTopics,"yotpo-hidden"),n.call(e)}),t.addEventListener(s,"keydown",function(o){var i=o.which||o.keyCode;if(t.removeClass(a,"yotpo-hidden"),(""==s.value||1==s.value.length&&(8===i||46===i))&&t.addClass(a,"yotpo-hidden"),13===i){e.query=s.value,t.addClass(e.searchRelatedTopics,"yotpo-hidden");for(var r=0;r<e.suggestedTopicElements.length;r++)t.removeClass(e.suggestedTopicElements[r],"active-topic");n.call(e)}})}}function n(){var e=this,o={};o.params=e.sources.reviews.getSettings(),""==e.query?(e.sources.reviews.query_mode=!1,o.method="reviews"):(e.sources.reviews.query_mode=!0,o.method="queried_reviews",o.params.query=e.query,t.currentAnalytics.trackEvent(e.analyticsCategory,"search","review",void 0,{search_query:e.query})),t.removeClass(e.searchLoader,"yotpo-hidden"),e.sources.reviews.settings.page=1,o.params.page=e.sources.reviews.settings.page,o.params.query_mode=e.sources.reviews.query_mode,e._controller.getBatch(function(o){var n=[];try{n=JSON.parse(o),n=n.shift().result;var r=new DOMParser,a=r.parseFromString(n,"text/html");"undefined"!=typeof e.sources.reviews.getElement()&&(e.sources.reviews.getElement().innerHTML=n,e.tabs.element.getElementsByClassName("nav-tab-sum")[0].innerHTML=" ("+a.querySelector(".total-reviews-search").getAttribute("total-reviews-search")+")"),"function"==typeof e.sources.reviews.trigger&&(e.sources.reviews.trigger("refreshed"),e.sources.reviews.trigger("ready")),""!=e.query&&i(a)&&t.currentAnalytics.trackEvent(e.analyticsCategory,"search","review",void 0,{search_query:e.query,empty_results:!0}),s.call(e,a),t.addClass(e.searchLoader,"yotpo-hidden"),t.removeClass(e.searchRelatedTopics,"yotpo-hidden")}catch(l){t.safeConsole(l.message)}},[o])}function i(t){return 1===t.querySelectorAll(".yotpo-review").length}function s(t){for(var e=[],o=t.querySelectorAll(".yotpo-data-related-topic"),n=0;n<o.length;n++)e[n]=o[n].dataset.topic;if(e=e.slice(0,5),this.searchRelatedTopics.textContent="",0!=e.length){var i=document.createElement("span");i.setAttribute("class","yotpo-related-topics-label"),i.textContent="Also showing result for ",this.searchRelatedTopics.appendChild(i);var s,r;for(n=0;n<e.length;n++)s=document.createElement("span"),s.setAttribute("class","yotpo-related-topic"),s.textContent=e[n],this.searchRelatedTopics.appendChild(s),r=document.createElement("span"),r.setAttribute("class","yotpo-related-topic-separator"),n<e.length-2?(r.textContent=", ",this.searchRelatedTopics.appendChild(r)):n==e.length-2&&(r.textContent=" and ",this.searchRelatedTopics.appendChild(r))}}function r(){var e=this,o={reviews:e.analyticsCategory,questions:"questions"==e.get("settings").mode?"questions_widget":"questions"};t.forEach(["yotpo-reviews","yotpo-questions"],function(n){var i=e.getElement().getElementsByClassName(n)[0];if("undefined"!=typeof i){n=n.split("-")[1],e.sources[n]=new t.Widgets.Basic(e._controller,i,n,e.settings.page),e.sources[n].settings.pid=e.settings.pid,e.settings.demo&&(e.sources[n].settings.demo=e.settings.demo),t.forEach(["locale","mode"],function(t){e.settings[t]&&(e.sources[n].settings[t]=e.settings[t])}),e.sources[n].on("ready",function(){v.call(e)}),e.sources[n].trigger("ready");var s=w(e.sources[n].content)?"has_reviews":"no_reviews";t.currentAnalytics.trackUniqueEvent(o[n],"loaded",s,e._controller.getUserSetting("version")),e.sources[n].on("pageChanged",function(){setTimeout(function(){t.scrollToTop((e.get("tabs")||e.sources[n]).getElement())},300)})}})}function a(){var e=this,o=e.getElement().getElementsByClassName("promoted-products-box")[0];"undefined"!=typeof o&&(e.promotedProducts=new t.Widgets.PromotedProducts(e._controller,o),e.promotedProducts.trigger("ready"))}function l(){var e=this,o=e.getElement().getElementsByClassName("yotpo-nav-primary")[0];o&&(e.tabs=new t.Tabs(o),e.tabs.on("changed",function(t){c.call(e,t)}))}function c(e){var o=this,n=o.getActiveSource();n.getElement().innerHTML.trim()||n.refresh();for(var i in o.forms)i!=n.getType()&&o.forms[i].clean();(0!=e.event.clientX||0!=e.event.clientY)&&t.currentAnalytics.trackEvent(n.getType(),"clicked_on","tab")}function d(){var e=this.getElement().getElementsByClassName("yotpo-messages");e.length>0&&(this.messages=new t.Messages(e))}function u(){for(var e,o=this,n=o.element.querySelectorAll(".yotpo-thank-you .social-link"),i=0;e=n[i];i++)t.addEventListener(e,"click",function(){var e=this.getAttribute("data-network");t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on","share_"+e)});for(var s,r=o.element.querySelectorAll(".yotpo-thank-you .yotpo-icon-cross"),i=0;s=r[i];i++)t.addEventListener(s,"click",function(){t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on","close_review_posted")})}function p(){var t=this._controller,e=t.getUserSetting("ads"),o=t.getUserSetting("facebook_ads");e&&o&&"0"!=o.settings.pixel_id&&"0"!=o.settings.init_pixel&&this.settings.pid&&fbq.yotpoInited&&fbq("track","ViewContent",{content_ids:[this.settings.pid],content_type:"product"})}function g(){var e=this.getElement().querySelector(".yotpo-bottomline");e&&(t.Modules.Handle.tooltip.call(e),this.bottomline=new t.Widgets.Bottomline(this,e),this.bottomline.trigger("ready"))}function h(){var e=this.getElement().querySelector(".questions");e&&(this.questionsBottomline=new t.Widgets.QuestionsBottomline(this._controller,e),this.questionsBottomline.trigger("ready"))}function m(){window.setInterval(function(){t.currentInview.verifyInview()},1e3)}function f(){var e=this,o="questions"==e.get("settings").mode?"questions_widget":e.analyticsCategory;t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent(o,"shown"),e.trigger("sizeCalculated")})}function y(){var t=this,e=t.getElement().querySelector(".yotpo-nav .status-bar .current");if(e){var o=t.getActiveSource(),n=o.getElement().querySelector(".yotpo-pager"),i=n?+n.getAttribute("data-per-page"):b;o.on("ready",function(){var t=+(o.settings.page||1),n=(t-1)*i+1,s=n-1+o.getContent().length;o.getTemplate()&&--s,e.innerHTML=n+" - "+s})}}function v(){for(var e=this,o=e.getElement().getElementsByClassName("yotpo-review"),n=0;n<o.length;n++){var i=o[n];t.currentAnalytics.trackReview(i,"reviews","loaded",i),t.hoverAnalytics.register(i,function(){t.currentAnalytics.trackReview(this,"reviews","hovered")}),t.currentInview.register(i,function(o){return function(){e.query?t.currentAnalytics.trackEvent(e.analyticsCategory,"search","review",void 0,{search_query:e.query}):t.currentAnalytics.trackReview(o,"reviews","shown")}}(i))}}function w(t){return t&&t.length>1}var b=10,_={};return e.selector=t.widgets.main.selector,e.prototype.getMethod=function(){return"main_widget"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.getSource=function(t){return this.sources[t]},e.prototype.getActiveSource=function(){return this.get("tabs")?this.sources[this.get("tabs").getActive().getAttribute("data-type")]:null},e.prototype.getAppKey=function(){return this._controller.getAppKey()},e.prototype.get=function(t){return this[t]},e.prototype.getProductInfo=function(){if("undefined"==typeof this.productInfo){this.productInfo={sku:this.get("settings").pid,product_title:this.getElement().getAttribute("data-name"),product_description:this.getElement().getAttribute("data-description"),product_url:this.getElement().getAttribute("data-url"),product_image_url:this.getElement().getAttribute("data-image-url"),product_specs:this.getProductSpecs()};var t=this.get("settings").demo;"undefined"!=typeof t&&(this.productInfo.demo=t);for(var e in this.productInfo)this.productInfo.hasOwnProperty(e)&&!this.productInfo[e]&&delete this.productInfo[e]}return this.productInfo},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.isWriteOnly=function(){return"undefined"!=typeof(this.getSettings()||{})["write-only"]},e.prototype.getLayout=function(){return"old"},e.prototype.getProductSpecs=function(){var t,e=this,o=["brand","isbn","mpn","upc"],n={};for(var i in o)t=o[i],e.element.getAttribute("data-product-spec-"+t)&&(n["product_specs["+t+"]"]=e.element.getAttribute("data-product-spec-"+t));var s=[];for(var r in n)s.push(r);return s.length>0?n:null},_={ready:function(){r.call(this),l.call(this),d.call(this),a.call(this),g.call(this),h.call(this),m.call(this),y.call(this),o.call(this),t.Modules.Handle.write.call(this,"review"),t.Modules.Handle.write.call(this,"question"),t.Modules.Handle.sources.call(this),t.Modules.Handle.select.call(this),t.Modules.Handle.mobileMenu.call(this),t.Modules.Handle.semiWhiteLabel.call(this),u.call(this),p.call(this)},resize:function(){this.promotedProducts&&this.promotedProducts.trigger("resize")},sizeCalculated:function(t){this.promotedProducts&&this.promotedProducts.trigger("sizeCalculated",{className:t})}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.PicturesGallery=function(t){function e(e,o){var n,i,s=this;s._controller=e,s.element=o,s.analyticsContext={layout:"gallery"};var r=o.getAttribute("data-source");s.analyticsContext.source=r||"none",this.imagesHandler=new t.ImagesHandler(e.appKey,this);var a=e.getUserSetting("review_with_pictures"),l=e.getUserSetting("instagram_curation"),c=s.element.getAttribute("data-product-id")||s.element.getAttribute("product-id");s.settings={demo:o.getAttribute("data-demo"),album_name:I},c?(i="gallery",n=e.getUserSetting("product_gallery"),s.settings.product_id=c,s.analyticsCategory="pictures_widget",s.settings.css_settings_class="yotpo-product-gallery",s.settings.widget_ref_name="product_gallery_shop_now",s.settings.cta="0"):(i="dedicated_page",n=e.getUserSetting("pictures_dedicated_page"),s.analyticsCategory="dedicated_page",s.settings.css_settings_class="yotpo-pictures-gallery",s.settings.widget_ref_name="picture_gallery_shop_now"),n&&(s.settings.widget_name="pictures-gallery",s.settings.cta=n.settings[i+"_cta"],s.settings.cta_color=n.settings[i+"_cta_color"],s.settings.cta_text=n.settings[i+"_cta_text"],s.settings.hover=n.settings[i+"_hover"],s.settings.title=n.settings[i+"_title"],s.settings.spacing=n.settings[i+"_spacing"],s.settings.layout_settings=n.settings[i+"_layout"],s.settings.source=n.settings[i+"_source"],s.settings.sort=s.settings.sort_setting=n.settings.sort,s.settings.sorting_enabled="1"===String(n.settings[i+"_sorting"]));var d=new t.Modules.GallerySettings;d.overrideSettingsFromDiv(s.element,s.settings),s.analyticsContext.widget_class=d.getWidgetClass(s.element),s.settings.sorting_enabled=!o.hasAttribute("data-source")&&s.settings.sorting_enabled&&s.settings.source.length>1&&a&&l,s.settings.per_page=s.settings.layout_settings.mode===x?E*A:s.settings.layout_settings.rows*E,s.analyticsContext.widget_settings=s.settings;for(var u in S)S.hasOwnProperty(u)&&s.on(u,S[u]);t.hoverAnalytics.register(s.element,function(){t.currentAnalytics.trackUniqueEvent(s.analyticsCategory,"hovered")})}function o(){this.wrapper=this.element.querySelector(".yotpo-pictures-gallery-wrapper"),this.uploadPhotosButton=this.element.querySelector(".yotpo-pictures-gallery-upload-button"),t.setHoverEnable(this.wrapper),this.container=this.element.querySelector(".yotpo-pictures-gallery-images-wrapper"),this.isLoadMoreButton=1===this.settings.layout_settings.load_more_button,n.call(this),w.call(this),this.analyticsTracker=new t.AnalyticsTracker(this.analyticsCategory,this.analyticsContext),this.imagesAnalyticsHandler=new t.ImagesAnalyticsHandler(this.element,this.imageContainers,this.analyticsTracker),this.brokenImageDescriptors=[],d.call(this),this.imagesHandler.loadImages(r,a),t.Modules.Event.on("popupClosed",function(){this.endlessScroller&&this.endlessScroller.ignoreLoader(!1)}.bind(this)),i.call(this)}function n(){this.isLoadMoreButton?(this.loader=this.element.querySelector(".yotpo-load-more-button"),this.loadIndicator=this.element.querySelector(".yotpo-image-loader.yotpo-pictures-gallery-fullpage-loader")):this.loader=this.element.querySelector(".yotpo-image-loader.yotpo-pictures-gallery-fullpage-loader")
}function i(){self=this,this.uploadPhotosButton&&(this.uploadPhotosButton.onclick=function(){t.currentAnalytics.trackUniqueEvent(self.analyticsCategory,"clicked on","upload_button")})}function s(t){t.imagesHandler.reportInvalidImages(t.brokenImageDescriptors)}function r(e){e.settings.layout_settings.mode===x&&c.call(e)===e.settings.per_page&&(e.endlessScroller=_.call(e),t.removeClass(e.loader,"yotpo-hidden")),s(e),C.call(e),e.analyticsTracker.track("loaded")}function a(t,e){var o={id:e,source:t.imagesHandler.getImageSource(e),reported:!1};t.brokenImageDescriptors.push(o),t.imagesHandler.removeBrokenImages([e]),w.call(t)}function l(){for(var e=[],o=0;o<this.imageContainers.length;++o)if(!t.hasClass(this.imageContainers[o],"yotpo-hidden")){var n=this.imageContainers[o].querySelector(".y-image-overlay");e.push(n)}return e}function c(){return this.imageContainers.length+this.brokenImageDescriptors.length}function d(){if(this.settings.load_lightbox_sync){var t=this.element.querySelector(".yotpo-lightbox-contents");this.initLightbox(t)}else{var e={method:"lightbox_container",params:this.getSettings()};this._controller.getBatch(u.bind(this),[e],null)}}function u(t){var e=JSON.parse(t)[0];if(e){this.element.insertAdjacentHTML("afterbegin",e.result);var o=this.element.querySelector(".yotpo-lightbox-contents");this.initLightbox(o)}}function p(e){this.lightbox&&this.lightbox.isOpen?t.Modules.Event.on("lightboxClosed",function(){t.Modules.Event.removeEvent("lightboxClosed"),g.call(this,e)}.bind(this)):g.call(this,e)}function g(e){var o=this.element.querySelector(".y-slider-container"),n=JSON.parse(e)[0].result,i=document.createElement("div");i.insertAdjacentHTML("beforeend",n);var r=i.querySelector(".yotpo-pictures-gallery-images-wrapper"),l=i.querySelector(".yotpo-lightbox-contents"),c=i.querySelector(".y-slider-container"),d=r.childElementCount,u=this.element.querySelector(".yotpo-lightbox-contents");t.appendChildElements(r,this.container),t.appendChildElements(c,o),t.appendChildElements(l,u),w.call(this),this.imagesHandler.loadImages(s,a),this.initLightbox(u),d<this.settings.per_page&&t.addClass(this.loader,"yotpo-hidden")}function h(){var t=this.getElement().getElementsByClassName("selected")[0],e=m.call(this);t&&this.settings.sorting_enabled&&(e.sorting_enabled=!0,e.sort=t.getAttribute("data-selected-key")),e.offset=f.call(this);var o={method:"partial_pictures_gallery",params:e};this.endlessScroller&&this.endlessScroller.getNextPage(o,p.bind(this))}function m(){return{hover:this.settings.hover,cta:this.settings.cta,cta_text:this.settings.cta_text,cta_color:this.settings.cta_color,source:this.settings.source,product_id:this.settings.product_id,album_id:this.settings.album_id,album_name:I,widget_ref_name:this.settings.widget_ref_name,sort:this.settings.sort}}function f(){var t=y.call(this),e=v.call(this);return{review:t.review+e.review,instagram:t.instagram+e.instagram}}function y(){for(var t={review:0,instagram:0},e=0;e<this.brokenImageDescriptors.length;e++)t[this.brokenImageDescriptors[e].source]++;return t}function v(){for(var t={review:0,instagram:0},e=0;e<this.imageContainers.length;++e){var o=this.imageContainers[e].querySelector(".y-image-overlay");o&&(source=o.getAttribute("data-source"),t[source]++)}return t}function w(){this.imageContainers=this.container.querySelectorAll(".yotpo-single-image-container")}function b(e){if(this.settings.layout_settings.mode===P){var o=this.element.querySelectorAll(".yotpo-single-image-container"),n=this.element.querySelectorAll(".yotpo-single-image-container.yotpo-hidden"),i=o.length,s=this.settings.layout_settings.rows*k[e],r=i-n.length,a=r>s,l=!a&&i>r;if(a)for(var c=s;r>c;c++)t.addClass(o[c],"yotpo-hidden");else if(l)for(var c=r;s>c&&i>c;c++)t.removeClass(o[c],"yotpo-hidden")}}function _(){return this.isLoadMoreButton?new t.Modules.ButtonEndlessScroll(this.settings.per_page,this._controller,this.loader,h.bind(this),this.loadIndicator):new t.Modules.InviewEndlessScroll(this.settings.per_page,this._controller,this.loader,h.bind(this))}function C(){this.imagesAnalyticsHandler.bindBaseImagesAnalytics()}var S={},k={"yotpo-size-7":7,"yotpo-size-6":6,"yotpo-size-5":5,"yotpo-size-4":4,"yotpo-size-3":3,"yotpo-size-2":3,"yotpo-size-1":3},E=7,A=8,x="full_page",P="num_of_rows",I="UGC Gallery";return e.selector=t.widgets["pictures-gallery"].selector,e.prototype.getMethod=function(){return"PicturesGallery"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"new"},e.prototype.getActiveSource=function(){return this},e.prototype.refresh=function(){var e=document.getElementsByClassName("yotpo-pictures-gallery-wrapper");e[0].style.opacity=.3,t.Modules.Refresh.perform.call(this)},e.prototype.getImageElements=function(){return this.imageContainers},e.prototype.initLightbox=function(e){var o=this;this.lightboxWrapper=this.element.querySelector(".yotpo-lightbox-wrapper");var n=this.lightboxWrapper.querySelector(".yotpo-lightbox");if(n)for(var i=0;i<o.imageContainers.length;++i){var s=o.imageContainers[i].querySelector(".y-image-overlay.yotpo-new-image");if(s){t.removeClass(s,"yotpo-new-image");var r=o.imageContainers[i].querySelector(".y-image-wrapper");t.addEventListener(r,"click",function(){var n=l.call(o),i=new t.SliderContentProvider(n,e,!0),s=new t.AnalyticsTracker(o.analyticsCategory+"_popup",o.analyticsContext),r=o.lightboxWrapper.cloneNode(!0);o.lightbox=new t.Widgets.Lightbox(o._controller,r.querySelector(".yotpo-lightbox"),i,s,r),o.lightbox.open(this.querySelector(".y-image-overlay"),!0),this.endlessScroller&&o.endlessScroller.ignoreLoader(!0)}),t.hoverAnalytics.register(s,function(){t.currentAnalytics.trackUniqueEvent(o.analyticsCategory,"hovered","image",this.getAttribute("data-image-id"))})}}},S={ready:function(){o.call(this),t.Modules.Handle.select.call(this)},sizeCalculated:function(t){this.sizeClass=t,b.call(this,t)},refreshed:function(){this.sizeClass&&b.call(this,this.sizeClass)}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.PicturesWidget=function(t){function e(t,e){var n=e.getAttribute("data-layout");return o[n].constructWidget(t,e)}var o={carousel:{constructWidget:function(e,o){return new t.Widgets.Slider(e,o)}},full_page:{constructWidget:function(e,o){return new t.Widgets.PicturesGallery(e,o)}},num_of_rows:{constructWidget:function(e,o){return new t.Widgets.PicturesGallery(e,o)}}};return e.selector=t.widgets["pictures-widget"].selector,e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.PromotedProducts=function(t){function e(e,o){var i=this;i.analyticsCategory="promoted_products",i._controller=e,i.element=o,i.settings={promoted:!0},i.currentItem=0,i.totalItems=o.getElementsByTagName("li").length,i.scrollBase=o.getElementsByClassName("promoted-products")[0].scrollLeft,t.supportTouch()&&(t.hide(o.getElementsByClassName("yotpo-pager")[0]),delete n.pageChanged,o.getElementsByClassName("promoted-products")[0].style.overflowX="auto");for(var s in n)n.hasOwnProperty(s)&&i.on(s,n[s])}function o(){var e=this;t.currentAnalytics.trackUniqueEvent("promoted_products","loaded"),t.currentInview.register(e.element,function(){t.currentAnalytics.trackUniqueEvent("promoted_products","shown")}),t.hoverAnalytics.register(e.element,function(){t.currentAnalytics.trackUniqueEvent("promoted_products","hovered")});for(var o=e.getElement().getElementsByClassName("yotpo-promoted-product"),n=0;n<o.length;++n){var i=o[n],s=(i.getAttribute("data-type"),i.getAttribute("data-product-id")),r=(i.getAttribute("data-position"),function(e,o){return function(){t.currentAnalytics.trackUniqueEvent("promoted_products",e,"product",void 0,o)}});t.currentAnalytics.trackUniqueEvent("promoted_products","loaded","product",void 0,{lppid:s}),t.currentInview.register(i,r("shown",{sppid:s})),t.hoverAnalytics.register(i,r("hovered",{hppid:s})),i.getElementsByClassName("yotpo-product-link")[0].onclick=r("clicked_on",{cppid:s})}}var n={},i=!1;return e.selector=".promoted-products-box",e.prototype.getElement=function(){return this.element},e.prototype.getSettings=function(){return this.settings},e.prototype.getMethod=function(){return"promoted_products"},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.perPage=3,e.prototype.getLayout=function(){return"old"},n={ready:function(){var e=this;t.Modules.Pagination.init.call(e),e.trigger("resize")},pageChanged:function(o){e.perPage=Math.min(this.getElement().getElementsByClassName("yotpo-promoted-product").length-1,e.perPage);var n=this._controller.getUserSetting("direction"),i=Math.min(Math.max(0,this.currentItem+("yotpo_next"==o?e.perPage:-e.perPage)),this.totalItems-1),s=this.getElement().getElementsByClassName("promoted-products")[0],r=s.getElementsByTagName("li")[i],a=r.clientWidth*i;"rtl"==n&&(a=this.scrollBase-r.clientWidth*i),t.scrollTo(s,a,500,!1),this.currentItem=i},resize:function(){if(!t.supportTouch()){var e=this.element.getElementsByClassName("promoted-products")[0];e.scrollWidth<=e.offsetWidth?t.hide(this.element.getElementsByClassName("yotpo-pager")[0]):t.show(this.element.getElementsByClassName("yotpo-pager")[0])}},sizeCalculated:function(e){for(var n=this,s=0,r=document.getElementsByTagName("body")[0],a=n.getElement();a&&a!=r&&0==a.offsetWidth;)a=a.parentNode;var l=0;l+=2*parseInt(t.getStyle(a,"margin-left")),l+=2*parseInt(t.getStyle(a,"padding-left"));var c=n.getElement().getElementsByClassName("yotpo-promoted-products")[0];s+=2*parseInt(t.getStyle(c,"margin-left"));var d=n.getElement().getElementsByClassName("promoted-products")[0],u=d.getElementsByTagName("li").length,p=n.getElement().getElementsByClassName("yotpo-promoted-product");if(0==p.length)return void t.hide(this.getElement());s+=u*parseInt(t.getStyle(p[0],"margin-left"))*2;var g=160;"yotpo-small"==e.className&&(g=110);var h=g*u;a.offsetWidth>=h+s+l?t.hide(this.getElement()):(t.show(this.getElement(),"block"),i||(i=!0,o.call(n))),n.trigger("resize")}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.QuestionsBottomline=function(t){function e(t,e){var n=this;n._controller=t,n.element=e,n.settings={pid:e.getAttribute("data-product-id")};for(var i in o)o.hasOwnProperty(i)&&n.on(i,o[i])}var o={};return e.selector=t.widgets["questions-bottomline"].selector,e.prototype.getElement=function(){return this.element},e.prototype.getSettings=function(){return this.settings},e.prototype.getMethod=function(){return"questions_bottomline"},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},o={ready:function(){var e,o=this,n=o._controller.getWidgetsByName("Main"),i=o.getElement().getElementsByClassName("ask-question")[0];if(1==n.length)e=n[0];else for(var s=0;s<n.length;s++)if(n[s].settings&&"questions"==n[s].settings.mode){e=n[s];break}e&&i&&(i.onclick=function(){var o=e.getElement(),n=o.getElementsByClassName("write-question-button")[0];return t.simulateClickEvent(n),o.scrollIntoView(),e.get("forms").questions.getElement().scrollIntoView(),!1})}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.ShopAdvisor=function(t){function e(t,e){var n=this;n._controller=t,n.element=e,n.settings={};for(var i in o)o.hasOwnProperty(i)&&n.on(i,o[i])}var o={};return e.prototype.getMethod=function(){return"ShopAdvisor"},e.prototype.getSettings=function(){return this.settings},e.selector=t.widgets["shop-advisor"].selector,e.prototype.getElement=function(){return this.element},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"new"},o={ready:function(){}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.ShoppableGallery=function(t){function e(e,o){var n=this;n._controller=e,n.element=o,n.analyticsCategory="shoppable_instagram";var i=e.getUserSetting("shoppable_instagram"),s={};i&&(s=i.settings.settings),sessionStorage.getItem("yotpoPresetShoppableState")===O&&(s.preset_shoppable_state=O,n.shoppableState=O,n.imageId=sessionStorage.getItem("yotpoPresetImageId")),s.demo=o.getAttribute("data-demo"),s.only_tagged_images=!0,s.source=["instagram"],s.album_name=z;var r=n.element.getAttribute("data-no-shoppable-header");s.header={enabled:""===r?!1:null===r||!JSON.parse(r)},s.shop_owner_details=!0,s.per_page=30,s.product_scores=!0,s.yotpo_hosted_page=""===n.element.getAttribute("data-yotpo-hosted-page")?!0:!1,s.css_settings_class="yotpo-shoppable-instagram",n.settings=s,this.imagesHandler=new t.ImagesHandler(e.appKey,this);for(var a in D)D.hasOwnProperty(a)&&n.on(a,D[a])}function o(){var e=this.element.querySelector(".yotpo-redirect");if(e){var o=this.element.getAttribute("data-empty-redirect-url");return void(o&&t.redirectToUrl(o))}history.pushState({},{},null),this.container=this.element.querySelector(".yotpo-shoppable-gallery-images-wrapper"),this.imageDimensions={},this.fullScreenImageID=void 0,this.fullScreenImagesDimensions={},this.displayWrapper=this.element.querySelector(".yotpo-display-wrapper"),this.headerElement=this.element.querySelector(".yotpo-shoppable-header"),this.shopImageElement=this.headerElement.querySelector("img.shop-image"),this.shopImagePlaceholderElement=this.headerElement.querySelector(".shop-image-placeholder"),this.currentShopImageElement=this.shopImageElement,this.headerWrapperElement=this.element.querySelector(".yotpo-shoppable-gallery-header-wrapper"),this.backArrow=this.element.querySelector(".yotpo-icon-left-arrow-thin"),n.call(this),this.singleViewContainer=this.element.querySelector(".yotpo-shoppable-single-view-container"),this.singleViewWrapper=this.element.querySelector(".yotpo-shoppable-single-image-wrapper"),this.galleryContainer=this.element.querySelector(".yotpo-shoppable-gallery-wrapper"),N.call(this),this.loader=this.element.querySelector(".yotpo-image-loader.yotpo-pictures-gallery-fullpage-loader"),this.imageStatsContainer=this.element.querySelector(".yotpo-shoppable-stats"),this.imageSalesTextElement=this.element.querySelector(".yotpo-shoppable-sales"),this.imageSalesElement=this.element.querySelector(".yotpo-shoppable-sales-count"),this.imageLikesElement=this.element.querySelector(".yotpo-shoppable-likes-count"),this.taggedProductsContainer=this.element.querySelector(".yotpo-shoppable-tagged-products-container"),this.analyticsTracker=new t.AnalyticsTracker(this.analyticsCategory),this.imagesAnalyticsHandler=new t.ImagesAnalyticsHandler(this.element,this.imageContainers,this.analyticsTracker),this.brokenImageDescriptors=[],this.imagesHandler.loadImages(l.bind(this),m,s.bind(this)),f(this)}function n(){this.settings.header.enabled?this.galleryHeader=!0:(t.addClass(this.headerElement,"yotpo-hidden"),L.call(this),this.galleryHeader=!1),this.shopImageElement.onerror=h.bind(this),i.call(this)}function i(){var t=window.getComputedStyle(document.body,null).getPropertyValue("margin");this.headerElement.style.marginTop="-"+t,this.headerElement.style.marginRight="-"+t,this.headerElement.style.marginLeft="-"+t}function s(t,e){r.call(this,t,e),a.call(this,t)&&E.call(this,t)}function r(t,e){this.imageDimensions[t]={width:e.width,height:e.height},this.fullScreenImagesDimensions[t]=p.call(this,t)}function a(t){var e=this.fullScreenImageID===t;return this.imageId===t&&this.shoppableState===O&&!e}function l(){c.call(this),d.call(this)}function c(){this.shoppableState===O&&this.fullScreenImageID!==this.imageId&&history.back()}function d(){this.imagesHandler.reportInvalidImages(this.brokenImageDescriptors)}function u(){for(var t in this.imageDimensions)this.fullScreenImagesDimensions[t]=p.call(this,t);g.call(this)}function p(t){var e=this.imageDimensions[t],o=window.innerWidth||screen.width,n=Math.min(o,W);return{width:n,height:Math.ceil(e.height*n/e.width)}}function g(){var t=this.singleViewContainer.querySelector(".yotpo-shoppable-image-container");if(this.fullScreenImageID&&this.fullScreenImagesDimensions){var e=this.fullScreenImagesDimensions[this.fullScreenImageID].height;t.style.height=e+"px"}}function h(){t.reportBrokenImages(this._controller.appKey,[""],"account",!1),t.hide(this.shopImageElement),t.show(this.shopImagePlaceholderElement),this.currentShopImageElement=this.shopImagePlaceholderElement}function m(t,e){var o={id:e,source:"instagram",reported:!1};t.brokenImageDescriptors.push(o)}function f(e){w.call(e),e.endlessScroller=new t.Modules.InviewEndlessScroll(e.settings.per_page,e._controller,e.loader,y.bind(e),e.loadIndicator),e.imageContainers.length>=e.settings.per_page&&t.removeClass(e.loader,"yotpo-hidden")}function y(){var t=this.settings;t.offset={instagram:this.endlessScroller.per_page*this.endlessScroller.page},t.widget="shoppable_gallery",this.endlessScroller.getNextPage({method:"partial_shoppable_gallery",params:t},v.bind(this))}function v(e){var o=this.element.querySelector(".yotpo-shoppable-single-image-contents"),n=JSON.parse(e)[0].result,i=document.createElement("div");i.insertAdjacentHTML("beforeend",n);var r=i.querySelector(".yotpo-pictures-gallery-images-wrapper"),a=i.querySelector(".yotpo-shoppable-single-image-contents"),l=r.childElementCount;t.appendChildElements(r,this.container),t.appendChildElements(a,o),N.call(this),this.imagesHandler.loadImages(d.bind(this),m,s.bind(this)),k.call(this),l<this.settings.per_page&&t.addClass(this.loader,"yotpo-hidden")}function w(){this.shoppableState=this.settings.preset_shoppable_state||R,b.call(this),H.call(this),this.analyticsTracker.track("loaded")}function b(){var e=this;this.backArrow&&(t.addEventListener(this.backArrow,"click",_.bind(this)),t.addEventListener(this.headerElement.querySelector(".yotpo-icon-grid"),"click",_.bind(this))),k.call(this),t.addEventListener(window,"scroll",function(){window.innerHeight<e.element.clientHeight-10&&(document.body.scrollTop-1>=e.headerElement.offsetTop?(0===e.headerWrapperElement.offsetTop&&(t.addClass(e.galleryContainer,"yotpo-relative-wrapper"),t.addClass(e.singleViewWrapper,"yotpo-relative-wrapper")),t.addClass(e.headerWrapperElement,"yotpo-fixed-header")):document.body.scrollTop-1<e.headerElement.offsetTop&&(t.removeClass(e.galleryContainer,"yotpo-relative-wrapper"),t.removeClass(e.singleViewWrapper,"yotpo-relative-wrapper"),t.removeClass(e.headerWrapperElement,"yotpo-fixed-header")))}),t.addEventListener(window,"unload",function(){sessionStorage.setItem("yotpoPresetShoppableState",e.shoppableState),sessionStorage.setItem("yotpoPresetImageId",e.imageId)}),t.addEventListener(window,"popstate",C.bind(e))}function _(){history.back()}function C(){this.shoppableState===O&&(S.call(this),I.call(this),window.scrollTo(0,this.imageOffset),this.productsSlider&&this.productsSlider.destroy())}function S(){var e=this.element.querySelector(".yotpo-shoppable-image");e.removeAttribute("src"),t.removeEventListener(e,"click",this.imageClickCallback)}function k(){for(var e=this,o=this.imageContainers,n=0;n<o.length;n++){var i=o[n].querySelector(".y-image-overlay.yotpo-new-image");i&&(t.removeClass(i,"yotpo-new-image"),t.addEventListener(i,"click",function(){e.imageOffset=document.body.scrollTop,e.imageId=this.getAttribute("data-external-image-id"),history.pushState({},{},null),E.call(e,e.imageId)}),t.hoverAnalytics.register(i,function(){t.currentAnalytics.trackUniqueEvent(e.analyticsCategory,"hovered","image",this.getAttribute("data-image-id"))}))}}function E(e){this.fullScreenImageID=e;var o=Y.call(this),n=o.taggedProducts.length>1;T.call(this),A.call(this,o.imageUrl),this.productsSlider=new t.ShoppableProductsSlider(this._controller,this.analyticsTracker,this.taggedProductsContainer),x.call(this,o.taggedProducts),n||P.call(this,o.taggedProducts[0]),this.displayWrapper.scrollIntoView(),B.call(this,o.taggedProducts,o.imageId)}function A(t){g.call(this);var e=this.singleViewContainer.querySelector(".yotpo-shoppable-image");e.style.opacity="0",e.src=t,e.onload=function(){this.style.opacity="1"}}function x(e){var o=this.singleViewContainer.querySelector(".yotpo-shoppable-title"),n=o.querySelector(".yotpo-clickable-title"),i=this.singleViewContainer.querySelector(".yotpo-shoppable-image"),s=this.settings.star_rating.enabled,r=this.settings.cta.enabled?this.settings.cta.text:{},a=this.settings.promoted_products.enabled;this.productsSlider.showElement(e,s,r,a,this.imageId),n.removeAttribute("href"),t.removeClass(i,"yotpo-clickable"),t.addClass(o,"yotpo-hidden")}function P(e){var o=this,n=this.singleViewContainer.querySelector(".yotpo-shoppable-title"),i=n.querySelector(".yotpo-clickable-title"),s=this.singleViewContainer.querySelector(".yotpo-shoppable-image"),r=e.link;n.querySelector(".yotpo-shoppable-product-image").src=e.imageUrl,n.querySelector(".yotpo-shoppable-product-name").innerHTML=e.name,i.href=r,t.addEventListener(i,"click",function(){o.analyticsTracker.track("clicked_on","shop_now")}),t.addEventListener(s,"click",function(){o.analyticsTracker.track("clicked_on","single_image")}),this.imageClickCallback=t.redirectToUrl.bind(null,r),t.addEventListener(s,"click",this.imageClickCallback),t.addClass(s,"yotpo-clickable"),t.removeClass(n,"yotpo-hidden")}function I(){this.shoppableState=R,this.galleryHeader||t.addClass(this.headerElement,"yotpo-hidden"),q.call(this),this.imageStatsContainer.style.opacity="0",t.addClass(this.singleViewContainer,"yotpo-hidden"),t.removeClass(this.galleryContainer,"yotpo-hidden"),t.hasClass(this.loader,"display-on-gallery-view")&&t.removeClass(this.loader,"yotpo-hidden")}function T(){this.shoppableState=O,this.galleryHeader||t.removeClass(this.headerElement,"yotpo-hidden"),q.call(this),t.hasClass(this.loader,"yotpo-hidden")||(t.addClass(this.loader,"display-on-gallery-view"),t.addClass(this.loader,"yotpo-hidden")),t.addClass(this.galleryContainer,"yotpo-hidden"),t.removeClass(this.singleViewContainer,"yotpo-hidden")}function q(){this.galleryHeader&&(this.shoppableState===R?M.call(this):this.shoppableState===O&&L.call(this))}function M(){var e=this.headerElement.querySelector(".yotpo-shoppable-gallery-header-reviews-wrapper");e&&t.removeClass(e,"yotpo-hidden"),t.show(this.currentShopImageElement),t.removeClass(this.headerElement.querySelector(".yotpo-shoppable-gallery-title"),"yotpo-hidden"),t.addClass(this.backArrow,"yotpo-hidden"),t.addClass(this.headerElement.querySelector(".yotpo-icon-grid"),"yotpo-hidden")}function L(){var e=this.headerElement.querySelector(".yotpo-shoppable-gallery-header-reviews-wrapper");e&&t.addClass(e,"yotpo-hidden"),t.hide(this.currentShopImageElement),t.addClass(this.headerElement.querySelector(".yotpo-shoppable-gallery-title"),"yotpo-hidden"),t.removeClass(this.backArrow,"yotpo-hidden"),t.removeClass(this.headerElement.querySelector(".yotpo-icon-grid"),"yotpo-hidden")}function Y(){var t=this.element.querySelector(".yotpo-shoppable-content-"+this.fullScreenImageID),e=t.querySelector(".yotpo-image"),o={};o.imageUrl=e.getAttribute("data-image-url"),o.imageId=e.getAttribute("data-image-id"),o.taggedProducts=[];for(var n=t.querySelectorAll(".yotpo-tagged-product"),i=0;i<n.length;i++)o.taggedProducts[i]={id:n[i].getAttribute("data-tagged-product-id"),domainKey:n[i].getAttribute("data-tagged-product-domain-key"),name:n[i].getAttribute("data-tagged-product-name"),link:n[i].getAttribute("data-tagged-product-link"),imageUrl:n[i].getAttribute("data-tagged-product-image-url"),score:n[i].getAttribute("data-tagged-product-score"),reviewsCount:n[i].getAttribute("data-tagged-product-reviews-count")};return o}function N(){this.imageContainers=this.container.querySelectorAll(".yotpo-single-image-container")}function H(){this.imagesAnalyticsHandler.bindBaseImagesAnalytics()}function B(e,o){for(var n=[],i=0;i<e.length;i++)n.push(e[i].id);var s=[{method:"shoppable_image_stats",params:{product_ids:n,image_id:o},format:"json"}];this._controller.getBatch(function(e){var o=JSON.parse(e);o=o[0].result,o.sales>10&&!this.settings.hide_sales?(t.removeClass(this.imageSalesTextElement,"yotpo-hidden"),t.removeClass(this.imageSalesElement,"yotpo-hidden"),this.imageSalesElement.innerHTML=o.sales):(t.addClass(this.imageSalesTextElement,"yotpo-hidden"),t.addClass(this.imageSalesElement,"yotpo-hidden")),this.imageLikesElement.innerHTML=o.likes,this.imageStatsContainer.style.opacity="1"}.bind(this),s)}var D={},W=768,R="gallery",O="single_image",z="Shoppable Instagram";return e.selector=t.widgets["shoppable-gallery"].selector,e.prototype.getMethod=function(){return"shoppable_gallery"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"new"},e.prototype.getImageElements=function(){return this.imageContainers},D={ready:function(){o.call(this)},resize:function(){u.call(this),this.productsSlider&&this.productsSlider.adjustSize()}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.SingleVideo=function(t){function e(t,e){var o=this;o._controller=t,o.element=e,o.settings={};for(var i in n)n.hasOwnProperty(i)&&o.on(i,n[i])}function o(){var t=this.getElement(),e=t.querySelector(".yotpo-video-container"),o=this._controller.appKey;e.onclick=function(){i.playing||i.ready(o,t)}}var n={};e.prototype.getMethod=function(){return"Video"},e.prototype.getSettings=function(){return this.settings},e.selector=t.widgets["single-video"].selector,e.prototype.getElement=function(){return this.element},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"new"},n={ready:function(){var t=this.getElement().querySelector("#video");t&&o.call(this)}};var i={ready:function(t,e){this.container=e,this.appKey=t,this.playing=!1,this.me="_"+Math.random().toString(36).substr(2,9),this.room=new Room({signalServer:"wss://live.yotpo.com/signal/_/",me:this.me,iceServers:[{urls:["stun:stun.lawsroom.com:3478"]},{urls:"turn:stun.lawsroom.com:3478",username:"yiquganchangduan",credential:"tianyahechumizhiyin"},{urls:"turn:stun.lawsroom.com:3478?transport=tcp",username:"yiquganchangduan",credential:"tianyahechumizhiyin"},{urls:"turn:stun.lawsroom.com:3478?transport=udp",username:"yiquganchangduan",credential:"tianyahechumizhiyin"}]}),this.room.on("signal_open",this.signal_open.bind(this)),this.room.on("signal_close",this.signal_close.bind(this)),this.room.on("signal_error",this.signal_error.bind(this)),this.room.on("peer_open",this.peer_open.bind(this)),this.room.on("peer_close",this.peer_close.bind(this)),this.room.on("channel_open",this.channel_open.bind(this)),this.room.on("channel_message",this.channel_message.bind(this)),this.room.on("channel_close",this.channel_close.bind(this)),this.room.on("message_create",this.message_create.bind(this)),this.room.on("message_join",this.message_join.bind(this)),this.room.on("message_leave",this.message_leave.bind(this)),this.room.on("message_notice",this.message_notice.bind(this)),this.room.on("stream_add",this.stream_add.bind(this)),this.room.on("stream_remove",this.stream_remove.bind(this)),this.room["in"]()},signal_open:function(){i.join(this.appKey)},signal_close:function(){},signal_error:function(){},peer_open:function(){},peer_close:function(t){this.removeVideo(t)},channel_open:function(){},channel_message:function(){},channel_close:function(){},message_create:function(){},message_join:function(){},message_leave:function(){this.removeVideos()},message_notice:function(t){"string"==typeof t.Data&&("room_exists"===t.Data&&this.room.join(this.roomId),"room_full"===t.Data)},stream_add:function(t,e){this.addVideo(t,e)},stream_remove:function(t){this.removeVideo(t)},addVideo:function(t,e){var o=this.container.querySelector("#video");o.src=URL.createObjectURL(e),o.play(),this.playing=!0,o.ontimeupdate=function(){var t=parseInt(o.currentTime,10),e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n;10>e&&(e="0"+e),10>n&&(n="0"+n),10>i&&(i="0"+i),document.querySelector(".live-duration").innerHTML=e+":"+n+":"+i}},removeVideo:function(){var t=this.container.querySelector("#video");t.stop()},join:function(t){this.playing||(this.roomId=t,this.room.create(t))},leave:function(){this.room.leave()},send:function(){}};return e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Slider=function(t){function e(e,o){var n=this;n.analyticsCategory="pictures_widget",n.analyticsContext={layout:"slider"};var i=o.getAttribute("data-source");n.analyticsContext.source=i||"none",n._controller=e,this.imageHandler=new t.ImagesHandler(e.appKey,this),n.isRTL="rtl"==e.userSettings.direction,n.element=o;var s=e.getUserSetting("pictures_slider");n.settings={widget_name:"slider",product_id:o.getAttribute("data-product-id"),demo:o.getAttribute("data-demo")},s&&(n.settings.use_full_width="1"===String(s.settings.full_width),n.settings.auto_play="1"===String(s.settings.auto_slide),n.settings.widget_ref_name="visual_carousel_shop_now",n.settings.title=s.settings.slider_title,n.settings.source=s.settings.slider_source,n.settings.hover=s.settings.slider_hover,n.settings.per_page=s.settings.number_of_images||C,n.settings.sort=s.settings.sort),n.show_tagged_products=n.settings.product_id?!1:!0;var r=new t.Modules.GallerySettings;r.overrideSettingsFromDiv(n.element,n.settings),n.analyticsContext.widget_class=r.getWidgetClass(n.element),n.settings.images_to_display=this.calcDisplaySize(o,n.settings.use_full_width),n.analyticsContext.widget_settings=n.settings;for(var a in S)S.hasOwnProperty(a)&&n.on(a,S[a]);t.hoverAnalytics.register(n.element,function(){t.currentAnalytics.trackUniqueEvent(n.analyticsCategory,"hovered")})}function o(t,e){for(var o=0;o<t.length;o++)if(t[o].getAttribute(_)==e.getAttribute(_))return!0;return!1}function n(){for(var t=[],e=0;e<this.elements.length;++e){var n=this.elements[e].querySelector(".y-image-overlay");o(t,n)||t.push(n)}return t}function i(){var e=this,o=this.element.querySelector(".yotpo-lightbox-wrapper"),i=this.element.querySelector(".yotpo-lightbox-contents"),s=o.querySelector(".yotpo-lightbox");if(s){var r=n.call(this),a=new t.SliderContentProvider(r,i,this.show_tagged_products),l=new t.AnalyticsTracker(this.analyticsCategory+"_popup",this.analyticsContext);this.lightbox=new t.Widgets.Lightbox(this._controller,s,a,l,o);for(var c=0;c<this.elements.length;++c){var d=this.elements[c].querySelector(".y-image-wrapper"),u=d.querySelector(".y-image-overlay");t.addEventListener(d,"click",function(){e.lightbox.open(this.querySelector(".y-image-overlay"))}),t.hoverAnalytics.register(u,function(){t.currentAnalytics.trackUniqueEvent(e.analyticsCategory,"hovered","image",this.getAttribute("data-image-id"))})}}}function s(){this.sliderWrapper=this.element.querySelector(".yotpo-slider-wrapper"),t.setHoverEnable(this.sliderWrapper),this.displayWrapper=this.element.querySelector(".yotpo-display-wrapper"),this.container=this.element.querySelector(".y-slider-container"),this.container&&(this.elements=this.container.querySelectorAll(".yotpo-single-image-container"),this.leftArrow=this.displayWrapper.querySelector(".yotpo-icon-left-arrow-thin"),this.rightArrow=this.displayWrapper.querySelector(".yotpo-icon-right-arrow-thin"),this.originalNumOfImages=parseInt(this.displayWrapper.getAttribute("data-images"),10),this.displaySize=this.calcDisplaySize(this.displayWrapper,this.settings.use_full_width),this.analyticsTracker=new t.AnalyticsTracker(this.analyticsCategory,this.analyticsContext),this.imagesAnalyticsHandler=new t.ImagesAnalyticsHandler(this.element,this.elements,this.analyticsTracker),this.brokenImageDescriptors=[],c.call(this),this.imageHandler.loadImages(a,r),l.call(this))
}function r(t,e){var o={id:e,source:t.imageHandler.getImageSource(e),reported:!1};t.brokenImageDescriptors.push(o)}function a(t){t.brokenImageDescriptors.length>0&&(t.imageHandler.reportInvalidImages(t.brokenImageDescriptors),t.imageHandler.replaceBrokenImages(t.brokenImageDescriptors)),m.call(t),t.analyticsTracker.track("loaded")}function l(){u.call(this),this.sliderWrapper.style.maxWidth=p.call(this),this.slide=new t.Modules.Slide(this.container,{imageCount:this.originalNumOfImages,displayWindowCount:this.displaySize,useOffset:this.displaySize<this.elements.length,delayInterval:w,autoSlide:this.settings.auto_play,slideDirection:this.isRTL?"left":"right",rtl:this.isRTL}),this.slide.start(),h.call(this)}function c(){if(this.settings.load_lightbox_sync)i.call(this);else{var t={method:"lightbox_container",params:this.getSettings()};this._controller.getBatch(d.bind(this),[t],null)}}function d(t){var e=JSON.parse(t)[0];e&&(this.element.insertAdjacentHTML("afterbegin",e.result),i.call(this))}function u(){var e=this.elements.length;this.displaySize<=e&&(this.container.style.width=100/this.displaySize*e+"%");for(var o=100/e+"%",n=t.getComputedMargins(this.elements[0]),i=n.left+n.right,s=0;e>s;++s)this.elements[s].style.width="calc("+o+" - "+i+"px)"}function p(){var e=v;if(!t.isIE8){var o=this.elements[0],n=t.getComputedMargins(o);e=parseInt(t.getComputedStyle(o,"max-width").replace("px",""),10)+n.left+n.right}return e*this.displaySize+"px"}function g(e){var o=this;t.addEventListener(e,"mouseover",function(){o.slide.pause()}),t.addEventListener(e,"mouseout",function(){o.slide.play()})}function h(){var t=this;this.leftArrow&&(this.leftArrow.onclick=function(){t.slide.left()},g.call(this,this.leftArrow)),this.rightArrow&&(this.rightArrow.onclick=function(){t.slide.right()},g.call(this,this.rightArrow));for(var e=0;e<this.elements.length;++e)g.call(this,this.elements[e])}function m(){this.imagesAnalyticsHandler.bindBaseImagesAnalytics(),f.call(this)}function f(){var e=this;this.rightArrow&&t.addEventListener(this.rightArrow,"click",function(){e.analyticsTracker.track("clicked_on",e.isRTL?"widget_previous_image":"widget_next_image",null)}),this.leftArrow&&t.addEventListener(this.leftArrow,"click",function(){e.analyticsTracker.track("clicked_on",e.isRTL?"widget_next_image":"widget_previous_image",null)})}var y=180,v=185,w=5e3,b=3,_="data-image-id",C=56,S={};return e.selector=t.widgets.slider.selector,e.prototype.getMethod=function(){return"Slider"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"new"},e.prototype.getImageElements=function(){return this.elements},e.prototype.calcDisplaySize=function(t,e){var o=t.offsetWidth/y,n=e?Math.ceil(o):Math.floor(o);return Math.max(n,b)},S={ready:function(){s.call(this)}},e}(Yotpo),Yotpo.Widgets.VisualCarousel=function(t){function e(e,o){var n=56,i="UGC Gallery";t.Widgets.Slider.call(this,e,o),this.getMethod=function(){return"VisualCarousel"},this.analyticsCategory="dedicated_page",self.analyticsContext={layout:"slider"};var s=o.getAttribute("data-source");self.analyticsContext.source=s||"none";var r=e.getUserSetting("visual_carousel");this.settings.widget_name="visual_carousel",this.settings.album_name=i,r&&(this.settings.auto_play="1"===String(r.settings.auto_slide),this.settings.title=r.settings.slider_title,this.settings.cta_text=r.settings.cta_text,this.settings.cta_color=r.settings.cta_color,this.settings.source=r.settings.slider_source,this.settings.css_settings_class="yotpo-visual-carousel",this.settings.widget_ref_name="visual_carousel_shop_now",this.settings.use_full_width="1"===String(r.settings.full_width),this.settings.per_page=r.settings.number_of_images||n,this.settings.sort=r.settings.sort);var a=new t.Modules.GallerySettings;a.overrideSettingsFromDiv(this.element,this.settings),self.analyticsContext.widget_class=a.getWidgetClass(o),this.show_tagged_products=!0,this.settings.images_to_display=this.calcDisplaySize(o,this.settings.use_full_width),self.analyticsContext.widget_settings=self.settings}return e.prototype=t.Widgets.Slider.prototype,e.selector=".yotpo.yotpo-visual-carousel",e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Testimonials=function(t){function e(t,e){var n=this;n.analyticsCategory="tab",n._controller=t,n.element=e||o(),n.sources={},n.settings={},"yotpo-testimonials-custom-tab"==n.element.id?(n.settings.per_page=10,n.settings.type="testimonials_custom_tab",delete u.resize,n.analyticsCategory="reviews_dedicated_page"):n.settings.type="testimonials",t.getWidgetByName("Main")&&t.getWidgetByName("Main").getSettings().tags&&(n.settings.tags=t.getWidgetByName("Main").getSettings().tags),n.element.getAttribute("data-product-readonly")?n.settings["data-product-readonly"]=!0:t.getWidgetByName("Main")&&t.getWidgetByName("Main").getSettings()["product-readonly"]&&(n.settings["data-product-readonly"]=!0),t.getWidgetByName("ShoppableGallery")&&t.getWidgetByName("ShoppableGallery").getSettings().yotpo_hosted_page&&(n.settings["hidden-widget"]=!0);var i="undefined"!=typeof t.getUserSetting("testimonials")?t.getUserSetting("testimonials").settings:null,s=i&&("both"==i.show_tab?i.default_tab:i.show_tab);if("product_tab"==s){var r=t.getWidgetByName("Main");null!=r&&(n.settings.pid=r.getSettings().pid)}for(var a in u)u.hasOwnProperty(a)&&n.on(a,u[a])}function o(){var t=document.createElement("div");return t.className="yotpo testimonials",document.body.appendChild(t),t}function n(){var e=this,o=e.getElement().getElementsByClassName("yotpo-testimonials-btn")[0],n=e.getElement().getElementsByClassName("close")[0];e.button=o,e.content=document.getElementById(o.getAttribute("href").substring(1)),o.onclick=function(){return t.currentAnalytics.trackUniqueEvent("tab","clicked_on"),e.open(),!1},n.onclick=function(){return e.close(),"undefined"!=typeof e.get("form")&&e.get("form").clean(),!1};var i=e.content.getElementsByClassName("yotpo-modal-mask")[0];i&&(i.onclick=n.onclick)}function i(){var e=this;e.tabs=new t.Tabs(e.getElement().getElementsByClassName("yotpo-nav")[0]),e.tabs.on("changed",function(t){r.call(e,t)})}function s(){for(var e=this,o=e._controller.getWidgetByName("Main"),n=e.tabs.getTabs(),i=0;i<n.length;++i){var s=n[i].getAttribute("data-content"),r=n[i].getAttribute("data-type");t.forEach(s.split(" "),function(n){var i=document.getElementById(n),s=t.hasClass(i,"yotpo-reviews")?"basic":"bottomline",a=r+"-"+s;e.sources[a]=new(t.Widgets[t.capitalize(s)])(e._controller,i),"site"==r&&(e.sources[a].settings.pid="yotpo_site_reviews",e.sources[a].settings.include_site_reviews=!0),"product"==r&&o&&(e.sources[a].settings.pid=o.getSettings().pid),e.sources[a].settings.reference="testimonials_widget_internal",e.sources[a].settings.hide_custom_fields=!0,e.sources[a].settings.per_page=e.getSettings().per_page,e.sources[a].settings.type=e.getSettings().type,e.sources[a].on("ready",function(){d.call(e)}),e.sources[a].trigger("ready"),e.sources[a].on("pageChanged",function(){setTimeout(function(){t.scrollToTop(e.sources[a].getElement())},300)})})}}function r(e){var o=this,n=e.element.getAttribute("data-type"),i=e.element.getAttribute("data-content");t.forEach(i.split(" "),function(e){var i=document.getElementById(e);if(!i.innerHTML.trim()||0==i.innerHTML.trim().length){var s=t.hasClass(i,"yotpo-reviews")?"basic":"bottomline",r=n+"-"+s;o.sources[r].refresh(),o.sources[r].on("ready",function(){var e=this.getElement().querySelector(".write-first-review-button");return e?void t.addEventListener(e,"click",function(){var e=o.getElement().querySelector(".yotpo-modal-bottom-line .write-review-button");t.simulateClickEvent(e)}):void c.call(this)})}});var s=o.getElement().querySelector("input[type=button]");"product"==n&&"undefined"==typeof o.getActiveSource().getSettings().pid?t.hide(s):t.show(s);var r=o.getElement().querySelector(".write-review-wrapper");t.removeClass(r,"visible"),r.style.display="none";for(var a=o.getElement().querySelectorAll(".yotpo-custom-tag-field"),l=0;l<a.length;l++)"site"==n?t.addClass(a[l],"yotpo-hidden"):t.removeClass(a[l],"yotpo-hidden")}function a(){var e=this,o=e.button.getAttribute("data-position"),n=function(t,e){var o={};if("horizontal"==e){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o.left=n/2-t.offsetWidth/2+"px"}else{var i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;o.top=i/2-t.offsetHeight/2+"px"}o["z-index"]=799;for(var s in o)o.hasOwnProperty(s)&&(t.style[s]=o[s])};if(/MSIE/.test(navigator.userAgent)){var i=parseInt(navigator.userAgent.toLowerCase().split("msie")[1].split(";")[0]);(i!=document.documentMode||9>i&&"horizontal"!=o)&&t.addClass(e.button,"use-image")}n(e.button,o),t.addEventListener(window,"resize",function(){n(e.button,o)})}function l(){var e=this.getElement().getElementsByClassName("yotpo-messages");e.length>0&&(this.messages=new t.Messages(e))}function c(){for(var e,o=this,n=o.getElement().getElementsByClassName("product-link"),i=0;e=n[i];i++)t.addEventListener(e,"click",function(){var e=this.getAttribute("data-product-id");t.currentAnalytics.trackEvent("reviews","clicked_on","product_name",e)})}function d(){var e,o=this;e="tab"==o.analyticsCategory?o.analyticsCategory+"_popup":o.analyticsCategory;for(var n=o.element.querySelectorAll(".yotpo-review"),i=0;i<n.length;i++){var s=n[i];t.currentAnalytics.trackReview(s,e,"loaded"),t.hoverAnalytics.register(s,function(){t.currentAnalytics.trackReview(this,e,"hovered")});var r=function(o){return function(){t.currentAnalytics.trackReview(o,e,"shown")}}(s);"reviews_dedicated_page"==e?t.currentInview.register(s,r):t.currentInview.registerinModal(s,r)}var a=n.length-1,l=a>0?"has_reviews":"no_reviews";t.currentAnalytics.trackUniqueEvent(o.analyticsCategory,"loaded",l),t.currentAnalytics.trackUniqueEvent(o.analyticsCategory,"shown"),t.hoverAnalytics.register(o.element,function(){t.currentAnalytics.trackUniqueEvent(o.analyticsCategory,"hovered")})}var u={};return e.selector=t.widgets.testimonials.selector,e.createsElement=function(e){return t.isMobile()?!1:"undefined"!=typeof e.testimonials_tab&&e.testimonials_tab!==!1},e.prototype.getMethod=function(){return"testimonials"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.getTabs=function(){return this.tabs},e.prototype.getAppKey=function(){return this._controller.getAppKey()},e.prototype.get=function(t){return this[t]},e.prototype.getActiveSource=function(){return this.sources[this.tabs.getActive().getAttribute("data-type")+"-basic"]},e.prototype.getProductInfo=function(){var e=this.tabs.getActive().getAttribute("data-type");if("product"==e&&"undefined"!=typeof this.getActiveSource().getSettings().pid)for(var o=this._controller.getWidgets(),n=0;n<o.length;++n)if(o[n]instanceof t.Widgets.Main)return o[n].getProductInfo();var i=this._controller.getUserSettings().account_settings.settings.name,s=this._controller.getUserSettings().account_settings.settings.domain,r="my.yotpo.com"===window.location.host?s:t.origin();return{sku:"yotpo_site_reviews",product_title:i,product_url:r,domain:r}},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.open=function(){var e=this;e.content.style.display="block",setTimeout(function(){t.addClass(e.content,"yotpo-modal-active"),e.trigger("resize"),t.currentInview.verifyInviewT()},10),t.currentAnalytics.trackUniqueEvent("tab_popup","loaded"),t.currentAnalytics.trackUniqueEvent("tab_popup","shown");var o=e.content.querySelector(".yotpo-modal-dialog");t.addEventListener(o,"click",function(){t.currentAnalytics.trackUniqueEvent("tab_popup","clicked_on")}),t.hoverAnalytics.register(o,function(){t.currentAnalytics.trackUniqueEvent(e.analyticsCategory+"_popup","hovered")})},e.prototype.close=function(){var e=this;t.removeClass(e.content,"yotpo-modal-active"),setTimeout(function(){e.content.style.display="none"},500)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},u={ready:function(){n.call(this),a.call(this),i.call(this),s.call(this),l.call(this),t.Modules.Handle.write.call(this,"review"),t.Modules.Handle.sources.call(this),t.Modules.Handle.semiWhiteLabel.call(this),c.call(this)},resize:function(){var t=this.element,e=t.getElementsByClassName("yotpo-modal-dialog")[0].offsetHeight,o=+(t.getElementsByClassName("yotpo-label")[0]||{}).offsetHeight,n=t.getElementsByClassName("yotpo-modal-header")[0].offsetHeight,i=t.getElementsByClassName("yotpo-modal-bottom-line")[0].offsetHeight,s=t.getElementsByClassName("yotpo-nav-primary")[0].offsetHeight,r=e-o-n-i-s;r>0&&(t.getElementsByClassName("yotpo-modal-body")[0].style.height=r+"px")}},e}(Yotpo);var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription,RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate;Room.prototype.on=function(t,e){this.handles[t]=e},Room.prototype["in"]=function(){this.signal=new WebSocket(this.signalServer+encodeURIComponent(this.me)),this.signal.onopen=this._signal_open.bind(this),this.signal.onclose=this._signal_close.bind(this),this.signal.onerror=this._signal_error.bind(this),this.signal.onmessage=this._signal_message.bind(this)},Room.prototype._signal_open=function(t){"function"==typeof this.handles.signal_open&&this.handles.signal_open(t)},Room.prototype._signal_close=function(t){this._clean(),"function"==typeof this.handles.signal_close&&this.handles.signal_close(t)},Room.prototype._signal_error=function(t){this._clean(),"function"==typeof this.handles.signal_error&&this.handles.signal_error(t)},Room.prototype._signalSend=function(t){this.signal.send(JSON.stringify(t))},Room.prototype._clean=function(){this.id=void 0,this.stream=void 0;for(var t in this.peers)this.peers[t].c.close(),delete this.peers[t];for(var t in this.channels)"open"===this.channels[t].readyState&&this.channels[t].close(),delete this.channels[t]},Room.prototype._newPeerConnection=function(){return new RTCPeerConnection({iceServers:this.iceServers})},Room.prototype.setStream=function(t){this.stream=t},Room.prototype.create=function(t){this._signalSend({For:"create",Room:t})},Room.prototype.join=function(t){this._signalSend({For:"join",Room:t})},Room.prototype.leave=function(){this._signalSend({For:"leave",Room:this.id})},Room.prototype.send=function(t){for(var e in this.channels)"open"===this.channels[e].readyState&&this.channels[e].send(t)},Room.prototype.peersCount=function(){var t=0;for(var e in this.peers)("connected"===this.peers[e].readyState||"completed"===this.peers[e].iceConnectionState)&&t++;return t},Room.prototype.channelsCount=function(){var t=0;for(var e in this.channels)"open"===this.channels[e].readyState&&t++;return t},Room.prototype._signal_message=function(t){var e=JSON.parse(t.data);switch(e.For){case"create":this.id=e.Room,"function"==typeof this.handles.message_create&&this.handles.message_create(e);break;case"join":this.id=e.Room,"function"==typeof this.handles.message_join&&this.handles.message_join(e);break;case"join_older":this._join_older(e);break;case"join_newer":this._join_newer(e);break;case"leave":this._clean(),"function"==typeof this.handles.message_leave&&this.handles.message_leave(e);break;case"icecandidate":this.peers[e.From].hasRSDP?this.peers[e.From].c.addIceCandidate(new RTCIceCandidate(e.Data)):this.peers[e.From].candidates.push(e.Data);break;case"offer":var o=this;o.peers[e.From].c.setRemoteDescription(new RTCSessionDescription(e.Data),function(){for(o.peers[e.From].hasRSDP=!0;;){var t=o.peers[e.From].candidates.shift();if(!t)break;o.peers[e.From].c.addIceCandidate(new RTCIceCandidate(t))}o.peers[e.From].c.createAnswer(function(t){o.peers[e.From].c.setLocalDescription(t,function(){o._signalSend({Room:o.id,From:o.me,To:e.From,For:"answer",Data:t})},function(){})},function(){})},function(){});break;case"answer":var o=this;o.peers[e.From].c.setRemoteDescription(new RTCSessionDescription(e.Data),function(){for(o.peers[e.From].hasRSDP=!0;;){var t=o.peers[e.From].candidates.shift();if(!t)break;o.peers[e.From].c.addIceCandidate(new RTCIceCandidate(t))}},function(){});break;case"notice":"function"==typeof this.handles.message_notice&&this.handles.message_notice(e)}},Room.prototype._join_older=function(t){var e=this,o=e._newPeerConnection();e.peers[t.Data]={c:void 0,hasRSDP:!1,candidates:[]},e.peers[t.Data].c=o,e.stream&&o.addStream(e.stream),o.onaddstream=function(o){"function"==typeof e.handles.stream_add&&e.handles.stream_add(t.Data,o.stream,o)},o.onremovestream=function(o){"function"==typeof e.handles.stream_remove&&e.handles.stream_remove(t.Data,o)},o.onicecandidate=function(o){o.candidate&&e._signalSend({Room:e.id,From:e.me,To:t.Data,For:"icecandidate",Data:o.candidate})};var n=o.createDataChannel(t.Data);n.onopen=function(o){e.channels[t.Data]=n,"function"==typeof e.handles.channel_open&&e.handles.channel_open(t.Data,o)},n.onmessage=function(o){"function"==typeof e.handles.channel_message&&e.handles.channel_message(t.Data,o.data,o)},n.onclose=function(o){"function"==typeof e.handles.channel_close&&e.handles.channel_close(t.Data,o)}},Room.prototype._join_newer=function(t){var e=this,o=e._newPeerConnection();e.peers[t.Data]={c:void 0,hasRSDP:!1,candidates:[]},e.peers[t.Data].c=o,e.stream&&o.addStream(e.stream),o.onaddstream=function(o){"function"==typeof e.handles.stream_add&&e.handles.stream_add(t.Data,o.stream,o)},o.onremovestream=function(o){"function"==typeof e.handles.stream_remove&&e.handles.stream_remove(t.Data,o)},o.onicecandidate=function(o){o.candidate&&e._signalSend({Room:e.id,From:e.me,To:t.Data,For:"icecandidate",Data:o.candidate})},o.oniceconnectionstatechange=function(n){"connected"===o.iceConnectionState&&"function"==typeof e.handles.peer_open&&e.handles.peer_open(t.Data,n),"completed"===o.iceConnectionState&&"function"==typeof e.handles.peer_open&&e.handles.peer_open(t.Data,n),"disconnected"===o.iceConnectionState&&"function"==typeof e.handles.peer_close&&e.handles.peer_close(t.Data,n),"closed"===o.iceConnectionState&&"function"==typeof e.handles.peer_close&&e.handles.peer_close(t.Data,n),"failed"===o.iceConnectionState&&"function"==typeof e.handles.peer_close&&e.handles.peer_close(t.Data,n)},o.onsignalingstatechange=function(){},o.ondatachannel=function(o){var n=o.channel;n.onopen=function(o){e.channels[t.Data]=n,"function"==typeof e.handles.channel_open&&e.handles.channel_open(t.Data,o)},n.onmessage=function(o){"function"==typeof e.handles.channel_message&&e.handles.channel_message(t.Data,o.data,o)},n.onclose=function(o){"function"==typeof e.handles.channel_close&&e.handles.channel_close(t.Data,o)}}};
/**
 * Widget Version
 *
 * @type {String}
*/
Yotpo.version = '2018-02-14_12-17-53';
/**
 * Yotpo hosts
 */
Yotpo.hosts = {"widget":{"dynamic":"w2.yotpo.com","static":"staticw2.yotpo.com"},"api":{"dynamic":"api.yotpo.com"},"b2b":{"dynamic":"my.yotpo.com"},"reviews_me":{"dynamic":"reviews.me"},"base":{"dynamic":"yotpo.com"}};

/**
 * Max batch methods per request
 */
Yotpo.maxBatchMethods = 50;

/**
 * All available Yotpo texts and thier translations
 *
 * @type {object} - Object of texts and translations
 */
Yotpo.texts = {
    read_more: 'Read More',
    read_less: 'Read Less'
}

Yotpo.defaultImages = {
    size_180: "https://staticw2.yotpo.com/assets/default_image_180px.jpg",
    size_656: "https://staticw2.yotpo.com/assets/default_image_656px.jpg",
    profile: "https://staticw2.yotpo.com/assets/default_profile.png"
}

/**
 * Share links for all social networks
 */
Yotpo.socialData = {
    facebook: {
        application_id: "226132034107547",
        consumer_secret: "b9ad48a854f00d3f2fe549e2cb9239f9",
        feed_link: "https://www.facebook.com/dialog/feed"
    },
    twitter: {
        intent_link: "https://twitter.com/intent/tweet"
    },
    google: {
        share_link: "https://plus.google.com/share"
    },
    linkedin: {
        share_link: "https://www.linkedin.com/shareArticle"
    }
}

Yotpo.feature_testing_groups = {}



/**
 * Print a message to the console
 *
 * @param message - message to print to log (string)
 * @param logType - Type of logging to use
 */
Yotpo.safeConsole = function(message, logType){
};

//////////////////////////////////////////////////
/////////////// Yotpo Initiation /////////////////
//////////////////////////////////////////////////

// NOTE!
// Don't declare any functions after this line of code
// this is the initialization of the Yotpo instance
if (typeof yotpo == 'undefined') {
    var yotpo = new Yotpo("StE7VChjtSXCKrEMcvJyh8T3Q3xQvN02RShTapLk", {"account_settings":{"settings":{"customer_language":"en","account_logo":"https://ddcfq0gxiontw.cloudfront.net/Account/63674/2945717/thumb.png?1479306901","domain":"la-leaf.myshopify.com","name":"Billowby"}},"reviews":false,"testimonials":{"settings":{"default_tab":"product_tab","show_tab":"both"}},"testimonials_tab":false,"questions_and_answers":{"settings":{"send_question_to_shoppers":"0","auto_publish_answers":"0","hide_answers":"0"}},"questions_and_answers_standalone":false,"vendor_review_creation":false,"language":"en","comments":{"settings":{"comments_visibility":"1"}},"async_create":{"settings":{}},"ads":false,"facebook_ads":false,"show_social_links":false,"host":"static","css_custom_host":null,"direction":"ltr","reporting_end_points":["p.yotpo.com"],"close_button":false,"version":"2018-02-14_12-17-53","prevent_duplicate_reviews":false,"custom_fields_info":{},"widget_rich_snippet":false,"carousel_settings":false,"review_with_pictures":false,"instagram_curation":false,"visual_carousel":false,"pictures_slider":false,"pictures_dedicated_page":false,"product_gallery":false,"shoppable_instagram":false,"load_only_widgets_on_page":false,"load_css_async":false,"ab_testing":false,"cookie_path":false});
    Yotpo.ready(function() {
        yotpo.init();
    });
}





